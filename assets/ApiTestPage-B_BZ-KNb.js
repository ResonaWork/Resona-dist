import{h as m,r as n,j as e,b as o,c as u,m as p,z as f,n as y}from"./index-Dujp5Lr2.js";const N=()=>{const{user:a,profile:s}=m(),[i,l]=n.useState(null),[c,d]=n.useState(!1),[x,g]=n.useState(""),r=async(b,h)=>{d(!0),g(b),l(null);try{const t=await h();l(t)}catch(t){l({error:t.message,details:t})}finally{d(!1)}};return a?e.jsxs("main",{className:"min-h-screen bg-dark text-white p-6 flex flex-col md:flex-row gap-6",children:[e.jsxs("aside",{className:"w-full md:w-1/3 bg-gray-800 p-4 rounded-lg shadow-lg overflow-y-auto max-h-[90vh]",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-primary font-poppins",children:"Painel de Testes API"}),e.jsxs("div",{className:"mb-4 p-2 bg-gray-900 rounded text-xs text-gray-400",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User ID (Auth):"})," ",a.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Profile ID:"})," ",(s==null?void 0:s.id)||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tipo:"})," ",(s==null?void 0:s.tipo)||"N/A"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"Usuários"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>r("Buscar Meu Perfil (Auth ID)",()=>o.getProfileByAuthId(a.id)),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Meu Perfil Completo"}),e.jsx("button",{onClick:()=>r("Listar Artistas",()=>o.getArtists({page:0,pageSize:5})),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Artistas (Top 5)"}),e.jsx("button",{onClick:()=>r("Listar Estabelecimentos",()=>o.getVenues({page:0,pageSize:5})),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Estabelecimentos"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"Contratos"}),e.jsx("div",{className:"space-y-2",children:e.jsx("button",{onClick:()=>s?r("Listar Meus Contratos",()=>u.listByProfile(s.id,s.tipo)):alert("Perfil não carregado"),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Meus Contratos"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"Mensagens"}),e.jsx("div",{className:"space-y-2",children:e.jsx("button",{onClick:()=>s?r("Minhas Conversas",()=>p.getConversations(s.id)):alert("Perfil não carregado"),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Minhas Conversas"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"Blog"}),e.jsx("div",{className:"space-y-2",children:e.jsx("button",{onClick:()=>r("Posts Publicados",()=>f.getPublishedPosts({page:0,pageSize:5})),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Posts"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"Notificações"}),e.jsx("div",{className:"space-y-2",children:e.jsx("button",{onClick:()=>s?r("Minhas Notificações",()=>y.getByUser(s.id)):alert("Perfil não carregado"),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Notificações"})})]})]})]}),e.jsxs("section",{className:"w-full md:w-2/3 bg-gray-900 p-6 rounded-lg shadow-inner border border-gray-700 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-700 pb-2",children:[e.jsxs("h3",{className:"font-bold text-lg",children:["Resultado: ",x]}),c&&e.jsx("span",{className:"text-yellow-400 animate-pulse",children:"Carregando..."})]}),e.jsx("div",{className:"flex-grow overflow-auto bg-black p-4 rounded text-sm font-mono text-green-400",children:i?e.jsx("pre",{children:JSON.stringify(i,null,2)}):e.jsx("p",{className:"text-gray-500",children:"Clique em um botão ao lado para testar a API."})})]})]}):e.jsxs("div",{className:"p-8 text-center text-white",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Teste de API"}),e.jsx("p",{className:"text-red-400",children:"Você precisa estar logado para testar a maioria das funções da API."}),e.jsx("a",{href:"/#/login",className:"text-primary underline mt-4 block",children:"Ir para Login"})]})};export{N as default};
