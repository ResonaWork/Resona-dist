const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DtY6-Fsc.js","assets/SearchIcon-MjG2DZax.js","assets/FileSignatureIcon-CmBG4TA0.js","assets/MapPinIcon-DNTilsAD.js","assets/StarIcon-BArH8VbG.js","assets/SparklesIcon-DHR1Msrx.js","assets/CheckCircleIcon-DnL8d6u2.js","assets/CalendarIcon-BXZAj3WT.js","assets/ChevronRightIcon-CtMtJQ1i.js","assets/SEO-DZhgm5SZ.js","assets/imageUtils-Cd4_Wmtl.js","assets/AboutPage-DwUcYkAN.js","assets/ShieldIcon-CHV5MXUY.js","assets/UsersIcon-BA3W_TPQ.js","assets/ContactPage-k-dDZMoF.js","assets/MailIcon-BAwHno-3.js","assets/ExclamationIcon-Db-Tesy4.js","assets/ArtistsPage-BIhOiGgc.js","assets/EmptyState-BezguQam.js","assets/MusicNoteIcon-BhzR0DHm.js","assets/VenuesPage-DyWhEIgR.js","assets/LoginPage-1d7VTT6r.js","assets/LockClosedIcon-CYYb6Zef.js","assets/EyeIcon-DZwZDCN-.js","assets/EyeOffIcon-5-kbNC89.js","assets/ArrowLeftIcon-D9NYIfog.js","assets/RegisterPage-XHGyfbd3.js","assets/UserCircleIcon-BjlMT3sF.js","assets/DashboardPage-9rgSB28E.js","assets/MessagesIcon-C2XB285W.js","assets/TrendingUpIcon-BDiu-erv.js","assets/CreditCardIcon-1jvdJ9y1.js","assets/UploadIcon-DHYswBFO.js","assets/ReviewList-CEoBBhD6.js","assets/PhotographIcon-YNNymKsl.js","assets/ChevronLeftIcon-Bii98FTr.js","assets/FileIcon-BuMCnDp3.js","assets/TrashIcon-DmhbgFxo.js","assets/ClockIcon-BA45UzMt.js","assets/PlusIcon-1LTGlZC2.js","assets/ConfirmationModal-eTFt2h49.js","assets/XCircleIcon-nbx8PMq9.js","assets/ContractsList-CCIWYIxn.js","assets/CreateContractModal-CksTaFlm.js","assets/financeUtils-CtoX7Xu7.js","assets/DownloadIcon-CExEpcWn.js","assets/TrophyIcon-BBVG337K.js","assets/ArtistProfilePage-DBgCQ3Po.js","assets/ShareIcon-BcdfYmPG.js","assets/VenueProfilePage-Dyxs0nEZ.js","assets/ForgotPasswordPage-Dv0rkzdu.js","assets/UpdatePasswordPage-BHeX5GYz.js","assets/CompleteProfilePage-BK_PPB0c.js","assets/BlogPage-DZ7Qiqyh.js","assets/BookOpenIcon-C-39mXOf.js","assets/BlogPostPage-CYI31mNd.js","assets/NotificationsPage-C-xbOUAE.js","assets/ContractsPage-Dux19vXn.js","assets/ContractDetailPage-g7l8raaN.js","assets/SignatureIcon-hEu4t2tZ.js","assets/PaymentModal-BqMM5sVC.js","assets/PlanosPage-FMFBfG7R.js","assets/NotFoundPage-DfCT7PrT.js","assets/createLucideIcon-CoTjAlCV.js","assets/TermsPage-B-Pe5WNn.js","assets/PrivacyPage-DCIPzVhG.js","assets/AdminLayout-BU1ClwP-.js","assets/ActivityIcon-B26MRSvs.js","assets/DashboardAdminPage-CYJlMA7Y.js","assets/UsersAdminPage-CAmNGVrp.js","assets/PayoutsAdminPage-CwdlsgXo.js","assets/VerificationsAdminPage-D3Q7hzJd.js","assets/ContractsAdminPage-MRMCR1oB.js","assets/ContentAdminPage-BVW2hdPl.js","assets/MessagesAdminPage-De9zbZBo.js","assets/StorageAdminPage-DkDfaPrH.js","assets/SettingsAdminPage-B9EXGMt9.js","assets/BlogAdminPage-DBwzcLLH.js","assets/WebhooksAdminPage-DiJZdJvN.js","assets/AnalyticsAdminPage-BFjcW8B2.js","assets/SystemHealthAdminPage-X79D9vrk.js"])))=>i.map(i=>d[i]);
var TT=Object.defineProperty;var wT=(t,e,n)=>e in t?TT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vn=(t,e,n)=>wT(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var Lk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zc={exports:{}},is={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function AT(){if(Ug)return is;Ug=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var f in s)f!=="key"&&(l[f]=s[f])}else l=s;return s=l.ref,{$$typeof:t,type:o,key:u,ref:s!==void 0?s:null,props:l}}return is.Fragment=e,is.jsx=n,is.jsxs=n,is}var kg;function CT(){return kg||(kg=1,Zc.exports=AT()),Zc.exports}var I=CT(),jc={exports:{}},os={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function bT(){return Og||(Og=1,(function(t){function e(G,W){var ue=G.length;G.push(W);e:for(;0<ue;){var ke=ue-1>>>1,qe=G[ke];if(0<s(qe,W))G[ke]=W,G[ue]=qe,ue=ke;else break e}}function n(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var W=G[0],ue=G.pop();if(ue!==W){G[0]=ue;e:for(var ke=0,qe=G.length,U=qe>>>1;ke<U;){var J=2*(ke+1)-1,Z=G[J],te=J+1,he=G[te];if(0>s(Z,ue))te<qe&&0>s(he,Z)?(G[ke]=he,G[te]=ue,ke=te):(G[ke]=Z,G[J]=ue,ke=J);else if(te<qe&&0>s(he,ue))G[ke]=he,G[te]=ue,ke=te;else break e}}return W}function s(G,W){var ue=G.sortIndex-W.sortIndex;return ue!==0?ue:G.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],h=[],y=1,_=null,E=3,T=!1,A=!1,b=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function B(G){for(var W=n(h);W!==null;){if(W.callback===null)o(h);else if(W.startTime<=G)o(h),W.sortIndex=W.expirationTime,e(p,W);else break;W=n(h)}}function K(G){if(b=!1,B(G),!A)if(n(p)!==null)A=!0,X||(X=!0,Fe());else{var W=n(h);W!==null&&wt(K,W.startTime-G)}}var X=!1,F=-1,ie=5,Y=-1;function de(){return C?!0:!(t.unstable_now()-Y<ie)}function Me(){if(C=!1,X){var G=t.unstable_now();Y=G;var W=!0;try{e:{A=!1,b&&(b=!1,k(F),F=-1),T=!0;var ue=E;try{t:{for(B(G),_=n(p);_!==null&&!(_.expirationTime>G&&de());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,E=_.priorityLevel;var qe=ke(_.expirationTime<=G);if(G=t.unstable_now(),typeof qe=="function"){_.callback=qe,B(G),W=!0;break t}_===n(p)&&o(p),B(G)}else o(p);_=n(p)}if(_!==null)W=!0;else{var U=n(h);U!==null&&wt(K,U.startTime-G),W=!1}}break e}finally{_=null,E=ue,T=!1}W=void 0}}finally{W?Fe():X=!1}}}var Fe;if(typeof x=="function")Fe=function(){x(Me)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,je=Ne.port2;Ne.port1.onmessage=Me,Fe=function(){je.postMessage(null)}}else Fe=function(){R(Me,0)};function wt(G,W){F=R(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(G){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var ue=E;E=W;try{return G()}finally{E=ue}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=E;E=G;try{return W()}finally{E=ue}},t.unstable_scheduleCallback=function(G,W,ue){var ke=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ke+ue:ke):ue=ke,G){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=ue+qe,G={id:y++,callback:W,priorityLevel:G,startTime:ue,expirationTime:qe,sortIndex:-1},ue>ke?(G.sortIndex=ue,e(h,G),n(p)===null&&G===n(h)&&(b?(k(F),F=-1):b=!0,wt(K,ue-ke))):(G.sortIndex=qe,e(p,G),A||T||(A=!0,X||(X=!0,Fe()))),G},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(G){var W=E;return function(){var ue=E;E=W;try{return G.apply(this,arguments)}finally{E=ue}}}})(td)),td}var Pg;function RT(){return Pg||(Pg=1,ed.exports=bT()),ed.exports}var nd={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function xT(){if(Lg)return fe;Lg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function R(U,J,Z){this.props=U,this.context=J,this.refs=C,this.updater=Z||A}R.prototype.isReactComponent={},R.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function k(){}k.prototype=R.prototype;function x(U,J,Z){this.props=U,this.context=J,this.refs=C,this.updater=Z||A}var B=x.prototype=new k;B.constructor=x,b(B,R.prototype),B.isPureReactComponent=!0;var K=Array.isArray;function X(){}var F={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function Y(U,J,Z){var te=Z.ref;return{$$typeof:t,type:U,key:J,ref:te!==void 0?te:null,props:Z}}function de(U,J){return Y(U.type,J,U.props)}function Me(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function Fe(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return J[Z]})}var Ne=/\/+/g;function je(U,J){return typeof U=="object"&&U!==null&&U.key!=null?Fe(""+U.key):J.toString(36)}function wt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(X,X):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function G(U,J,Z,te,he){var ve=typeof U;(ve==="undefined"||ve==="boolean")&&(U=null);var Ie=!1;if(U===null)Ie=!0;else switch(ve){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(U.$$typeof){case t:case e:Ie=!0;break;case y:return Ie=U._init,G(Ie(U._payload),J,Z,te,he)}}if(Ie)return he=he(U),Ie=te===""?"."+je(U,0):te,K(he)?(Z="",Ie!=null&&(Z=Ie.replace(Ne,"$&/")+"/"),G(he,J,Z,"",function(cr){return cr})):he!=null&&(Me(he)&&(he=de(he,Z+(he.key==null||U&&U.key===he.key?"":(""+he.key).replace(Ne,"$&/")+"/")+Ie)),J.push(he)),1;Ie=0;var _t=te===""?".":te+":";if(K(U))for(var Qe=0;Qe<U.length;Qe++)te=U[Qe],ve=_t+je(te,Qe),Ie+=G(te,J,Z,ve,he);else if(Qe=T(U),typeof Qe=="function")for(U=Qe.call(U),Qe=0;!(te=U.next()).done;)te=te.value,ve=_t+je(te,Qe++),Ie+=G(te,J,Z,ve,he);else if(ve==="object"){if(typeof U.then=="function")return G(wt(U),J,Z,te,he);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function W(U,J,Z){if(U==null)return U;var te=[],he=0;return G(U,te,"","",function(ve){return J.call(Z,ve,he++)}),te}function ue(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(Z){(U._status===0||U._status===-1)&&(U._status=1,U._result=Z)},function(Z){(U._status===0||U._status===-1)&&(U._status=2,U._result=Z)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var ke=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},qe={map:W,forEach:function(U,J,Z){W(U,function(){J.apply(this,arguments)},Z)},count:function(U){var J=0;return W(U,function(){J++}),J},toArray:function(U){return W(U,function(J){return J})||[]},only:function(U){if(!Me(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return fe.Activity=_,fe.Children=qe,fe.Component=R,fe.Fragment=n,fe.Profiler=s,fe.PureComponent=x,fe.StrictMode=o,fe.Suspense=p,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,fe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return F.H.useMemoCache(U)}},fe.cache=function(U){return function(){return U.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(U,J,Z){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var te=b({},U.props),he=U.key;if(J!=null)for(ve in J.key!==void 0&&(he=""+J.key),J)!ie.call(J,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&J.ref===void 0||(te[ve]=J[ve]);var ve=arguments.length-2;if(ve===1)te.children=Z;else if(1<ve){for(var Ie=Array(ve),_t=0;_t<ve;_t++)Ie[_t]=arguments[_t+2];te.children=Ie}return Y(U.type,he,te)},fe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},fe.createElement=function(U,J,Z){var te,he={},ve=null;if(J!=null)for(te in J.key!==void 0&&(ve=""+J.key),J)ie.call(J,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(he[te]=J[te]);var Ie=arguments.length-2;if(Ie===1)he.children=Z;else if(1<Ie){for(var _t=Array(Ie),Qe=0;Qe<Ie;Qe++)_t[Qe]=arguments[Qe+2];he.children=_t}if(U&&U.defaultProps)for(te in Ie=U.defaultProps,Ie)he[te]===void 0&&(he[te]=Ie[te]);return Y(U,ve,he)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(U){return{$$typeof:f,render:U}},fe.isValidElement=Me,fe.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ue}},fe.memo=function(U,J){return{$$typeof:h,type:U,compare:J===void 0?null:J}},fe.startTransition=function(U){var J=F.T,Z={};F.T=Z;try{var te=U(),he=F.S;he!==null&&he(Z,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(X,ke)}catch(ve){ke(ve)}finally{J!==null&&Z.types!==null&&(J.types=Z.types),F.T=J}},fe.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},fe.use=function(U){return F.H.use(U)},fe.useActionState=function(U,J,Z){return F.H.useActionState(U,J,Z)},fe.useCallback=function(U,J){return F.H.useCallback(U,J)},fe.useContext=function(U){return F.H.useContext(U)},fe.useDebugValue=function(){},fe.useDeferredValue=function(U,J){return F.H.useDeferredValue(U,J)},fe.useEffect=function(U,J){return F.H.useEffect(U,J)},fe.useEffectEvent=function(U){return F.H.useEffectEvent(U)},fe.useId=function(){return F.H.useId()},fe.useImperativeHandle=function(U,J,Z){return F.H.useImperativeHandle(U,J,Z)},fe.useInsertionEffect=function(U,J){return F.H.useInsertionEffect(U,J)},fe.useLayoutEffect=function(U,J){return F.H.useLayoutEffect(U,J)},fe.useMemo=function(U,J){return F.H.useMemo(U,J)},fe.useOptimistic=function(U,J){return F.H.useOptimistic(U,J)},fe.useReducer=function(U,J,Z){return F.H.useReducer(U,J,Z)},fe.useRef=function(U){return F.H.useRef(U)},fe.useState=function(U){return F.H.useState(U)},fe.useSyncExternalStore=function(U,J,Z){return F.H.useSyncExternalStore(U,J,Z)},fe.useTransition=function(){return F.H.useTransition()},fe.version="19.2.3",fe}var qg;function lf(){return qg||(qg=1,nd.exports=xT()),nd.exports}var id={exports:{}},yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function NT(){if(Hg)return yt;Hg=1;var t=lf();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,h,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:p,containerInfo:h,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,yt.createPortal=function(p,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(p,h,null,y)},yt.flushSync=function(p){var h=u.T,y=o.p;try{if(u.T=null,o.p=2,p)return p()}finally{u.T=h,o.p=y,o.d.f()}},yt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(p,h))},yt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},yt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var y=h.as,_=f(y,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,T=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?o.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):y==="script"&&o.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},yt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=f(h.as,h.crossOrigin);o.d.M(p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(p)},yt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,_=f(y,h.crossOrigin);o.d.L(p,y,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},yt.preloadModule=function(p,h){if(typeof p=="string")if(h){var y=f(h.as,h.crossOrigin);o.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(p)},yt.requestFormReset=function(p){o.d.r(p)},yt.unstable_batchedUpdates=function(p,h){return p(h)},yt.useFormState=function(p,h,y){return u.H.useFormState(p,h,y)},yt.useFormStatus=function(){return u.H.useHostTransitionStatus()},yt.version="19.2.3",yt}var Bg;function IT(){if(Bg)return id.exports;Bg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),id.exports=NT(),id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function MT(){if(Gg)return os;Gg=1;var t=RT(),e=lf(),n=IT();function o(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(o(188))}function h(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(o(188));return r!==i?null:i}for(var a=i,c=r;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(c=g.return,c!==null){a=c;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return p(g),i;if(v===c)return p(g),r;v=v.sibling}throw Error(o(188))}if(a.return!==c.return)a=g,c=v;else{for(var S=!1,w=g.child;w;){if(w===a){S=!0,a=g,c=v;break}if(w===c){S=!0,c=g,a=v;break}w=w.sibling}if(!S){for(w=v.child;w;){if(w===a){S=!0,a=v,c=g;break}if(w===c){S=!0,c=v,a=g;break}w=w.sibling}if(!S)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),x=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function Fe(i){return i===null||typeof i!="object"?null:(i=Me&&i[Me]||i["@@iterator"],typeof i=="function"?i:null)}var Ne=Symbol.for("react.client.reference");function je(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ne?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case K:return"Suspense";case X:return"SuspenseList";case Y:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case x:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case B:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return r=i.displayName||null,r!==null?r:je(i.type)||"Memo";case ie:r=i._payload,i=i._init;try{return je(i(r))}catch{}}return null}var wt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ke=[],qe=-1;function U(i){return{current:i}}function J(i){0>qe||(i.current=ke[qe],ke[qe]=null,qe--)}function Z(i,r){qe++,ke[qe]=i.current,i.current=r}var te=U(null),he=U(null),ve=U(null),Ie=U(null);function _t(i,r){switch(Z(ve,r),Z(he,i),Z(te,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?ng(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=ng(r),i=ig(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(te),Z(te,i)}function Qe(){J(te),J(he),J(ve)}function cr(i){i.memoizedState!==null&&Z(Ie,i);var r=te.current,a=ig(r,i.type);r!==a&&(Z(he,i),Z(te,a))}function Is(i){he.current===i&&(J(te),J(he)),Ie.current===i&&(J(Ie),jr._currentValue=ue)}var kl,Df;function bi(i){if(kl===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);kl=r&&r[1]||"",Df=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kl+i+Df}var Ol=!1;function Pl(i,r){if(!i||Ol)return"";Ol=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var q=H}Reflect.construct(i,[],$)}else{try{$.call()}catch(H){q=H}i.call($.prototype)}}else{try{throw Error()}catch(H){q=H}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),S=v[0],w=v[1];if(S&&w){var N=S.split(`
`),L=w.split(`
`);for(g=c=0;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;for(;g<L.length&&!L[g].includes("DetermineComponentFrameRoot");)g++;if(c===N.length||g===L.length)for(c=N.length-1,g=L.length-1;1<=c&&0<=g&&N[c]!==L[g];)g--;for(;1<=c&&0<=g;c--,g--)if(N[c]!==L[g]){if(c!==1||g!==1)do if(c--,g--,0>g||N[c]!==L[g]){var V=`
`+N[c].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=c&&0<=g);break}}}finally{Ol=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?bi(a):""}function j_(i,r){switch(i.tag){case 26:case 27:case 5:return bi(i.type);case 16:return bi("Lazy");case 13:return i.child!==r&&r!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Pl(i.type,!1);case 11:return Pl(i.type.render,!1);case 1:return Pl(i.type,!0);case 31:return bi("Activity");default:return""}}function Uf(i){try{var r="",a=null;do r+=j_(i,a),a=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ll=Object.prototype.hasOwnProperty,ql=t.unstable_scheduleCallback,Hl=t.unstable_cancelCallback,eE=t.unstable_shouldYield,tE=t.unstable_requestPaint,Dt=t.unstable_now,nE=t.unstable_getCurrentPriorityLevel,kf=t.unstable_ImmediatePriority,Of=t.unstable_UserBlockingPriority,Ms=t.unstable_NormalPriority,iE=t.unstable_LowPriority,Pf=t.unstable_IdlePriority,oE=t.log,rE=t.unstable_setDisableYieldValue,dr=null,Ut=null;function Wn(i){if(typeof oE=="function"&&rE(i),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(dr,i)}catch{}}var kt=Math.clz32?Math.clz32:lE,sE=Math.log,aE=Math.LN2;function lE(i){return i>>>=0,i===0?32:31-(sE(i)/aE|0)|0}var Ds=256,Us=262144,ks=4194304;function Ri(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Os(i,r,a){var c=i.pendingLanes;if(c===0)return 0;var g=0,v=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~v,c!==0?g=Ri(c):(S&=w,S!==0?g=Ri(S):a||(a=w&~i,a!==0&&(g=Ri(a))))):(w=c&~v,w!==0?g=Ri(w):S!==0?g=Ri(S):a||(a=c&~i,a!==0&&(g=Ri(a)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,a=r&-r,v>=a||v===32&&(a&4194048)!==0)?r:g}function fr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function uE(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(){var i=ks;return ks<<=1,(ks&62914560)===0&&(ks=4194304),i}function Bl(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function hr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cE(i,r,a,c,g,v){var S=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var w=i.entanglements,N=i.expirationTimes,L=i.hiddenUpdates;for(a=S&~a;0<a;){var V=31-kt(a),$=1<<V;w[V]=0,N[V]=-1;var q=L[V];if(q!==null)for(L[V]=null,V=0;V<q.length;V++){var H=q[V];H!==null&&(H.lane&=-536870913)}a&=~$}c!==0&&qf(i,c,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(S&~r))}function qf(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-kt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|a&261930}function Hf(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var c=31-kt(a),g=1<<c;g&r|i[c]&r&&(i[c]|=r),a&=~g}}function Bf(i,r){var a=r&-r;return a=(a&42)!==0?1:Gl(a),(a&(i.suspendedLanes|r))!==0?0:a}function Gl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Vl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gf(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:bg(i.type))}function Vf(i,r){var a=W.p;try{return W.p=i,r()}finally{W.p=a}}var Zn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Zn,At="__reactProps$"+Zn,eo="__reactContainer$"+Zn,zl="__reactEvents$"+Zn,dE="__reactListeners$"+Zn,fE="__reactHandles$"+Zn,zf="__reactResources$"+Zn,pr="__reactMarker$"+Zn;function $l(i){delete i[ct],delete i[At],delete i[zl],delete i[dE],delete i[fE]}function to(i){var r=i[ct];if(r)return r;for(var a=i.parentNode;a;){if(r=a[eo]||a[ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=cg(i);i!==null;){if(a=i[ct])return a;i=cg(i)}return r}i=a,a=i.parentNode}return null}function no(i){if(i=i[ct]||i[eo]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function mr(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(o(33))}function io(i){var r=i[zf];return r||(r=i[zf]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(i){i[pr]=!0}var $f=new Set,Ff={};function xi(i,r){oo(i,r),oo(i+"Capture",r)}function oo(i,r){for(Ff[i]=r,i=0;i<r.length;i++)$f.add(r[i])}var hE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jf={},Kf={};function pE(i){return Ll.call(Kf,i)?!0:Ll.call(Jf,i)?!1:hE.test(i)?Kf[i]=!0:(Jf[i]=!0,!1)}function Ps(i,r,a){if(pE(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Ls(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function An(i,r,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+c)}}function Kt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Yf(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mE(i,r,a){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(S){a=""+S,v.call(this,S)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Fl(i){if(!i._valueTracker){var r=Yf(i)?"checked":"value";i._valueTracker=mE(i,r,""+i[r])}}function Xf(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return i&&(c=Yf(i)?i.checked?"true":"false":i.value),i=c,i!==a?(r.setValue(i),!0):!1}function qs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gE=/[\n"\\]/g;function Yt(i){return i.replace(gE,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Jl(i,r,a,c,g,v,S,w){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),r!=null?S==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Kt(r)):i.value!==""+Kt(r)&&(i.value=""+Kt(r)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),r!=null?Kl(i,S,Kt(r)):a!=null?Kl(i,S,Kt(a)):c!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Kt(w):i.removeAttribute("name")}function Qf(i,r,a,c,g,v,S,w){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){Fl(i);return}a=a!=null?""+Kt(a):"",r=r!=null?""+Kt(r):a,w||r===i.value||(i.value=r),i.defaultValue=r}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),Fl(i)}function Kl(i,r,a){r==="number"&&qs(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ro(i,r,a,c){if(i=i.options,r){r={};for(var g=0;g<a.length;g++)r["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=r.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&c&&(i[a].defaultSelected=!0)}else{for(a=""+Kt(a),r=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Wf(i,r,a){if(r!=null&&(r=""+Kt(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Kt(a):""}function Zf(i,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(o(92));if(wt(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=Kt(r),i.defaultValue=a,c=i.textContent,c===a&&c!==""&&c!==null&&(i.value=c),Fl(i)}function so(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var yE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jf(i,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,a):typeof a!="number"||a===0||yE.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function eh(i,r,a){if(r!=null&&typeof r!="object")throw Error(o(62));if(i=i.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in r)c=r[g],r.hasOwnProperty(g)&&a[g]!==c&&jf(i,g,c)}else for(var v in r)r.hasOwnProperty(v)&&jf(i,v,r[v])}function Yl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_E=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(i){return _E.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Cn(){}var Xl=null;function Ql(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ao=null,lo=null;function th(i){var r=no(i);if(r&&(i=r.stateNode)){var a=i[At]||null;e:switch(i=r.stateNode,r.type){case"input":if(Jl(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Yt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==i&&c.form===i.form){var g=c[At]||null;if(!g)throw Error(o(90));Jl(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===i.form&&Xf(c)}break e;case"textarea":Wf(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ro(i,!!a.multiple,r,!1)}}}var Wl=!1;function nh(i,r,a){if(Wl)return i(r,a);Wl=!0;try{var c=i(r);return c}finally{if(Wl=!1,(ao!==null||lo!==null)&&(ba(),ao&&(r=ao,i=lo,lo=ao=null,th(r),i)))for(r=0;r<i.length;r++)th(i[r])}}function gr(i,r){var a=i.stateNode;if(a===null)return null;var c=a[At]||null;if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(o(231,r,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=!1;if(bn)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Zl=!1}var jn=null,jl=null,Bs=null;function ih(){if(Bs)return Bs;var i,r=jl,a=r.length,c,g="value"in jn?jn.value:jn.textContent,v=g.length;for(i=0;i<a&&r[i]===g[i];i++);var S=a-i;for(c=1;c<=S&&r[a-c]===g[v-c];c++);return Bs=g.slice(i,1<c?1-c:void 0)}function Gs(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Vs(){return!0}function oh(){return!1}function Ct(i){function r(a,c,g,v,S){this._reactName=a,this._targetInst=g,this.type=c,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(a=i[w],this[w]=a?a(v):v[w]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Vs:oh,this.isPropagationStopped=oh,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),r}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=Ct(Ni),vr=_({},Ni,{view:0,detail:0}),EE=Ct(vr),eu,tu,_r,$s=_({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_r&&(_r&&i.type==="mousemove"?(eu=i.screenX-_r.screenX,tu=i.screenY-_r.screenY):tu=eu=0,_r=i),eu)},movementY:function(i){return"movementY"in i?i.movementY:tu}}),rh=Ct($s),SE=_({},$s,{dataTransfer:0}),TE=Ct(SE),wE=_({},vr,{relatedTarget:0}),nu=Ct(wE),AE=_({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),CE=Ct(AE),bE=_({},Ni,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),RE=Ct(bE),xE=_({},Ni,{data:0}),sh=Ct(xE),NE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ME={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DE(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ME[i])?!!r[i]:!1}function iu(){return DE}var UE=_({},vr,{key:function(i){if(i.key){var r=NE[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Gs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?IE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(i){return i.type==="keypress"?Gs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kE=Ct(UE),OE=_({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=Ct(OE),PE=_({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),LE=Ct(PE),qE=_({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),HE=Ct(qE),BE=_({},$s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),GE=Ct(BE),VE=_({},Ni,{newState:0,oldState:0}),zE=Ct(VE),$E=[9,13,27,32],ou=bn&&"CompositionEvent"in window,Er=null;bn&&"documentMode"in document&&(Er=document.documentMode);var FE=bn&&"TextEvent"in window&&!Er,lh=bn&&(!ou||Er&&8<Er&&11>=Er),uh=" ",ch=!1;function dh(i,r){switch(i){case"keyup":return $E.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var uo=!1;function JE(i,r){switch(i){case"compositionend":return fh(r);case"keypress":return r.which!==32?null:(ch=!0,uh);case"textInput":return i=r.data,i===uh&&ch?null:i;default:return null}}function KE(i,r){if(uo)return i==="compositionend"||!ou&&dh(i,r)?(i=ih(),Bs=jl=jn=null,uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return lh&&r.locale!=="ko"?null:r.data;default:return null}}var YE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!YE[i.type]:r==="textarea"}function ph(i,r,a,c){ao?lo?lo.push(c):lo=[c]:ao=c,r=Ua(r,"onChange"),0<r.length&&(a=new zs("onChange","change",null,a,c),i.push({event:a,listeners:r}))}var Sr=null,Tr=null;function XE(i){Qm(i,0)}function Fs(i){var r=mr(i);if(Xf(r))return i}function mh(i,r){if(i==="change")return r}var gh=!1;if(bn){var ru;if(bn){var su="oninput"in document;if(!su){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),su=typeof yh.oninput=="function"}ru=su}else ru=!1;gh=ru&&(!document.documentMode||9<document.documentMode)}function vh(){Sr&&(Sr.detachEvent("onpropertychange",_h),Tr=Sr=null)}function _h(i){if(i.propertyName==="value"&&Fs(Tr)){var r=[];ph(r,Tr,i,Ql(i)),nh(XE,r)}}function QE(i,r,a){i==="focusin"?(vh(),Sr=r,Tr=a,Sr.attachEvent("onpropertychange",_h)):i==="focusout"&&vh()}function WE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fs(Tr)}function ZE(i,r){if(i==="click")return Fs(r)}function jE(i,r){if(i==="input"||i==="change")return Fs(r)}function eS(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ot=typeof Object.is=="function"?Object.is:eS;function wr(i,r){if(Ot(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var g=a[c];if(!Ll.call(r,g)||!Ot(i[g],r[g]))return!1}return!0}function Eh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sh(i,r){var a=Eh(i);i=0;for(var c;a;){if(a.nodeType===3){if(c=i+a.textContent.length,i<=r&&c>=r)return{node:a,offset:r-i};i=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eh(a)}}function Th(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Th(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function wh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=qs(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=qs(i.document)}return r}function au(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var tS=bn&&"documentMode"in document&&11>=document.documentMode,co=null,lu=null,Ar=null,uu=!1;function Ah(i,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uu||co==null||co!==qs(c)||(c=co,"selectionStart"in c&&au(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ar&&wr(Ar,c)||(Ar=c,c=Ua(lu,"onSelect"),0<c.length&&(r=new zs("onSelect","select",null,r,a),i.push({event:r,listeners:c}),r.target=co)))}function Ii(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var fo={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},cu={},Ch={};bn&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Mi(i){if(cu[i])return cu[i];if(!fo[i])return i;var r=fo[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ch)return cu[i]=r[a];return i}var bh=Mi("animationend"),Rh=Mi("animationiteration"),xh=Mi("animationstart"),nS=Mi("transitionrun"),iS=Mi("transitionstart"),oS=Mi("transitioncancel"),Nh=Mi("transitionend"),Ih=new Map,du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");du.push("scrollEnd");function un(i,r){Ih.set(i,r),xi(r,[i])}var Js=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Xt=[],ho=0,fu=0;function Ks(){for(var i=ho,r=fu=ho=0;r<i;){var a=Xt[r];Xt[r++]=null;var c=Xt[r];Xt[r++]=null;var g=Xt[r];Xt[r++]=null;var v=Xt[r];if(Xt[r++]=null,c!==null&&g!==null){var S=c.pending;S===null?g.next=g:(g.next=S.next,S.next=g),c.pending=g}v!==0&&Mh(a,g,v)}}function Ys(i,r,a,c){Xt[ho++]=i,Xt[ho++]=r,Xt[ho++]=a,Xt[ho++]=c,fu|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function hu(i,r,a,c){return Ys(i,r,a,c),Xs(i)}function Di(i,r){return Ys(i,null,null,r),Xs(i)}function Mh(i,r,a){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a);for(var g=!1,v=i.return;v!==null;)v.childLanes|=a,c=v.alternate,c!==null&&(c.childLanes|=a),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-kt(a),i=v.hiddenUpdates,c=i[g],c===null?i[g]=[r]:c.push(r),r.lane=a|536870912),v):null}function Xs(i){if(50<Jr)throw Jr=0,Tc=null,Error(o(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var po={};function rS(i,r,a,c){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(i,r,a,c){return new rS(i,r,a,c)}function pu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Rn(i,r){var a=i.alternate;return a===null?(a=Pt(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Dh(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Qs(i,r,a,c,g,v){var S=0;if(c=i,typeof i=="function")pu(i)&&(S=1);else if(typeof i=="string")S=cT(i,a,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Y:return i=Pt(31,a,r,g),i.elementType=Y,i.lanes=v,i;case b:return Ui(a.children,g,v,r);case C:S=8,g|=24;break;case R:return i=Pt(12,a,r,g|2),i.elementType=R,i.lanes=v,i;case K:return i=Pt(13,a,r,g),i.elementType=K,i.lanes=v,i;case X:return i=Pt(19,a,r,g),i.elementType=X,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:S=10;break e;case k:S=9;break e;case B:S=11;break e;case F:S=14;break e;case ie:S=16,c=null;break e}S=29,a=Error(o(130,i===null?"null":typeof i,"")),c=null}return r=Pt(S,a,r,g),r.elementType=i,r.type=c,r.lanes=v,r}function Ui(i,r,a,c){return i=Pt(7,i,c,r),i.lanes=a,i}function mu(i,r,a){return i=Pt(6,i,null,r),i.lanes=a,i}function Uh(i){var r=Pt(18,null,null,0);return r.stateNode=i,r}function gu(i,r,a){return r=Pt(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var kh=new WeakMap;function Qt(i,r){if(typeof i=="object"&&i!==null){var a=kh.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Uf(r)},kh.set(i,r),r)}return{value:i,source:r,stack:Uf(r)}}var mo=[],go=0,Ws=null,Cr=0,Wt=[],Zt=0,ei=null,En=1,Sn="";function xn(i,r){mo[go++]=Cr,mo[go++]=Ws,Ws=i,Cr=r}function Oh(i,r,a){Wt[Zt++]=En,Wt[Zt++]=Sn,Wt[Zt++]=ei,ei=i;var c=En;i=Sn;var g=32-kt(c)-1;c&=~(1<<g),a+=1;var v=32-kt(r)+g;if(30<v){var S=g-g%5;v=(c&(1<<S)-1).toString(32),c>>=S,g-=S,En=1<<32-kt(r)+g|a<<g|c,Sn=v+i}else En=1<<v|a<<g|c,Sn=i}function yu(i){i.return!==null&&(xn(i,1),Oh(i,1,0))}function vu(i){for(;i===Ws;)Ws=mo[--go],mo[go]=null,Cr=mo[--go],mo[go]=null;for(;i===ei;)ei=Wt[--Zt],Wt[Zt]=null,Sn=Wt[--Zt],Wt[Zt]=null,En=Wt[--Zt],Wt[Zt]=null}function Ph(i,r){Wt[Zt++]=En,Wt[Zt++]=Sn,Wt[Zt++]=ei,En=r.id,Sn=r.overflow,ei=i}var dt=null,Ge=null,we=!1,ti=null,jt=!1,_u=Error(o(519));function ni(i){var r=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw br(Qt(r,i)),_u}function Lh(i){var r=i.stateNode,a=i.type,c=i.memoizedProps;switch(r[ct]=i,r[At]=c,a){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(a=0;a<Yr.length;a++)Ee(Yr[a],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Ee("invalid",r),Qf(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ee("invalid",r);break;case"textarea":Ee("invalid",r),Zf(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||eg(r.textContent,a)?(c.popover!=null&&(Ee("beforetoggle",r),Ee("toggle",r)),c.onScroll!=null&&Ee("scroll",r),c.onScrollEnd!=null&&Ee("scrollend",r),c.onClick!=null&&(r.onclick=Cn),r=!0):r=!1,r||ni(i,!0)}function qh(i){for(dt=i.return;dt;)switch(dt.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:dt=dt.return}}function yo(i){if(i!==dt)return!1;if(!we)return qh(i),we=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Lc(i.type,i.memoizedProps)),a=!a),a&&Ge&&ni(i),qh(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));Ge=ug(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));Ge=ug(i)}else r===27?(r=Ge,gi(i.type)?(i=Vc,Vc=null,Ge=i):Ge=r):Ge=dt?tn(i.stateNode.nextSibling):null;return!0}function ki(){Ge=dt=null,we=!1}function Eu(){var i=ti;return i!==null&&(Nt===null?Nt=i:Nt.push.apply(Nt,i),ti=null),i}function br(i){ti===null?ti=[i]:ti.push(i)}var Su=U(null),Oi=null,Nn=null;function ii(i,r,a){Z(Su,r._currentValue),r._currentValue=a}function In(i){i._currentValue=Su.current,J(Su)}function Tu(i,r,a){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===a)break;i=i.return}}function wu(i,r,a,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var S=g.child;v=v.firstContext;e:for(;v!==null;){var w=v;v=g;for(var N=0;N<r.length;N++)if(w.context===r[N]){v.lanes|=a,w=v.alternate,w!==null&&(w.lanes|=a),Tu(v.return,a,i),c||(S=null);break e}v=w.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(o(341));S.lanes|=a,v=S.alternate,v!==null&&(v.lanes|=a),Tu(S,a,i),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===i){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function vo(i,r,a,c){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var w=g.type;Ot(g.pendingProps.value,S.value)||(i!==null?i.push(w):i=[w])}}else if(g===Ie.current){if(S=g.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(jr):i=[jr])}g=g.return}i!==null&&wu(r,i,a,c),r.flags|=262144}function Zs(i){for(i=i.firstContext;i!==null;){if(!Ot(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Pi(i){Oi=i,Nn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ft(i){return Hh(Oi,i)}function js(i,r){return Oi===null&&Pi(i),Hh(i,r)}function Hh(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Nn===null){if(i===null)throw Error(o(308));Nn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Nn=Nn.next=r;return a}var sS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},aS=t.unstable_scheduleCallback,lS=t.unstable_NormalPriority,et={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new sS,data:new Map,refCount:0}}function Rr(i){i.refCount--,i.refCount===0&&aS(lS,function(){i.controller.abort()})}var xr=null,Cu=0,_o=0,Eo=null;function uS(i,r){if(xr===null){var a=xr=[];Cu=0,_o=xc(),Eo={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Cu++,r.then(Bh,Bh),r}function Bh(){if(--Cu===0&&xr!==null){Eo!==null&&(Eo.status="fulfilled");var i=xr;xr=null,_o=0,Eo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function cS(i,r){var a=[],c={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var g=0;g<a.length;g++)(0,a[g])(r)},function(g){for(c.status="rejected",c.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),c}var Gh=G.S;G.S=function(i,r){Am=Dt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&uS(i,r),Gh!==null&&Gh(i,r)};var Li=U(null);function bu(){var i=Li.current;return i!==null?i:He.pooledCache}function ea(i,r){r===null?Z(Li,Li.current):Z(Li,r.pool)}function Vh(){var i=bu();return i===null?null:{parent:et._currentValue,pool:i}}var So=Error(o(460)),Ru=Error(o(474)),ta=Error(o(542)),na={then:function(){}};function zh(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $h(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Cn,Cn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Jh(i),i;default:if(typeof r.status=="string")r.then(Cn,Cn);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(o(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=c}},function(c){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Jh(i),i}throw Hi=r,So}}function qi(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hi=a,So):a}}var Hi=null;function Fh(){if(Hi===null)throw Error(o(459));var i=Hi;return Hi=null,i}function Jh(i){if(i===So||i===ta)throw Error(o(483))}var To=null,Nr=0;function ia(i){var r=Nr;return Nr+=1,To===null&&(To=[]),$h(To,i,r)}function Ir(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function oa(i,r){throw r.$$typeof===E?Error(o(525)):(i=Object.prototype.toString.call(r),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Kh(i){function r(O,D){if(i){var P=O.deletions;P===null?(O.deletions=[D],O.flags|=16):P.push(D)}}function a(O,D){if(!i)return null;for(;D!==null;)r(O,D),D=D.sibling;return null}function c(O){for(var D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function g(O,D){return O=Rn(O,D),O.index=0,O.sibling=null,O}function v(O,D,P){return O.index=P,i?(P=O.alternate,P!==null?(P=P.index,P<D?(O.flags|=67108866,D):P):(O.flags|=67108866,D)):(O.flags|=1048576,D)}function S(O){return i&&O.alternate===null&&(O.flags|=67108866),O}function w(O,D,P,z){return D===null||D.tag!==6?(D=mu(P,O.mode,z),D.return=O,D):(D=g(D,P),D.return=O,D)}function N(O,D,P,z){var re=P.type;return re===b?V(O,D,P.props.children,z,P.key):D!==null&&(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ie&&qi(re)===D.type)?(D=g(D,P.props),Ir(D,P),D.return=O,D):(D=Qs(P.type,P.key,P.props,null,O.mode,z),Ir(D,P),D.return=O,D)}function L(O,D,P,z){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=gu(P,O.mode,z),D.return=O,D):(D=g(D,P.children||[]),D.return=O,D)}function V(O,D,P,z,re){return D===null||D.tag!==7?(D=Ui(P,O.mode,z,re),D.return=O,D):(D=g(D,P),D.return=O,D)}function $(O,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=mu(""+D,O.mode,P),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case T:return P=Qs(D.type,D.key,D.props,null,O.mode,P),Ir(P,D),P.return=O,P;case A:return D=gu(D,O.mode,P),D.return=O,D;case ie:return D=qi(D),$(O,D,P)}if(wt(D)||Fe(D))return D=Ui(D,O.mode,P,null),D.return=O,D;if(typeof D.then=="function")return $(O,ia(D),P);if(D.$$typeof===x)return $(O,js(O,D),P);oa(O,D)}return null}function q(O,D,P,z){var re=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return re!==null?null:w(O,D,""+P,z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return P.key===re?N(O,D,P,z):null;case A:return P.key===re?L(O,D,P,z):null;case ie:return P=qi(P),q(O,D,P,z)}if(wt(P)||Fe(P))return re!==null?null:V(O,D,P,z,null);if(typeof P.then=="function")return q(O,D,ia(P),z);if(P.$$typeof===x)return q(O,D,js(O,P),z);oa(O,P)}return null}function H(O,D,P,z,re){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return O=O.get(P)||null,w(D,O,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return O=O.get(z.key===null?P:z.key)||null,N(D,O,z,re);case A:return O=O.get(z.key===null?P:z.key)||null,L(D,O,z,re);case ie:return z=qi(z),H(O,D,P,z,re)}if(wt(z)||Fe(z))return O=O.get(P)||null,V(D,O,z,re,null);if(typeof z.then=="function")return H(O,D,P,ia(z),re);if(z.$$typeof===x)return H(O,D,P,js(D,z),re);oa(D,z)}return null}function ee(O,D,P,z){for(var re=null,Ce=null,ne=D,ge=D=0,Te=null;ne!==null&&ge<P.length;ge++){ne.index>ge?(Te=ne,ne=null):Te=ne.sibling;var be=q(O,ne,P[ge],z);if(be===null){ne===null&&(ne=Te);break}i&&ne&&be.alternate===null&&r(O,ne),D=v(be,D,ge),Ce===null?re=be:Ce.sibling=be,Ce=be,ne=Te}if(ge===P.length)return a(O,ne),we&&xn(O,ge),re;if(ne===null){for(;ge<P.length;ge++)ne=$(O,P[ge],z),ne!==null&&(D=v(ne,D,ge),Ce===null?re=ne:Ce.sibling=ne,Ce=ne);return we&&xn(O,ge),re}for(ne=c(ne);ge<P.length;ge++)Te=H(ne,O,ge,P[ge],z),Te!==null&&(i&&Te.alternate!==null&&ne.delete(Te.key===null?ge:Te.key),D=v(Te,D,ge),Ce===null?re=Te:Ce.sibling=Te,Ce=Te);return i&&ne.forEach(function(Si){return r(O,Si)}),we&&xn(O,ge),re}function se(O,D,P,z){if(P==null)throw Error(o(151));for(var re=null,Ce=null,ne=D,ge=D=0,Te=null,be=P.next();ne!==null&&!be.done;ge++,be=P.next()){ne.index>ge?(Te=ne,ne=null):Te=ne.sibling;var Si=q(O,ne,be.value,z);if(Si===null){ne===null&&(ne=Te);break}i&&ne&&Si.alternate===null&&r(O,ne),D=v(Si,D,ge),Ce===null?re=Si:Ce.sibling=Si,Ce=Si,ne=Te}if(be.done)return a(O,ne),we&&xn(O,ge),re;if(ne===null){for(;!be.done;ge++,be=P.next())be=$(O,be.value,z),be!==null&&(D=v(be,D,ge),Ce===null?re=be:Ce.sibling=be,Ce=be);return we&&xn(O,ge),re}for(ne=c(ne);!be.done;ge++,be=P.next())be=H(ne,O,ge,be.value,z),be!==null&&(i&&be.alternate!==null&&ne.delete(be.key===null?ge:be.key),D=v(be,D,ge),Ce===null?re=be:Ce.sibling=be,Ce=be);return i&&ne.forEach(function(ST){return r(O,ST)}),we&&xn(O,ge),re}function Le(O,D,P,z){if(typeof P=="object"&&P!==null&&P.type===b&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case T:e:{for(var re=P.key;D!==null;){if(D.key===re){if(re=P.type,re===b){if(D.tag===7){a(O,D.sibling),z=g(D,P.props.children),z.return=O,O=z;break e}}else if(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ie&&qi(re)===D.type){a(O,D.sibling),z=g(D,P.props),Ir(z,P),z.return=O,O=z;break e}a(O,D);break}else r(O,D);D=D.sibling}P.type===b?(z=Ui(P.props.children,O.mode,z,P.key),z.return=O,O=z):(z=Qs(P.type,P.key,P.props,null,O.mode,z),Ir(z,P),z.return=O,O=z)}return S(O);case A:e:{for(re=P.key;D!==null;){if(D.key===re)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(O,D.sibling),z=g(D,P.children||[]),z.return=O,O=z;break e}else{a(O,D);break}else r(O,D);D=D.sibling}z=gu(P,O.mode,z),z.return=O,O=z}return S(O);case ie:return P=qi(P),Le(O,D,P,z)}if(wt(P))return ee(O,D,P,z);if(Fe(P)){if(re=Fe(P),typeof re!="function")throw Error(o(150));return P=re.call(P),se(O,D,P,z)}if(typeof P.then=="function")return Le(O,D,ia(P),z);if(P.$$typeof===x)return Le(O,D,js(O,P),z);oa(O,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(O,D.sibling),z=g(D,P),z.return=O,O=z):(a(O,D),z=mu(P,O.mode,z),z.return=O,O=z),S(O)):a(O,D)}return function(O,D,P,z){try{Nr=0;var re=Le(O,D,P,z);return To=null,re}catch(ne){if(ne===So||ne===ta)throw ne;var Ce=Pt(29,ne,null,O.mode);return Ce.lanes=z,Ce.return=O,Ce}finally{}}}var Bi=Kh(!0),Yh=Kh(!1),oi=!1;function xu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ri(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function si(i,r,a){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(xe&2)!==0){var g=c.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),c.pending=r,r=Xs(i),Mh(i,null,a),r}return Ys(i,c,r,a),Xs(i)}function Mr(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,a|=c,r.lanes=a,Hf(i,a)}}function Iu(i,r){var a=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=S:v=v.next=S,a=a.next}while(a!==null);v===null?g=v=r:v=v.next=r}else g=v=r;a={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Mu=!1;function Dr(){if(Mu){var i=Eo;if(i!==null)throw i}}function Ur(i,r,a,c){Mu=!1;var g=i.updateQueue;oi=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var N=w,L=N.next;N.next=null,S===null?v=L:S.next=L,S=N;var V=i.alternate;V!==null&&(V=V.updateQueue,w=V.lastBaseUpdate,w!==S&&(w===null?V.firstBaseUpdate=L:w.next=L,V.lastBaseUpdate=N))}if(v!==null){var $=g.baseState;S=0,V=L=N=null,w=v;do{var q=w.lane&-536870913,H=q!==w.lane;if(H?(Se&q)===q:(c&q)===q){q!==0&&q===_o&&(Mu=!0),V!==null&&(V=V.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ee=i,se=w;q=r;var Le=a;switch(se.tag){case 1:if(ee=se.payload,typeof ee=="function"){$=ee.call(Le,$,q);break e}$=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=se.payload,q=typeof ee=="function"?ee.call(Le,$,q):ee,q==null)break e;$=_({},$,q);break e;case 2:oi=!0}}q=w.callback,q!==null&&(i.flags|=64,H&&(i.flags|=8192),H=g.callbacks,H===null?g.callbacks=[q]:H.push(q))}else H={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},V===null?(L=V=H,N=$):V=V.next=H,S|=q;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;H=w,w=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);V===null&&(N=$),g.baseState=N,g.firstBaseUpdate=L,g.lastBaseUpdate=V,v===null&&(g.shared.lanes=0),di|=S,i.lanes=S,i.memoizedState=$}}function Xh(i,r){if(typeof i!="function")throw Error(o(191,i));i.call(r)}function Qh(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Xh(a[i],r)}var wo=U(null),ra=U(0);function Wh(i,r){i=Hn,Z(ra,i),Z(wo,r),Hn=i|r.baseLanes}function Du(){Z(ra,Hn),Z(wo,wo.current)}function Uu(){Hn=ra.current,J(wo),J(ra)}var Lt=U(null),en=null;function ai(i){var r=i.alternate;Z(We,We.current&1),Z(Lt,i),en===null&&(r===null||wo.current!==null||r.memoizedState!==null)&&(en=i)}function ku(i){Z(We,We.current),Z(Lt,i),en===null&&(en=i)}function Zh(i){i.tag===22?(Z(We,We.current),Z(Lt,i),en===null&&(en=i)):li()}function li(){Z(We,We.current),Z(Lt,Lt.current)}function qt(i){J(Lt),en===i&&(en=null),J(We)}var We=U(0);function sa(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bc(a)||Gc(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Mn=0,pe=null,Oe=null,tt=null,aa=!1,Ao=!1,Gi=!1,la=0,kr=0,Co=null,dS=0;function Ke(){throw Error(o(321))}function Ou(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Ot(i[a],r[a]))return!1;return!0}function Pu(i,r,a,c,g,v){return Mn=v,pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=i===null||i.memoizedState===null?Op:Wu,Gi=!1,v=a(c,g),Gi=!1,Ao&&(v=ep(r,a,c,g)),jh(i),v}function jh(i){G.H=Lr;var r=Oe!==null&&Oe.next!==null;if(Mn=0,tt=Oe=pe=null,aa=!1,kr=0,Co=null,r)throw Error(o(300));i===null||nt||(i=i.dependencies,i!==null&&Zs(i)&&(nt=!0))}function ep(i,r,a,c){pe=i;var g=0;do{if(Ao&&(Co=null),kr=0,Ao=!1,25<=g)throw Error(o(301));if(g+=1,tt=Oe=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}G.H=Pp,v=r(a,c)}while(Ao);return v}function fS(){var i=G.H,r=i.useState()[0];return r=typeof r.then=="function"?Or(r):r,i=i.useState()[0],(Oe!==null?Oe.memoizedState:null)!==i&&(pe.flags|=1024),r}function Lu(){var i=la!==0;return la=0,i}function qu(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Hu(i){if(aa){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}aa=!1}Mn=0,tt=Oe=pe=null,Ao=!1,kr=la=0,Co=null}function Et(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?pe.memoizedState=tt=i:tt=tt.next=i,tt}function Ze(){if(Oe===null){var i=pe.alternate;i=i!==null?i.memoizedState:null}else i=Oe.next;var r=tt===null?pe.memoizedState:tt.next;if(r!==null)tt=r,Oe=i;else{if(i===null)throw pe.alternate===null?Error(o(467)):Error(o(310));Oe=i,i={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},tt===null?pe.memoizedState=tt=i:tt=tt.next=i}return tt}function ua(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Or(i){var r=kr;return kr+=1,Co===null&&(Co=[]),i=$h(Co,i,r),r=pe,(tt===null?r.memoizedState:tt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?Op:Wu),i}function ca(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Or(i);if(i.$$typeof===x)return ft(i)}throw Error(o(438,String(i)))}function Bu(i){var r=null,a=pe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ua(),pe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),c=0;c<i;c++)a[c]=de;return r.index++,a}function Dn(i,r){return typeof r=="function"?r(i):r}function da(i){var r=Ze();return Gu(r,Oe,i)}function Gu(i,r,a){var c=i.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var g=i.baseQueue,v=c.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}r.baseQueue=g=v,c.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var w=S=null,N=null,L=r,V=!1;do{var $=L.lane&-536870913;if($!==L.lane?(Se&$)===$:(Mn&$)===$){var q=L.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),$===_o&&(V=!0);else if((Mn&q)===q){L=L.next,q===_o&&(V=!0);continue}else $={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(w=N=$,S=v):N=N.next=$,pe.lanes|=q,di|=q;$=L.action,Gi&&a(v,$),v=L.hasEagerState?L.eagerState:a(v,$)}else q={lane:$,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(w=N=q,S=v):N=N.next=q,pe.lanes|=$,di|=$;L=L.next}while(L!==null&&L!==r);if(N===null?S=v:N.next=w,!Ot(v,i.memoizedState)&&(nt=!0,V&&(a=Eo,a!==null)))throw a;i.memoizedState=v,i.baseState=S,i.baseQueue=N,c.lastRenderedState=v}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Vu(i){var r=Ze(),a=r.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=i;var c=a.dispatch,g=a.pending,v=r.memoizedState;if(g!==null){a.pending=null;var S=g=g.next;do v=i(v,S.action),S=S.next;while(S!==g);Ot(v,r.memoizedState)||(nt=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),a.lastRenderedState=v}return[v,c]}function tp(i,r,a){var c=pe,g=Ze(),v=we;if(v){if(a===void 0)throw Error(o(407));a=a()}else a=r();var S=!Ot((Oe||g).memoizedState,a);if(S&&(g.memoizedState=a,nt=!0),g=g.queue,Fu(op.bind(null,c,g,i),[i]),g.getSnapshot!==r||S||tt!==null&&tt.memoizedState.tag&1){if(c.flags|=2048,bo(9,{destroy:void 0},ip.bind(null,c,g,a,r),null),He===null)throw Error(o(349));v||(Mn&127)!==0||np(c,r,a)}return a}function np(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=pe.updateQueue,r===null?(r=ua(),pe.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function ip(i,r,a,c){r.value=a,r.getSnapshot=c,rp(r)&&sp(i)}function op(i,r,a){return a(function(){rp(r)&&sp(i)})}function rp(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Ot(i,a)}catch{return!0}}function sp(i){var r=Di(i,2);r!==null&&It(r,i,2)}function zu(i){var r=Et();if(typeof i=="function"){var a=i;if(i=a(),Gi){Wn(!0);try{a()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:i},r}function ap(i,r,a,c){return i.baseState=a,Gu(i,Oe,typeof c=="function"?c:Dn)}function hS(i,r,a,c,g){if(pa(i))throw Error(o(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};G.T!==null?a(!0):v.isTransition=!1,c(v),a=r.pending,a===null?(v.next=r.pending=v,lp(r,v)):(v.next=a.next,r.pending=a.next=v)}}function lp(i,r){var a=r.action,c=r.payload,g=i.state;if(r.isTransition){var v=G.T,S={};G.T=S;try{var w=a(g,c),N=G.S;N!==null&&N(S,w),up(i,r,w)}catch(L){$u(i,r,L)}finally{v!==null&&S.types!==null&&(v.types=S.types),G.T=v}}else try{v=a(g,c),up(i,r,v)}catch(L){$u(i,r,L)}}function up(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){cp(i,r,c)},function(c){return $u(i,r,c)}):cp(i,r,a)}function cp(i,r,a){r.status="fulfilled",r.value=a,dp(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,lp(i,a)))}function $u(i,r,a){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,dp(r),r=r.next;while(r!==c)}i.action=null}function dp(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function fp(i,r){return r}function hp(i,r){if(we){var a=He.formState;if(a!==null){e:{var c=pe;if(we){if(Ge){t:{for(var g=Ge,v=jt;g.nodeType!==8;){if(!v){g=null;break t}if(g=tn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Ge=tn(g.nextSibling),c=g.data==="F!";break e}}ni(c)}c=!1}c&&(r=a[0])}}return a=Et(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:r},a.queue=c,a=Dp.bind(null,pe,c),c.dispatch=a,c=zu(!1),v=Qu.bind(null,pe,!1,c.queue),c=Et(),g={state:r,dispatch:null,action:i,pending:null},c.queue=g,a=hS.bind(null,pe,g,v,a),g.dispatch=a,c.memoizedState=i,[r,a,!1]}function pp(i){var r=Ze();return mp(r,Oe,i)}function mp(i,r,a){if(r=Gu(i,r,fp)[0],i=da(Dn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Or(r)}catch(S){throw S===So?ta:S}else c=r;r=Ze();var g=r.queue,v=g.dispatch;return a!==r.memoizedState&&(pe.flags|=2048,bo(9,{destroy:void 0},pS.bind(null,g,a),null)),[c,v,i]}function pS(i,r){i.action=r}function gp(i){var r=Ze(),a=Oe;if(a!==null)return mp(r,a,i);Ze(),r=r.memoizedState,a=Ze();var c=a.queue.dispatch;return a.memoizedState=i,[r,c,!1]}function bo(i,r,a,c){return i={tag:i,create:a,deps:c,inst:r,next:null},r=pe.updateQueue,r===null&&(r=ua(),pe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(c=a.next,a.next=i,i.next=c,r.lastEffect=i),i}function yp(){return Ze().memoizedState}function fa(i,r,a,c){var g=Et();pe.flags|=i,g.memoizedState=bo(1|r,{destroy:void 0},a,c===void 0?null:c)}function ha(i,r,a,c){var g=Ze();c=c===void 0?null:c;var v=g.memoizedState.inst;Oe!==null&&c!==null&&Ou(c,Oe.memoizedState.deps)?g.memoizedState=bo(r,v,a,c):(pe.flags|=i,g.memoizedState=bo(1|r,v,a,c))}function vp(i,r){fa(8390656,8,i,r)}function Fu(i,r){ha(2048,8,i,r)}function mS(i){pe.flags|=4;var r=pe.updateQueue;if(r===null)r=ua(),pe.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function _p(i){var r=Ze().memoizedState;return mS({ref:r,nextImpl:i}),function(){if((xe&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}function Ep(i,r){return ha(4,2,i,r)}function Sp(i,r){return ha(4,4,i,r)}function Tp(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function wp(i,r,a){a=a!=null?a.concat([i]):null,ha(4,4,Tp.bind(null,r,i),a)}function Ju(){}function Ap(i,r){var a=Ze();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&Ou(r,c[1])?c[0]:(a.memoizedState=[i,r],i)}function Cp(i,r){var a=Ze();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&Ou(r,c[1]))return c[0];if(c=i(),Gi){Wn(!0);try{i()}finally{Wn(!1)}}return a.memoizedState=[c,r],c}function Ku(i,r,a){return a===void 0||(Mn&1073741824)!==0&&(Se&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=bm(),pe.lanes|=i,di|=i,a)}function bp(i,r,a,c){return Ot(a,r)?a:wo.current!==null?(i=Ku(i,a,c),Ot(i,r)||(nt=!0),i):(Mn&42)===0||(Mn&1073741824)!==0&&(Se&261930)===0?(nt=!0,i.memoizedState=a):(i=bm(),pe.lanes|=i,di|=i,r)}function Rp(i,r,a,c,g){var v=W.p;W.p=v!==0&&8>v?v:8;var S=G.T,w={};G.T=w,Qu(i,!1,r,a);try{var N=g(),L=G.S;if(L!==null&&L(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var V=cS(N,c);Pr(i,r,V,Gt(i))}else Pr(i,r,c,Gt(i))}catch($){Pr(i,r,{then:function(){},status:"rejected",reason:$},Gt())}finally{W.p=v,S!==null&&w.types!==null&&(S.types=w.types),G.T=S}}function gS(){}function Yu(i,r,a,c){if(i.tag!==5)throw Error(o(476));var g=xp(i).queue;Rp(i,g,r,ue,a===null?gS:function(){return Np(i),a(c)})}function xp(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:ue},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Np(i){var r=xp(i);r.next===null&&(r=i.alternate.memoizedState),Pr(i,r.next.queue,{},Gt())}function Xu(){return ft(jr)}function Ip(){return Ze().memoizedState}function Mp(){return Ze().memoizedState}function yS(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Gt();i=ri(a);var c=si(r,i,a);c!==null&&(It(c,r,a),Mr(c,r,a)),r={cache:Au()},i.payload=r;return}r=r.return}}function vS(i,r,a){var c=Gt();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pa(i)?Up(r,a):(a=hu(i,r,a,c),a!==null&&(It(a,i,c),kp(a,r,c)))}function Dp(i,r,a){var c=Gt();Pr(i,r,a,c)}function Pr(i,r,a,c){var g={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pa(i))Up(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var S=r.lastRenderedState,w=v(S,a);if(g.hasEagerState=!0,g.eagerState=w,Ot(w,S))return Ys(i,r,g,0),He===null&&Ks(),!1}catch{}finally{}if(a=hu(i,r,g,c),a!==null)return It(a,i,c),kp(a,r,c),!0}return!1}function Qu(i,r,a,c){if(c={lane:2,revertLane:xc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},pa(i)){if(r)throw Error(o(479))}else r=hu(i,a,c,2),r!==null&&It(r,i,2)}function pa(i){var r=i.alternate;return i===pe||r!==null&&r===pe}function Up(i,r){Ao=aa=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function kp(i,r,a){if((a&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,a|=c,r.lanes=a,Hf(i,a)}}var Lr={readContext:ft,use:ca,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Lr.useEffectEvent=Ke;var Op={readContext:ft,use:ca,useCallback:function(i,r){return Et().memoizedState=[i,r===void 0?null:r],i},useContext:ft,useEffect:vp,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,fa(4194308,4,Tp.bind(null,r,i),a)},useLayoutEffect:function(i,r){return fa(4194308,4,i,r)},useInsertionEffect:function(i,r){fa(4,2,i,r)},useMemo:function(i,r){var a=Et();r=r===void 0?null:r;var c=i();if(Gi){Wn(!0);try{i()}finally{Wn(!1)}}return a.memoizedState=[c,r],c},useReducer:function(i,r,a){var c=Et();if(a!==void 0){var g=a(r);if(Gi){Wn(!0);try{a(r)}finally{Wn(!1)}}}else g=r;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=vS.bind(null,pe,i),[c.memoizedState,i]},useRef:function(i){var r=Et();return i={current:i},r.memoizedState=i},useState:function(i){i=zu(i);var r=i.queue,a=Dp.bind(null,pe,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Ju,useDeferredValue:function(i,r){var a=Et();return Ku(a,i,r)},useTransition:function(){var i=zu(!1);return i=Rp.bind(null,pe,i.queue,!0,!1),Et().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var c=pe,g=Et();if(we){if(a===void 0)throw Error(o(407));a=a()}else{if(a=r(),He===null)throw Error(o(349));(Se&127)!==0||np(c,r,a)}g.memoizedState=a;var v={value:a,getSnapshot:r};return g.queue=v,vp(op.bind(null,c,v,i),[i]),c.flags|=2048,bo(9,{destroy:void 0},ip.bind(null,c,v,a,r),null),a},useId:function(){var i=Et(),r=He.identifierPrefix;if(we){var a=Sn,c=En;a=(c&~(1<<32-kt(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=la++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=dS++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Xu,useFormState:hp,useActionState:hp,useOptimistic:function(i){var r=Et();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Qu.bind(null,pe,!0,a),a.dispatch=r,[i,r]},useMemoCache:Bu,useCacheRefresh:function(){return Et().memoizedState=yS.bind(null,pe)},useEffectEvent:function(i){var r=Et(),a={impl:i};return r.memoizedState=a,function(){if((xe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Wu={readContext:ft,use:ca,useCallback:Ap,useContext:ft,useEffect:Fu,useImperativeHandle:wp,useInsertionEffect:Ep,useLayoutEffect:Sp,useMemo:Cp,useReducer:da,useRef:yp,useState:function(){return da(Dn)},useDebugValue:Ju,useDeferredValue:function(i,r){var a=Ze();return bp(a,Oe.memoizedState,i,r)},useTransition:function(){var i=da(Dn)[0],r=Ze().memoizedState;return[typeof i=="boolean"?i:Or(i),r]},useSyncExternalStore:tp,useId:Ip,useHostTransitionStatus:Xu,useFormState:pp,useActionState:pp,useOptimistic:function(i,r){var a=Ze();return ap(a,Oe,i,r)},useMemoCache:Bu,useCacheRefresh:Mp};Wu.useEffectEvent=_p;var Pp={readContext:ft,use:ca,useCallback:Ap,useContext:ft,useEffect:Fu,useImperativeHandle:wp,useInsertionEffect:Ep,useLayoutEffect:Sp,useMemo:Cp,useReducer:Vu,useRef:yp,useState:function(){return Vu(Dn)},useDebugValue:Ju,useDeferredValue:function(i,r){var a=Ze();return Oe===null?Ku(a,i,r):bp(a,Oe.memoizedState,i,r)},useTransition:function(){var i=Vu(Dn)[0],r=Ze().memoizedState;return[typeof i=="boolean"?i:Or(i),r]},useSyncExternalStore:tp,useId:Ip,useHostTransitionStatus:Xu,useFormState:gp,useActionState:gp,useOptimistic:function(i,r){var a=Ze();return Oe!==null?ap(a,Oe,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Bu,useCacheRefresh:Mp};Pp.useEffectEvent=_p;function Zu(i,r,a,c){r=i.memoizedState,a=a(c,r),a=a==null?r:_({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var ju={enqueueSetState:function(i,r,a){i=i._reactInternals;var c=Gt(),g=ri(c);g.payload=r,a!=null&&(g.callback=a),r=si(i,g,c),r!==null&&(It(r,i,c),Mr(r,i,c))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var c=Gt(),g=ri(c);g.tag=1,g.payload=r,a!=null&&(g.callback=a),r=si(i,g,c),r!==null&&(It(r,i,c),Mr(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Gt(),c=ri(a);c.tag=2,r!=null&&(c.callback=r),r=si(i,c,a),r!==null&&(It(r,i,a),Mr(r,i,a))}};function Lp(i,r,a,c,g,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,v,S):r.prototype&&r.prototype.isPureReactComponent?!wr(a,c)||!wr(g,v):!0}function qp(i,r,a,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==i&&ju.enqueueReplaceState(r,r.state,null)}function Vi(i,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(i=i.defaultProps){a===r&&(a=_({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}function Hp(i){Js(i)}function Bp(i){console.error(i)}function Gp(i){Js(i)}function ma(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Vp(i,r,a){try{var c=i.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ec(i,r,a){return a=ri(a),a.tag=3,a.payload={element:null},a.callback=function(){ma(i,r)},a}function zp(i){return i=ri(i),i.tag=3,i}function $p(i,r,a,c){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=c.value;i.payload=function(){return g(v)},i.callback=function(){Vp(r,a,c)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Vp(r,a,c),typeof g!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function _S(i,r,a,c,g){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&vo(r,a,g,!0),a=Lt.current,a!==null){switch(a.tag){case 31:case 13:return en===null?Ra():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=g,c===na?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),Cc(i,c,g)),!1;case 22:return a.flags|=65536,c===na?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),Cc(i,c,g)),!1}throw Error(o(435,a.tag))}return Cc(i,c,g),Ra(),!1}if(we)return r=Lt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,c!==_u&&(i=Error(o(422),{cause:c}),br(Qt(i,a)))):(c!==_u&&(r=Error(o(423),{cause:c}),br(Qt(r,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=Qt(c,a),g=ec(i.stateNode,c,g),Iu(i,g),Ye!==4&&(Ye=2)),!1;var v=Error(o(520),{cause:c});if(v=Qt(v,a),Fr===null?Fr=[v]:Fr.push(v),Ye!==4&&(Ye=2),r===null)return!0;c=Qt(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=ec(a.stateNode,c,i),Iu(a,i),!1;case 1:if(r=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(fi===null||!fi.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=zp(g),$p(g,i,a,c),Iu(a,g),!1}a=a.return}while(a!==null);return!1}var tc=Error(o(461)),nt=!1;function ht(i,r,a,c){r.child=i===null?Yh(r,null,a,c):Bi(r,i.child,a,c)}function Fp(i,r,a,c,g){a=a.render;var v=r.ref;if("ref"in c){var S={};for(var w in c)w!=="ref"&&(S[w]=c[w])}else S=c;return Pi(r),c=Pu(i,r,a,S,v,g),w=Lu(),i!==null&&!nt?(qu(i,r,g),Un(i,r,g)):(we&&w&&yu(r),r.flags|=1,ht(i,r,c,g),r.child)}function Jp(i,r,a,c,g){if(i===null){var v=a.type;return typeof v=="function"&&!pu(v)&&v.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=v,Kp(i,r,v,c,g)):(i=Qs(a.type,null,c,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!uc(i,g)){var S=v.memoizedProps;if(a=a.compare,a=a!==null?a:wr,a(S,c)&&i.ref===r.ref)return Un(i,r,g)}return r.flags|=1,i=Rn(v,c),i.ref=r.ref,i.return=r,r.child=i}function Kp(i,r,a,c,g){if(i!==null){var v=i.memoizedProps;if(wr(v,c)&&i.ref===r.ref)if(nt=!1,r.pendingProps=c=v,uc(i,g))(i.flags&131072)!==0&&(nt=!0);else return r.lanes=i.lanes,Un(i,r,g)}return nc(i,r,a,c,g)}function Yp(i,r,a,c){var g=c.children,v=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,i!==null){for(c=r.child=i.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~v}else c=0,r.child=null;return Xp(i,r,v,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ea(r,v!==null?v.cachePool:null),v!==null?Wh(r,v):Du(),Zh(r);else return c=r.lanes=536870912,Xp(i,r,v!==null?v.baseLanes|a:a,a,c)}else v!==null?(ea(r,v.cachePool),Wh(r,v),li(),r.memoizedState=null):(i!==null&&ea(r,null),Du(),li());return ht(i,r,g,a),r.child}function qr(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Xp(i,r,a,c,g){var v=bu();return v=v===null?null:{parent:et._currentValue,pool:v},r.memoizedState={baseLanes:a,cachePool:v},i!==null&&ea(r,null),Du(),Zh(r),i!==null&&vo(i,r,c,!0),r.childLanes=g,null}function ga(i,r){return r=va({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Qp(i,r,a){return Bi(r,i.child,null,a),i=ga(r,r.pendingProps),i.flags|=2,qt(r),r.memoizedState=null,i}function ES(i,r,a){var c=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(we){if(c.mode==="hidden")return i=ga(r,c),r.lanes=536870912,qr(null,i);if(ku(r),(i=Ge)?(i=lg(i,jt),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ei!==null?{id:En,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},a=Uh(i),a.return=r,r.child=a,dt=r,Ge=null)):i=null,i===null)throw ni(r);return r.lanes=536870912,null}return ga(r,c)}var v=i.memoizedState;if(v!==null){var S=v.dehydrated;if(ku(r),g)if(r.flags&256)r.flags&=-257,r=Qp(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(o(558));else if(nt||vo(i,r,a,!1),g=(a&i.childLanes)!==0,nt||g){if(c=He,c!==null&&(S=Bf(c,a),S!==0&&S!==v.retryLane))throw v.retryLane=S,Di(i,S),It(c,i,S),tc;Ra(),r=Qp(i,r,a)}else i=v.treeContext,Ge=tn(S.nextSibling),dt=r,we=!0,ti=null,jt=!1,i!==null&&Ph(r,i),r=ga(r,c),r.flags|=4096;return r}return i=Rn(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ya(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function nc(i,r,a,c,g){return Pi(r),a=Pu(i,r,a,c,void 0,g),c=Lu(),i!==null&&!nt?(qu(i,r,g),Un(i,r,g)):(we&&c&&yu(r),r.flags|=1,ht(i,r,a,g),r.child)}function Wp(i,r,a,c,g,v){return Pi(r),r.updateQueue=null,a=ep(r,c,a,g),jh(i),c=Lu(),i!==null&&!nt?(qu(i,r,v),Un(i,r,v)):(we&&c&&yu(r),r.flags|=1,ht(i,r,a,v),r.child)}function Zp(i,r,a,c,g){if(Pi(r),r.stateNode===null){var v=po,S=a.contextType;typeof S=="object"&&S!==null&&(v=ft(S)),v=new a(c,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ju,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=c,v.state=r.memoizedState,v.refs={},xu(r),S=a.contextType,v.context=typeof S=="object"&&S!==null?ft(S):po,v.state=r.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Zu(r,a,S,c),v.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&ju.enqueueReplaceState(v,v.state,null),Ur(r,c,v,g),Dr(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){v=r.stateNode;var w=r.memoizedProps,N=Vi(a,w);v.props=N;var L=v.context,V=a.contextType;S=po,typeof V=="object"&&V!==null&&(S=ft(V));var $=a.getDerivedStateFromProps;V=typeof $=="function"||typeof v.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,V||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w||L!==S)&&qp(r,v,c,S),oi=!1;var q=r.memoizedState;v.state=q,Ur(r,c,v,g),Dr(),L=r.memoizedState,w||q!==L||oi?(typeof $=="function"&&(Zu(r,a,$,c),L=r.memoizedState),(N=oi||Lp(r,a,N,c,q,L,S))?(V||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=L),v.props=c,v.state=L,v.context=S,c=N):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,Nu(i,r),S=r.memoizedProps,V=Vi(a,S),v.props=V,$=r.pendingProps,q=v.context,L=a.contextType,N=po,typeof L=="object"&&L!==null&&(N=ft(L)),w=a.getDerivedStateFromProps,(L=typeof w=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==$||q!==N)&&qp(r,v,c,N),oi=!1,q=r.memoizedState,v.state=q,Ur(r,c,v,g),Dr();var H=r.memoizedState;S!==$||q!==H||oi||i!==null&&i.dependencies!==null&&Zs(i.dependencies)?(typeof w=="function"&&(Zu(r,a,w,c),H=r.memoizedState),(V=oi||Lp(r,a,V,c,q,H,N)||i!==null&&i.dependencies!==null&&Zs(i.dependencies))?(L||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,H,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,H,N)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=H),v.props=c,v.state=H,v.context=N,c=V):(typeof v.componentDidUpdate!="function"||S===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),c=!1)}return v=c,ya(i,r),c=(r.flags&128)!==0,v||c?(v=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&c?(r.child=Bi(r,i.child,null,g),r.child=Bi(r,null,a,g)):ht(i,r,a,g),r.memoizedState=v.state,i=r.child):i=Un(i,r,g),i}function jp(i,r,a,c){return ki(),r.flags|=256,ht(i,r,a,c),r.child}var ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oc(i){return{baseLanes:i,cachePool:Vh()}}function rc(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Bt),i}function em(i,r,a){var c=r.pendingProps,g=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=i!==null&&i.memoizedState===null?!1:(We.current&2)!==0),S&&(g=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,i===null){if(we){if(g?ai(r):li(),(i=Ge)?(i=lg(i,jt),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ei!==null?{id:En,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},a=Uh(i),a.return=r,r.child=a,dt=r,Ge=null)):i=null,i===null)throw ni(r);return Gc(i)?r.lanes=32:r.lanes=536870912,null}var w=c.children;return c=c.fallback,g?(li(),g=r.mode,w=va({mode:"hidden",children:w},g),c=Ui(c,g,a,null),w.return=r,c.return=r,w.sibling=c,r.child=w,c=r.child,c.memoizedState=oc(a),c.childLanes=rc(i,S,a),r.memoizedState=ic,qr(null,c)):(ai(r),sc(r,w))}var N=i.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(v)r.flags&256?(ai(r),r.flags&=-257,r=ac(i,r,a)):r.memoizedState!==null?(li(),r.child=i.child,r.flags|=128,r=null):(li(),w=c.fallback,g=r.mode,c=va({mode:"visible",children:c.children},g),w=Ui(w,g,a,null),w.flags|=2,c.return=r,w.return=r,c.sibling=w,r.child=c,Bi(r,i.child,null,a),c=r.child,c.memoizedState=oc(a),c.childLanes=rc(i,S,a),r.memoizedState=ic,r=qr(null,c));else if(ai(r),Gc(w)){if(S=w.nextSibling&&w.nextSibling.dataset,S)var L=S.dgst;S=L,c=Error(o(419)),c.stack="",c.digest=S,br({value:c,source:null,stack:null}),r=ac(i,r,a)}else if(nt||vo(i,r,a,!1),S=(a&i.childLanes)!==0,nt||S){if(S=He,S!==null&&(c=Bf(S,a),c!==0&&c!==N.retryLane))throw N.retryLane=c,Di(i,c),It(S,i,c),tc;Bc(w)||Ra(),r=ac(i,r,a)}else Bc(w)?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,Ge=tn(w.nextSibling),dt=r,we=!0,ti=null,jt=!1,i!==null&&Ph(r,i),r=sc(r,c.children),r.flags|=4096);return r}return g?(li(),w=c.fallback,g=r.mode,N=i.child,L=N.sibling,c=Rn(N,{mode:"hidden",children:c.children}),c.subtreeFlags=N.subtreeFlags&65011712,L!==null?w=Rn(L,w):(w=Ui(w,g,a,null),w.flags|=2),w.return=r,c.return=r,c.sibling=w,r.child=c,qr(null,c),c=r.child,w=i.child.memoizedState,w===null?w=oc(a):(g=w.cachePool,g!==null?(N=et._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=Vh(),w={baseLanes:w.baseLanes|a,cachePool:g}),c.memoizedState=w,c.childLanes=rc(i,S,a),r.memoizedState=ic,qr(i.child,c)):(ai(r),a=i.child,i=a.sibling,a=Rn(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,i!==null&&(S=r.deletions,S===null?(r.deletions=[i],r.flags|=16):S.push(i)),r.child=a,r.memoizedState=null,a)}function sc(i,r){return r=va({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function va(i,r){return i=Pt(22,i,null,r),i.lanes=0,i}function ac(i,r,a){return Bi(r,i.child,null,a),i=sc(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function tm(i,r,a){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Tu(i.return,r,a)}function lc(i,r,a,c,g,v){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:g,treeForkCount:v}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=c,S.tail=a,S.tailMode=g,S.treeForkCount=v)}function nm(i,r,a){var c=r.pendingProps,g=c.revealOrder,v=c.tail;c=c.children;var S=We.current,w=(S&2)!==0;if(w?(S=S&1|2,r.flags|=128):S&=1,Z(We,S),ht(i,r,c,a),c=we?Cr:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tm(i,a,r);else if(i.tag===19)tm(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(a=r.child,g=null;a!==null;)i=a.alternate,i!==null&&sa(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=r.child,r.child=null):(g=a.sibling,a.sibling=null),lc(r,!1,g,a,v,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&sa(i)===null){r.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}lc(r,!0,a,null,v,c);break;case"together":lc(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Un(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),di|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(vo(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(o(153));if(r.child!==null){for(i=r.child,a=Rn(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Rn(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function uc(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Zs(i)))}function SS(i,r,a){switch(r.tag){case 3:_t(r,r.stateNode.containerInfo),ii(r,et,i.memoizedState.cache),ki();break;case 27:case 5:cr(r);break;case 4:_t(r,r.stateNode.containerInfo);break;case 10:ii(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ku(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ai(r),r.flags|=128,null):(a&r.child.childLanes)!==0?em(i,r,a):(ai(r),i=Un(i,r,a),i!==null?i.sibling:null);ai(r);break;case 19:var g=(i.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(vo(i,r,a,!1),c=(a&r.childLanes)!==0),g){if(c)return nm(i,r,a);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Z(We,We.current),c)break;return null;case 22:return r.lanes=0,Yp(i,r,a,r.pendingProps);case 24:ii(r,et,i.memoizedState.cache)}return Un(i,r,a)}function im(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)nt=!0;else{if(!uc(i,a)&&(r.flags&128)===0)return nt=!1,SS(i,r,a);nt=(i.flags&131072)!==0}else nt=!1,we&&(r.flags&1048576)!==0&&Oh(r,Cr,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=qi(r.elementType),r.type=i,typeof i=="function")pu(i)?(c=Vi(i,c),r.tag=1,r=Zp(null,r,i,c,a)):(r.tag=0,r=nc(null,r,i,c,a));else{if(i!=null){var g=i.$$typeof;if(g===B){r.tag=11,r=Fp(null,r,i,c,a);break e}else if(g===F){r.tag=14,r=Jp(null,r,i,c,a);break e}}throw r=je(i)||i,Error(o(306,r,""))}}return r;case 0:return nc(i,r,r.type,r.pendingProps,a);case 1:return c=r.type,g=Vi(c,r.pendingProps),Zp(i,r,c,g,a);case 3:e:{if(_t(r,r.stateNode.containerInfo),i===null)throw Error(o(387));c=r.pendingProps;var v=r.memoizedState;g=v.element,Nu(i,r),Ur(r,c,null,a);var S=r.memoizedState;if(c=S.cache,ii(r,et,c),c!==v.cache&&wu(r,[et],a,!0),Dr(),c=S.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=jp(i,r,c,a);break e}else if(c!==g){g=Qt(Error(o(424)),r),br(g),r=jp(i,r,c,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ge=tn(i.firstChild),dt=r,we=!0,ti=null,jt=!0,a=Yh(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ki(),c===g){r=Un(i,r,a);break e}ht(i,r,c,a)}r=r.child}return r;case 26:return ya(i,r),i===null?(a=pg(r.type,null,r.pendingProps,null))?r.memoizedState=a:we||(a=r.type,i=r.pendingProps,c=ka(ve.current).createElement(a),c[ct]=r,c[At]=i,pt(c,a,i),at(c),r.stateNode=c):r.memoizedState=pg(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return cr(r),i===null&&we&&(c=r.stateNode=dg(r.type,r.pendingProps,ve.current),dt=r,jt=!0,g=Ge,gi(r.type)?(Vc=g,Ge=tn(c.firstChild)):Ge=g),ht(i,r,r.pendingProps.children,a),ya(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&we&&((g=c=Ge)&&(c=WS(c,r.type,r.pendingProps,jt),c!==null?(r.stateNode=c,dt=r,Ge=tn(c.firstChild),jt=!1,g=!0):g=!1),g||ni(r)),cr(r),g=r.type,v=r.pendingProps,S=i!==null?i.memoizedProps:null,c=v.children,Lc(g,v)?c=null:S!==null&&Lc(g,S)&&(r.flags|=32),r.memoizedState!==null&&(g=Pu(i,r,fS,null,null,a),jr._currentValue=g),ya(i,r),ht(i,r,c,a),r.child;case 6:return i===null&&we&&((i=a=Ge)&&(a=ZS(a,r.pendingProps,jt),a!==null?(r.stateNode=a,dt=r,Ge=null,i=!0):i=!1),i||ni(r)),null;case 13:return em(i,r,a);case 4:return _t(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Bi(r,null,c,a):ht(i,r,c,a),r.child;case 11:return Fp(i,r,r.type,r.pendingProps,a);case 7:return ht(i,r,r.pendingProps,a),r.child;case 8:return ht(i,r,r.pendingProps.children,a),r.child;case 12:return ht(i,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,ii(r,r.type,c.value),ht(i,r,c.children,a),r.child;case 9:return g=r.type._context,c=r.pendingProps.children,Pi(r),g=ft(g),c=c(g),r.flags|=1,ht(i,r,c,a),r.child;case 14:return Jp(i,r,r.type,r.pendingProps,a);case 15:return Kp(i,r,r.type,r.pendingProps,a);case 19:return nm(i,r,a);case 31:return ES(i,r,a);case 22:return Yp(i,r,a,r.pendingProps);case 24:return Pi(r),c=ft(et),i===null?(g=bu(),g===null&&(g=He,v=Au(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),r.memoizedState={parent:c,cache:g},xu(r),ii(r,et,g)):((i.lanes&a)!==0&&(Nu(i,r),Ur(r,null,null,a),Dr()),g=i.memoizedState,v=r.memoizedState,g.parent!==c?(g={parent:c,cache:c},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),ii(r,et,c)):(c=v.cache,ii(r,et,c),c!==g.cache&&wu(r,[et],a,!0))),ht(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(o(156,r.tag))}function kn(i){i.flags|=4}function cc(i,r,a,c,g){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(Im())i.flags|=8192;else throw Hi=na,Ru}else i.flags&=-16777217}function om(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_g(r))if(Im())i.flags|=8192;else throw Hi=na,Ru}function _a(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Lf():536870912,i.lanes|=r,Io|=r)}function Hr(i,r){if(!we)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ve(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,c=0;if(r)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=a,r}function TS(i,r,a){var c=r.pendingProps;switch(vu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(r),null;case 1:return Ve(r),null;case 3:return a=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),In(et),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(yo(r)?kn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Eu())),Ve(r),null;case 26:var g=r.type,v=r.memoizedState;return i===null?(kn(r),v!==null?(Ve(r),om(r,v)):(Ve(r),cc(r,g,null,c,a))):v?v!==i.memoizedState?(kn(r),Ve(r),om(r,v)):(Ve(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&kn(r),Ve(r),cc(r,g,i,c,a)),null;case 27:if(Is(r),a=ve.current,g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&kn(r);else{if(!c){if(r.stateNode===null)throw Error(o(166));return Ve(r),null}i=te.current,yo(r)?Lh(r):(i=dg(g,c,a),r.stateNode=i,kn(r))}return Ve(r),null;case 5:if(Is(r),g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&kn(r);else{if(!c){if(r.stateNode===null)throw Error(o(166));return Ve(r),null}if(v=te.current,yo(r))Lh(r);else{var S=ka(ve.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?S.createElement("select",{is:c.is}):S.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?S.createElement(g,{is:c.is}):S.createElement(g)}}v[ct]=r,v[At]=c;e:for(S=r.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===r)break e;for(;S.sibling===null;){if(S.return===null||S.return===r)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}r.stateNode=v;e:switch(pt(v,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&kn(r)}}return Ve(r),cc(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&kn(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(o(166));if(i=ve.current,yo(r)){if(i=r.stateNode,a=r.memoizedProps,c=null,g=dt,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[ct]=r,i=!!(i.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||eg(i.nodeValue,a)),i||ni(r,!0)}else i=ka(i).createTextNode(c),i[ct]=r,r.stateNode=i}return Ve(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(c=yo(r),a!==null){if(i===null){if(!c)throw Error(o(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(557));i[ct]=r}else ki(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ve(r),i=!1}else a=Eu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(qt(r),r):(qt(r),null);if((r.flags&128)!==0)throw Error(o(558))}return Ve(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=yo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(o(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[ct]=r}else ki(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ve(r),g=!1}else g=Eu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(qt(r),r):(qt(r),null)}return qt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,i=i!==null&&i.memoizedState!==null,a&&(c=r.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==g&&(c.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),_a(r,r.updateQueue),Ve(r),null);case 4:return Qe(),i===null&&Dc(r.stateNode.containerInfo),Ve(r),null;case 10:return In(r.type),Ve(r),null;case 19:if(J(We),c=r.memoizedState,c===null)return Ve(r),null;if(g=(r.flags&128)!==0,v=c.rendering,v===null)if(g)Hr(c,!1);else{if(Ye!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=sa(i),v!==null){for(r.flags|=128,Hr(c,!1),i=v.updateQueue,r.updateQueue=i,_a(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)Dh(a,i),a=a.sibling;return Z(We,We.current&1|2),we&&xn(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Dt()>Aa&&(r.flags|=128,g=!0,Hr(c,!1),r.lanes=4194304)}else{if(!g)if(i=sa(v),i!==null){if(r.flags|=128,g=!0,i=i.updateQueue,r.updateQueue=i,_a(r,i),Hr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!we)return Ve(r),null}else 2*Dt()-c.renderingStartTime>Aa&&a!==536870912&&(r.flags|=128,g=!0,Hr(c,!1),r.lanes=4194304);c.isBackwards?(v.sibling=r.child,r.child=v):(i=c.last,i!==null?i.sibling=v:r.child=v,c.last=v)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Dt(),i.sibling=null,a=We.current,Z(We,g?a&1|2:a&1),we&&xn(r,c.treeForkCount),i):(Ve(r),null);case 22:case 23:return qt(r),Uu(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(Ve(r),r.subtreeFlags&6&&(r.flags|=8192)):Ve(r),a=r.updateQueue,a!==null&&_a(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),i!==null&&J(Li),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),In(et),Ve(r),null;case 25:return null;case 30:return null}throw Error(o(156,r.tag))}function wS(i,r){switch(vu(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return In(et),Qe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Is(r),null;case 31:if(r.memoizedState!==null){if(qt(r),r.alternate===null)throw Error(o(340));ki()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(qt(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(o(340));ki()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return J(We),null;case 4:return Qe(),null;case 10:return In(r.type),null;case 22:case 23:return qt(r),Uu(),i!==null&&J(Li),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return In(et),null;case 25:return null;default:return null}}function rm(i,r){switch(vu(r),r.tag){case 3:In(et),Qe();break;case 26:case 27:case 5:Is(r);break;case 4:Qe();break;case 31:r.memoizedState!==null&&qt(r);break;case 13:qt(r);break;case 19:J(We);break;case 10:In(r.type);break;case 22:case 23:qt(r),Uu(),i!==null&&J(Li);break;case 24:In(et)}}function Br(i,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var g=c.next;a=g;do{if((a.tag&i)===i){c=void 0;var v=a.create,S=a.inst;c=v(),S.destroy=c}a=a.next}while(a!==g)}}catch(w){Ue(r,r.return,w)}}function ui(i,r,a){try{var c=r.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var v=g.next;c=v;do{if((c.tag&i)===i){var S=c.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,g=r;var N=a,L=w;try{L()}catch(V){Ue(g,N,V)}}}c=c.next}while(c!==v)}}catch(V){Ue(r,r.return,V)}}function sm(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Qh(r,a)}catch(c){Ue(i,i.return,c)}}}function am(i,r,a){a.props=Vi(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(c){Ue(i,r,c)}}function Gr(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof a=="function"?i.refCleanup=a(c):a.current=c}}catch(g){Ue(i,r,g)}}function Tn(i,r){var a=i.ref,c=i.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(g){Ue(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Ue(i,r,g)}else a.current=null}function lm(i){var r=i.type,a=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(g){Ue(i,i.return,g)}}function dc(i,r,a){try{var c=i.stateNode;FS(c,i.type,a,r),c[At]=r}catch(g){Ue(i,i.return,g)}}function um(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gi(i.type)||i.tag===4}function fc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||um(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hc(i,r,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Cn));else if(c!==4&&(c===27&&gi(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(hc(i,r,a),i=i.sibling;i!==null;)hc(i,r,a),i=i.sibling}function Ea(i,r,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(c!==4&&(c===27&&gi(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Ea(i,r,a),i=i.sibling;i!==null;)Ea(i,r,a),i=i.sibling}function cm(i){var r=i.stateNode,a=i.memoizedProps;try{for(var c=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);pt(r,c,a),r[ct]=i,r[At]=a}catch(v){Ue(i,i.return,v)}}var On=!1,it=!1,pc=!1,dm=typeof WeakSet=="function"?WeakSet:Set,lt=null;function AS(i,r){if(i=i.containerInfo,Oc=Ga,i=wh(i),au(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var g=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var S=0,w=-1,N=-1,L=0,V=0,$=i,q=null;t:for(;;){for(var H;$!==a||g!==0&&$.nodeType!==3||(w=S+g),$!==v||c!==0&&$.nodeType!==3||(N=S+c),$.nodeType===3&&(S+=$.nodeValue.length),(H=$.firstChild)!==null;)q=$,$=H;for(;;){if($===i)break t;if(q===a&&++L===g&&(w=S),q===v&&++V===c&&(N=S),(H=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=H}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pc={focusedElem:i,selectionRange:a},Ga=!1,lt=r;lt!==null;)if(r=lt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,lt=i;else for(;lt!==null;){switch(r=lt,v=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)g=i[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,a=r,g=v.memoizedProps,v=v.memoizedState,c=a.stateNode;try{var ee=Vi(a.type,g);i=c.getSnapshotBeforeUpdate(ee,v),c.__reactInternalSnapshotBeforeUpdate=i}catch(se){Ue(a,a.return,se)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Hc(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hc(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(o(163))}if(i=r.sibling,i!==null){i.return=r.return,lt=i;break}lt=r.return}}function fm(i,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ln(i,a),c&4&&Br(5,a);break;case 1:if(Ln(i,a),c&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(S){Ue(a,a.return,S)}else{var g=Vi(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Ue(a,a.return,S)}}c&64&&sm(a),c&512&&Gr(a,a.return);break;case 3:if(Ln(i,a),c&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Qh(i,r)}catch(S){Ue(a,a.return,S)}}break;case 27:r===null&&c&4&&cm(a);case 26:case 5:Ln(i,a),r===null&&c&4&&lm(a),c&512&&Gr(a,a.return);break;case 12:Ln(i,a);break;case 31:Ln(i,a),c&4&&mm(i,a);break;case 13:Ln(i,a),c&4&&gm(i,a),c&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=US.bind(null,a),jS(i,a))));break;case 22:if(c=a.memoizedState!==null||On,!c){r=r!==null&&r.memoizedState!==null||it,g=On;var v=it;On=c,(it=r)&&!v?qn(i,a,(a.subtreeFlags&8772)!==0):Ln(i,a),On=g,it=v}break;case 30:break;default:Ln(i,a)}}function hm(i){var r=i.alternate;r!==null&&(i.alternate=null,hm(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&$l(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ze=null,bt=!1;function Pn(i,r,a){for(a=a.child;a!==null;)pm(i,r,a),a=a.sibling}function pm(i,r,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(dr,a)}catch{}switch(a.tag){case 26:it||Tn(a,r),Pn(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||Tn(a,r);var c=ze,g=bt;gi(a.type)&&(ze=a.stateNode,bt=!1),Pn(i,r,a),Qr(a.stateNode),ze=c,bt=g;break;case 5:it||Tn(a,r);case 6:if(c=ze,g=bt,ze=null,Pn(i,r,a),ze=c,bt=g,ze!==null)if(bt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(a.stateNode)}catch(v){Ue(a,r,v)}else try{ze.removeChild(a.stateNode)}catch(v){Ue(a,r,v)}break;case 18:ze!==null&&(bt?(i=ze,sg(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),qo(i)):sg(ze,a.stateNode));break;case 4:c=ze,g=bt,ze=a.stateNode.containerInfo,bt=!0,Pn(i,r,a),ze=c,bt=g;break;case 0:case 11:case 14:case 15:ui(2,a,r),it||ui(4,a,r),Pn(i,r,a);break;case 1:it||(Tn(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&am(a,r,c)),Pn(i,r,a);break;case 21:Pn(i,r,a);break;case 22:it=(c=it)||a.memoizedState!==null,Pn(i,r,a),it=c;break;default:Pn(i,r,a)}}function mm(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{qo(i)}catch(a){Ue(r,r.return,a)}}}function gm(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qo(i)}catch(a){Ue(r,r.return,a)}}function CS(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new dm),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new dm),r;default:throw Error(o(435,i.tag))}}function Sa(i,r){var a=CS(i);r.forEach(function(c){if(!a.has(c)){a.add(c);var g=kS.bind(null,i,c);c.then(g,g)}})}function Rt(i,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var g=a[c],v=i,S=r,w=S;e:for(;w!==null;){switch(w.tag){case 27:if(gi(w.type)){ze=w.stateNode,bt=!1;break e}break;case 5:ze=w.stateNode,bt=!1;break e;case 3:case 4:ze=w.stateNode.containerInfo,bt=!0;break e}w=w.return}if(ze===null)throw Error(o(160));pm(v,S,g),ze=null,bt=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ym(r,i),r=r.sibling}var cn=null;function ym(i,r){var a=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rt(r,i),xt(i),c&4&&(ui(3,i,i.return),Br(3,i),ui(5,i,i.return));break;case 1:Rt(r,i),xt(i),c&512&&(it||a===null||Tn(a,a.return)),c&64&&On&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var g=cn;if(Rt(r,i),xt(i),c&512&&(it||a===null||Tn(a,a.return)),c&4){var v=a!==null?a.memoizedState:null;if(c=i.memoizedState,a===null)if(c===null)if(i.stateNode===null){e:{c=i.type,a=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":v=g.getElementsByTagName("title")[0],(!v||v[pr]||v[ct]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(c),g.head.insertBefore(v,g.querySelector("head > title"))),pt(v,c,a),v[ct]=i,at(v),c=v;break e;case"link":var S=yg("link","href",g).get(c+(a.href||""));if(S){for(var w=0;w<S.length;w++)if(v=S[w],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(w,1);break t}}v=g.createElement(c),pt(v,c,a),g.head.appendChild(v);break;case"meta":if(S=yg("meta","content",g).get(c+(a.content||""))){for(w=0;w<S.length;w++)if(v=S[w],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(w,1);break t}}v=g.createElement(c),pt(v,c,a),g.head.appendChild(v);break;default:throw Error(o(468,c))}v[ct]=i,at(v),c=v}i.stateNode=c}else vg(g,i.type,i.stateNode);else i.stateNode=gg(g,c,i.memoizedProps);else v!==c?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,c===null?vg(g,i.type,i.stateNode):gg(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&dc(i,i.memoizedProps,a.memoizedProps)}break;case 27:Rt(r,i),xt(i),c&512&&(it||a===null||Tn(a,a.return)),a!==null&&c&4&&dc(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Rt(r,i),xt(i),c&512&&(it||a===null||Tn(a,a.return)),i.flags&32){g=i.stateNode;try{so(g,"")}catch(ee){Ue(i,i.return,ee)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,dc(i,g,a!==null?a.memoizedProps:g)),c&1024&&(pc=!0);break;case 6:if(Rt(r,i),xt(i),c&4){if(i.stateNode===null)throw Error(o(162));c=i.memoizedProps,a=i.stateNode;try{a.nodeValue=c}catch(ee){Ue(i,i.return,ee)}}break;case 3:if(La=null,g=cn,cn=Oa(r.containerInfo),Rt(r,i),cn=g,xt(i),c&4&&a!==null&&a.memoizedState.isDehydrated)try{qo(r.containerInfo)}catch(ee){Ue(i,i.return,ee)}pc&&(pc=!1,vm(i));break;case 4:c=cn,cn=Oa(i.stateNode.containerInfo),Rt(r,i),xt(i),cn=c;break;case 12:Rt(r,i),xt(i);break;case 31:Rt(r,i),xt(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Sa(i,c)));break;case 13:Rt(r,i),xt(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wa=Dt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Sa(i,c)));break;case 22:g=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,L=On,V=it;if(On=L||g,it=V||N,Rt(r,i),it=V,On=L,xt(i),c&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(a===null||N||On||it||zi(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(v=N.stateNode,g)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{w=N.stateNode;var $=N.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ee){Ue(N,N.return,ee)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(ee){Ue(N,N.return,ee)}}}else if(r.tag===18){if(a===null){N=r;try{var H=N.stateNode;g?ag(H,!0):ag(N.stateNode,!1)}catch(ee){Ue(N,N.return,ee)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Sa(i,a))));break;case 19:Rt(r,i),xt(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Sa(i,c)));break;case 30:break;case 21:break;default:Rt(r,i),xt(i)}}function xt(i){var r=i.flags;if(r&2){try{for(var a,c=i.return;c!==null;){if(um(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var g=a.stateNode,v=fc(i);Ea(i,v,g);break;case 5:var S=a.stateNode;a.flags&32&&(so(S,""),a.flags&=-33);var w=fc(i);Ea(i,w,S);break;case 3:case 4:var N=a.stateNode.containerInfo,L=fc(i);hc(i,L,N);break;default:throw Error(o(161))}}catch(V){Ue(i,i.return,V)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function vm(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;vm(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ln(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)fm(i,r.alternate,r),r=r.sibling}function zi(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ui(4,r,r.return),zi(r);break;case 1:Tn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&am(r,r.return,a),zi(r);break;case 27:Qr(r.stateNode);case 26:case 5:Tn(r,r.return),zi(r);break;case 22:r.memoizedState===null&&zi(r);break;case 30:zi(r);break;default:zi(r)}i=i.sibling}}function qn(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,g=i,v=r,S=v.flags;switch(v.tag){case 0:case 11:case 15:qn(g,v,a),Br(4,v);break;case 1:if(qn(g,v,a),c=v,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(L){Ue(c,c.return,L)}if(c=v,g=c.updateQueue,g!==null){var w=c.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)Xh(N[g],w)}catch(L){Ue(c,c.return,L)}}a&&S&64&&sm(v),Gr(v,v.return);break;case 27:cm(v);case 26:case 5:qn(g,v,a),a&&c===null&&S&4&&lm(v),Gr(v,v.return);break;case 12:qn(g,v,a);break;case 31:qn(g,v,a),a&&S&4&&mm(g,v);break;case 13:qn(g,v,a),a&&S&4&&gm(g,v);break;case 22:v.memoizedState===null&&qn(g,v,a),Gr(v,v.return);break;case 30:break;default:qn(g,v,a)}r=r.sibling}}function mc(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Rr(a))}function gc(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Rr(i))}function dn(i,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)_m(i,r,a,c),r=r.sibling}function _m(i,r,a,c){var g=r.flags;switch(r.tag){case 0:case 11:case 15:dn(i,r,a,c),g&2048&&Br(9,r);break;case 1:dn(i,r,a,c);break;case 3:dn(i,r,a,c),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Rr(i)));break;case 12:if(g&2048){dn(i,r,a,c),i=r.stateNode;try{var v=r.memoizedProps,S=v.id,w=v.onPostCommit;typeof w=="function"&&w(S,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Ue(r,r.return,N)}}else dn(i,r,a,c);break;case 31:dn(i,r,a,c);break;case 13:dn(i,r,a,c);break;case 23:break;case 22:v=r.stateNode,S=r.alternate,r.memoizedState!==null?v._visibility&2?dn(i,r,a,c):Vr(i,r):v._visibility&2?dn(i,r,a,c):(v._visibility|=2,Ro(i,r,a,c,(r.subtreeFlags&10256)!==0||!1)),g&2048&&mc(S,r);break;case 24:dn(i,r,a,c),g&2048&&gc(r.alternate,r);break;default:dn(i,r,a,c)}}function Ro(i,r,a,c,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=i,S=r,w=a,N=c,L=S.flags;switch(S.tag){case 0:case 11:case 15:Ro(v,S,w,N,g),Br(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?Ro(v,S,w,N,g):Vr(v,S):(V._visibility|=2,Ro(v,S,w,N,g)),g&&L&2048&&mc(S.alternate,S);break;case 24:Ro(v,S,w,N,g),g&&L&2048&&gc(S.alternate,S);break;default:Ro(v,S,w,N,g)}r=r.sibling}}function Vr(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,c=r,g=c.flags;switch(c.tag){case 22:Vr(a,c),g&2048&&mc(c.alternate,c);break;case 24:Vr(a,c),g&2048&&gc(c.alternate,c);break;default:Vr(a,c)}r=r.sibling}}var zr=8192;function xo(i,r,a){if(i.subtreeFlags&zr)for(i=i.child;i!==null;)Em(i,r,a),i=i.sibling}function Em(i,r,a){switch(i.tag){case 26:xo(i,r,a),i.flags&zr&&i.memoizedState!==null&&dT(a,cn,i.memoizedState,i.memoizedProps);break;case 5:xo(i,r,a);break;case 3:case 4:var c=cn;cn=Oa(i.stateNode.containerInfo),xo(i,r,a),cn=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=zr,zr=16777216,xo(i,r,a),zr=c):xo(i,r,a));break;default:xo(i,r,a)}}function Sm(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function $r(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];lt=c,wm(c,i)}Sm(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tm(i),i=i.sibling}function Tm(i){switch(i.tag){case 0:case 11:case 15:$r(i),i.flags&2048&&ui(9,i,i.return);break;case 3:$r(i);break;case 12:$r(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ta(i)):$r(i);break;default:$r(i)}}function Ta(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];lt=c,wm(c,i)}Sm(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ui(8,r,r.return),Ta(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ta(r));break;default:Ta(r)}i=i.sibling}}function wm(i,r){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:ui(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Rr(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,lt=c;else e:for(a=i;lt!==null;){c=lt;var g=c.sibling,v=c.return;if(hm(c),c===a){lt=null;break e}if(g!==null){g.return=v,lt=g;break e}lt=v}}}var bS={getCacheForType:function(i){var r=ft(et),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return ft(et).controller.signal}},RS=typeof WeakMap=="function"?WeakMap:Map,xe=0,He=null,_e=null,Se=0,De=0,Ht=null,ci=!1,No=!1,yc=!1,Hn=0,Ye=0,di=0,$i=0,vc=0,Bt=0,Io=0,Fr=null,Nt=null,_c=!1,wa=0,Am=0,Aa=1/0,Ca=null,fi=null,rt=0,hi=null,Mo=null,Bn=0,Ec=0,Sc=null,Cm=null,Jr=0,Tc=null;function Gt(){return(xe&2)!==0&&Se!==0?Se&-Se:G.T!==null?xc():Gf()}function bm(){if(Bt===0)if((Se&536870912)===0||we){var i=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),Bt=i}else Bt=536870912;return i=Lt.current,i!==null&&(i.flags|=32),Bt}function It(i,r,a){(i===He&&(De===2||De===9)||i.cancelPendingCommit!==null)&&(Do(i,0),pi(i,Se,Bt,!1)),hr(i,a),((xe&2)===0||i!==He)&&(i===He&&((xe&2)===0&&($i|=a),Ye===4&&pi(i,Se,Bt,!1)),wn(i))}function Rm(i,r,a){if((xe&6)!==0)throw Error(o(327));var c=!a&&(r&127)===0&&(r&i.expiredLanes)===0||fr(i,r),g=c?IS(i,r):Ac(i,r,!0),v=c;do{if(g===0){No&&!c&&pi(i,r,0,!1);break}else{if(a=i.current.alternate,v&&!xS(a)){g=Ac(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var w=i;g=Fr;var N=w.current.memoizedState.isDehydrated;if(N&&(Do(w,S).flags|=256),S=Ac(w,S,!1),S!==2){if(yc&&!N){w.errorRecoveryDisabledLanes|=v,$i|=v,g=4;break e}v=Nt,Nt=g,v!==null&&(Nt===null?Nt=v:Nt.push.apply(Nt,v))}g=S}if(v=!1,g!==2)continue}}if(g===1){Do(i,0),pi(i,r,0,!0);break}e:{switch(c=i,v=g,v){case 0:case 1:throw Error(o(345));case 4:if((r&4194048)!==r)break;case 6:pi(c,r,Bt,!ci);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((r&62914560)===r&&(g=wa+300-Dt(),10<g)){if(pi(c,r,Bt,!ci),Os(c,0,!0)!==0)break e;Bn=r,c.timeoutHandle=og(xm.bind(null,c,a,Nt,Ca,_c,r,Bt,$i,Io,ci,v,"Throttled",-0,0),g);break e}xm(c,a,Nt,Ca,_c,r,Bt,$i,Io,ci,v,null,-0,0)}}break}while(!0);wn(i)}function xm(i,r,a,c,g,v,S,w,N,L,V,$,q,H){if(i.timeoutHandle=-1,$=r.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},Em(r,v,$);var ee=(v&62914560)===v?wa-Dt():(v&4194048)===v?Am-Dt():0;if(ee=fT($,ee),ee!==null){Bn=v,i.cancelPendingCommit=ee(Pm.bind(null,i,r,v,a,c,g,S,w,N,V,$,null,q,H)),pi(i,v,S,!L);return}}Pm(i,r,v,a,c,g,S,w,N)}function xS(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var g=a[c],v=g.getSnapshot;g=g.value;try{if(!Ot(v(),g))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pi(i,r,a,c){r&=~vc,r&=~$i,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var g=r;0<g;){var v=31-kt(g),S=1<<v;c[v]=-1,g&=~S}a!==0&&qf(i,a,r)}function ba(){return(xe&6)===0?(Kr(0),!1):!0}function wc(){if(_e!==null){if(De===0)var i=_e.return;else i=_e,Nn=Oi=null,Hu(i),To=null,Nr=0,i=_e;for(;i!==null;)rm(i.alternate,i),i=i.return;_e=null}}function Do(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,YS(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Bn=0,wc(),He=i,_e=a=Rn(i.current,null),Se=r,De=0,Ht=null,ci=!1,No=fr(i,r),yc=!1,Io=Bt=vc=$i=di=Ye=0,Nt=Fr=null,_c=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var g=31-kt(c),v=1<<g;r|=i[g],c&=~v}return Hn=r,Ks(),a}function Nm(i,r){pe=null,G.H=Lr,r===So||r===ta?(r=Fh(),De=3):r===Ru?(r=Fh(),De=4):De=r===tc?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ht=r,_e===null&&(Ye=1,ma(i,Qt(r,i.current)))}function Im(){var i=Lt.current;return i===null?!0:(Se&4194048)===Se?en===null:(Se&62914560)===Se||(Se&536870912)!==0?i===en:!1}function Mm(){var i=G.H;return G.H=Lr,i===null?Lr:i}function Dm(){var i=G.A;return G.A=bS,i}function Ra(){Ye=4,ci||(Se&4194048)!==Se&&Lt.current!==null||(No=!0),(di&134217727)===0&&($i&134217727)===0||He===null||pi(He,Se,Bt,!1)}function Ac(i,r,a){var c=xe;xe|=2;var g=Mm(),v=Dm();(He!==i||Se!==r)&&(Ca=null,Do(i,r)),r=!1;var S=Ye;e:do try{if(De!==0&&_e!==null){var w=_e,N=Ht;switch(De){case 8:wc(),S=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(r=!0);var L=De;if(De=0,Ht=null,Uo(i,w,N,L),a&&No){S=0;break e}break;default:L=De,De=0,Ht=null,Uo(i,w,N,L)}}NS(),S=Ye;break}catch(V){Nm(i,V)}while(!0);return r&&i.shellSuspendCounter++,Nn=Oi=null,xe=c,G.H=g,G.A=v,_e===null&&(He=null,Se=0,Ks()),S}function NS(){for(;_e!==null;)Um(_e)}function IS(i,r){var a=xe;xe|=2;var c=Mm(),g=Dm();He!==i||Se!==r?(Ca=null,Aa=Dt()+500,Do(i,r)):No=fr(i,r);e:do try{if(De!==0&&_e!==null){r=_e;var v=Ht;t:switch(De){case 1:De=0,Ht=null,Uo(i,r,v,1);break;case 2:case 9:if(zh(v)){De=0,Ht=null,km(r);break}r=function(){De!==2&&De!==9||He!==i||(De=7),wn(i)},v.then(r,r);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:zh(v)?(De=0,Ht=null,km(r)):(De=0,Ht=null,Uo(i,r,v,7));break;case 5:var S=null;switch(_e.tag){case 26:S=_e.memoizedState;case 5:case 27:var w=_e;if(S?_g(S):w.stateNode.complete){De=0,Ht=null;var N=w.sibling;if(N!==null)_e=N;else{var L=w.return;L!==null?(_e=L,xa(L)):_e=null}break t}}De=0,Ht=null,Uo(i,r,v,5);break;case 6:De=0,Ht=null,Uo(i,r,v,6);break;case 8:wc(),Ye=6;break e;default:throw Error(o(462))}}MS();break}catch(V){Nm(i,V)}while(!0);return Nn=Oi=null,G.H=c,G.A=g,xe=a,_e!==null?0:(He=null,Se=0,Ks(),Ye)}function MS(){for(;_e!==null&&!eE();)Um(_e)}function Um(i){var r=im(i.alternate,i,Hn);i.memoizedProps=i.pendingProps,r===null?xa(i):_e=r}function km(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Wp(a,r,r.pendingProps,r.type,void 0,Se);break;case 11:r=Wp(a,r,r.pendingProps,r.type.render,r.ref,Se);break;case 5:Hu(r);default:rm(a,r),r=_e=Dh(r,Hn),r=im(a,r,Hn)}i.memoizedProps=i.pendingProps,r===null?xa(i):_e=r}function Uo(i,r,a,c){Nn=Oi=null,Hu(r),To=null,Nr=0;var g=r.return;try{if(_S(i,g,r,a,Se)){Ye=1,ma(i,Qt(a,i.current)),_e=null;return}}catch(v){if(g!==null)throw _e=g,v;Ye=1,ma(i,Qt(a,i.current)),_e=null;return}r.flags&32768?(we||c===1?i=!0:No||(Se&536870912)!==0?i=!1:(ci=i=!0,(c===2||c===9||c===3||c===6)&&(c=Lt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Om(r,i)):xa(r)}function xa(i){var r=i;do{if((r.flags&32768)!==0){Om(r,ci);return}i=r.return;var a=TS(r.alternate,r,Hn);if(a!==null){_e=a;return}if(r=r.sibling,r!==null){_e=r;return}_e=r=i}while(r!==null);Ye===0&&(Ye=5)}function Om(i,r){do{var a=wS(i.alternate,i);if(a!==null){a.flags&=32767,_e=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){_e=i;return}_e=i=a}while(i!==null);Ye=6,_e=null}function Pm(i,r,a,c,g,v,S,w,N){i.cancelPendingCommit=null;do Na();while(rt!==0);if((xe&6)!==0)throw Error(o(327));if(r!==null){if(r===i.current)throw Error(o(177));if(v=r.lanes|r.childLanes,v|=fu,cE(i,a,v,S,w,N),i===He&&(_e=He=null,Se=0),Mo=r,hi=i,Bn=a,Ec=v,Sc=g,Cm=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,OS(Ms,function(){return Gm(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,g=W.p,W.p=2,S=xe,xe|=4;try{AS(i,r,a)}finally{xe=S,W.p=g,G.T=c}}rt=1,Lm(),qm(),Hm()}}function Lm(){if(rt===1){rt=0;var i=hi,r=Mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var c=W.p;W.p=2;var g=xe;xe|=4;try{ym(r,i);var v=Pc,S=wh(i.containerInfo),w=v.focusedElem,N=v.selectionRange;if(S!==w&&w&&w.ownerDocument&&Th(w.ownerDocument.documentElement,w)){if(N!==null&&au(w)){var L=N.start,V=N.end;if(V===void 0&&(V=L),"selectionStart"in w)w.selectionStart=L,w.selectionEnd=Math.min(V,w.value.length);else{var $=w.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var H=q.getSelection(),ee=w.textContent.length,se=Math.min(N.start,ee),Le=N.end===void 0?se:Math.min(N.end,ee);!H.extend&&se>Le&&(S=Le,Le=se,se=S);var O=Sh(w,se),D=Sh(w,Le);if(O&&D&&(H.rangeCount!==1||H.anchorNode!==O.node||H.anchorOffset!==O.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=$.createRange();P.setStart(O.node,O.offset),H.removeAllRanges(),se>Le?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for($=[],H=w;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<$.length;w++){var z=$[w];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Ga=!!Oc,Pc=Oc=null}finally{xe=g,W.p=c,G.T=a}}i.current=r,rt=2}}function qm(){if(rt===2){rt=0;var i=hi,r=Mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var c=W.p;W.p=2;var g=xe;xe|=4;try{fm(i,r.alternate,r)}finally{xe=g,W.p=c,G.T=a}}rt=3}}function Hm(){if(rt===4||rt===3){rt=0,tE();var i=hi,r=Mo,a=Bn,c=Cm;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?rt=5:(rt=0,Mo=hi=null,Bm(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(fi=null),Vl(a),r=r.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(dr,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=G.T,g=W.p,W.p=2,G.T=null;try{for(var v=i.onRecoverableError,S=0;S<c.length;S++){var w=c[S];v(w.value,{componentStack:w.stack})}}finally{G.T=r,W.p=g}}(Bn&3)!==0&&Na(),wn(i),g=i.pendingLanes,(a&261930)!==0&&(g&42)!==0?i===Tc?Jr++:(Jr=0,Tc=i):Jr=0,Kr(0)}}function Bm(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Rr(r)))}function Na(){return Lm(),qm(),Hm(),Gm()}function Gm(){if(rt!==5)return!1;var i=hi,r=Ec;Ec=0;var a=Vl(Bn),c=G.T,g=W.p;try{W.p=32>a?32:a,G.T=null,a=Sc,Sc=null;var v=hi,S=Bn;if(rt=0,Mo=hi=null,Bn=0,(xe&6)!==0)throw Error(o(331));var w=xe;if(xe|=4,Tm(v.current),_m(v,v.current,S,a),xe=w,Kr(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(dr,v)}catch{}return!0}finally{W.p=g,G.T=c,Bm(i,r)}}function Vm(i,r,a){r=Qt(a,r),r=ec(i.stateNode,r,2),i=si(i,r,2),i!==null&&(hr(i,2),wn(i))}function Ue(i,r,a){if(i.tag===3)Vm(i,i,a);else for(;r!==null;){if(r.tag===3){Vm(r,i,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fi===null||!fi.has(c))){i=Qt(a,i),a=zp(2),c=si(r,a,2),c!==null&&($p(a,c,r,i),hr(c,2),wn(c));break}}r=r.return}}function Cc(i,r,a){var c=i.pingCache;if(c===null){c=i.pingCache=new RS;var g=new Set;c.set(r,g)}else g=c.get(r),g===void 0&&(g=new Set,c.set(r,g));g.has(a)||(yc=!0,g.add(a),i=DS.bind(null,i,r,a),r.then(i,i))}function DS(i,r,a){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,He===i&&(Se&a)===a&&(Ye===4||Ye===3&&(Se&62914560)===Se&&300>Dt()-wa?(xe&2)===0&&Do(i,0):vc|=a,Io===Se&&(Io=0)),wn(i)}function zm(i,r){r===0&&(r=Lf()),i=Di(i,r),i!==null&&(hr(i,r),wn(i))}function US(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),zm(i,a)}function kS(i,r){var a=0;switch(i.tag){case 31:case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(r),zm(i,a)}function OS(i,r){return ql(i,r)}var Ia=null,ko=null,bc=!1,Ma=!1,Rc=!1,mi=0;function wn(i){i!==ko&&i.next===null&&(ko===null?Ia=ko=i:ko=ko.next=i),Ma=!0,bc||(bc=!0,LS())}function Kr(i,r){if(!Rc&&Ma){Rc=!0;do for(var a=!1,c=Ia;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var v=0;else{var S=c.suspendedLanes,w=c.pingedLanes;v=(1<<31-kt(42|i)+1)-1,v&=g&~(S&~w),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Km(c,v))}else v=Se,v=Os(c,c===He?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||fr(c,v)||(a=!0,Km(c,v));c=c.next}while(a);Rc=!1}}function PS(){$m()}function $m(){Ma=bc=!1;var i=0;mi!==0&&KS()&&(i=mi);for(var r=Dt(),a=null,c=Ia;c!==null;){var g=c.next,v=Fm(c,r);v===0?(c.next=null,a===null?Ia=g:a.next=g,g===null&&(ko=a)):(a=c,(i!==0||(v&3)!==0)&&(Ma=!0)),c=g}rt!==0&&rt!==5||Kr(i),mi!==0&&(mi=0)}function Fm(i,r){for(var a=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var S=31-kt(v),w=1<<S,N=g[S];N===-1?((w&a)===0||(w&c)!==0)&&(g[S]=uE(w,r)):N<=r&&(i.expiredLanes|=w),v&=~w}if(r=He,a=Se,a=Os(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,a===0||i===r&&(De===2||De===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Hl(c),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||fr(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(c!==null&&Hl(c),Vl(a)){case 2:case 8:a=Of;break;case 32:a=Ms;break;case 268435456:a=Pf;break;default:a=Ms}return c=Jm.bind(null,i),a=ql(a,c),i.callbackPriority=r,i.callbackNode=a,r}return c!==null&&c!==null&&Hl(c),i.callbackPriority=2,i.callbackNode=null,2}function Jm(i,r){if(rt!==0&&rt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Na()&&i.callbackNode!==a)return null;var c=Se;return c=Os(i,i===He?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Rm(i,c,r),Fm(i,Dt()),i.callbackNode!=null&&i.callbackNode===a?Jm.bind(null,i):null)}function Km(i,r){if(Na())return null;Rm(i,r,!0)}function LS(){XS(function(){(xe&6)!==0?ql(kf,PS):$m()})}function xc(){if(mi===0){var i=_o;i===0&&(i=Ds,Ds<<=1,(Ds&261888)===0&&(Ds=256)),mi=i}return mi}function Ym(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Hs(""+i)}function Xm(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function qS(i,r,a,c,g){if(r==="submit"&&a&&a.stateNode===g){var v=Ym((g[At]||null).action),S=c.submitter;S&&(r=(r=S[At]||null)?Ym(r.formAction):S.getAttribute("formAction"),r!==null&&(v=r,S=null));var w=new zs("action","action",null,c,g);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(mi!==0){var N=S?Xm(g,S):new FormData(g);Yu(a,{pending:!0,data:N,method:g.method,action:v},null,N)}}else typeof v=="function"&&(w.preventDefault(),N=S?Xm(g,S):new FormData(g),Yu(a,{pending:!0,data:N,method:g.method,action:v},v,N))},currentTarget:g}]})}}for(var Nc=0;Nc<du.length;Nc++){var Ic=du[Nc],HS=Ic.toLowerCase(),BS=Ic[0].toUpperCase()+Ic.slice(1);un(HS,"on"+BS)}un(bh,"onAnimationEnd"),un(Rh,"onAnimationIteration"),un(xh,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(nS,"onTransitionRun"),un(iS,"onTransitionStart"),un(oS,"onTransitionCancel"),un(Nh,"onTransitionEnd"),oo("onMouseEnter",["mouseout","mouseover"]),oo("onMouseLeave",["mouseout","mouseover"]),oo("onPointerEnter",["pointerout","pointerover"]),oo("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yr));function Qm(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var c=i[a],g=c.event;c=c.listeners;e:{var v=void 0;if(r)for(var S=c.length-1;0<=S;S--){var w=c[S],N=w.instance,L=w.currentTarget;if(w=w.listener,N!==v&&g.isPropagationStopped())break e;v=w,g.currentTarget=L;try{v(g)}catch(V){Js(V)}g.currentTarget=null,v=N}else for(S=0;S<c.length;S++){if(w=c[S],N=w.instance,L=w.currentTarget,w=w.listener,N!==v&&g.isPropagationStopped())break e;v=w,g.currentTarget=L;try{v(g)}catch(V){Js(V)}g.currentTarget=null,v=N}}}}function Ee(i,r){var a=r[zl];a===void 0&&(a=r[zl]=new Set);var c=i+"__bubble";a.has(c)||(Wm(r,i,2,!1),a.add(c))}function Mc(i,r,a){var c=0;r&&(c|=4),Wm(a,i,c,r)}var Da="_reactListening"+Math.random().toString(36).slice(2);function Dc(i){if(!i[Da]){i[Da]=!0,$f.forEach(function(a){a!=="selectionchange"&&(GS.has(a)||Mc(a,!1,i),Mc(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Da]||(r[Da]=!0,Mc("selectionchange",!1,r))}}function Wm(i,r,a,c){switch(bg(r)){case 2:var g=mT;break;case 8:g=gT;break;default:g=Kc}a=g.bind(null,r,a,i),g=void 0,!Zl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(r,a,{capture:!0,passive:g}):i.addEventListener(r,a,!0):g!==void 0?i.addEventListener(r,a,{passive:g}):i.addEventListener(r,a,!1)}function Uc(i,r,a,c,g){var v=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var w=c.stateNode.containerInfo;if(w===g)break;if(S===4)for(S=c.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;w!==null;){if(S=to(w),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){c=v=S;continue e}w=w.parentNode}}c=c.return}nh(function(){var L=v,V=Ql(a),$=[];e:{var q=Ih.get(i);if(q!==void 0){var H=zs,ee=i;switch(i){case"keypress":if(Gs(a)===0)break e;case"keydown":case"keyup":H=kE;break;case"focusin":ee="focus",H=nu;break;case"focusout":ee="blur",H=nu;break;case"beforeblur":case"afterblur":H=nu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=TE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=LE;break;case bh:case Rh:case xh:H=CE;break;case Nh:H=HE;break;case"scroll":case"scrollend":H=EE;break;case"wheel":H=GE;break;case"copy":case"cut":case"paste":H=RE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ah;break;case"toggle":case"beforetoggle":H=zE}var se=(r&4)!==0,Le=!se&&(i==="scroll"||i==="scrollend"),O=se?q!==null?q+"Capture":null:q;se=[];for(var D=L,P;D!==null;){var z=D;if(P=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||P===null||O===null||(z=gr(D,O),z!=null&&se.push(Xr(D,z,P))),Le)break;D=D.return}0<se.length&&(q=new H(q,ee,null,a,V),$.push({event:q,listeners:se}))}}if((r&7)===0){e:{if(q=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",q&&a!==Xl&&(ee=a.relatedTarget||a.fromElement)&&(to(ee)||ee[eo]))break e;if((H||q)&&(q=V.window===V?V:(q=V.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ee=a.relatedTarget||a.toElement,H=L,ee=ee?to(ee):null,ee!==null&&(Le=l(ee),se=ee.tag,ee!==Le||se!==5&&se!==27&&se!==6)&&(ee=null)):(H=null,ee=L),H!==ee)){if(se=rh,z="onMouseLeave",O="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(se=ah,z="onPointerLeave",O="onPointerEnter",D="pointer"),Le=H==null?q:mr(H),P=ee==null?q:mr(ee),q=new se(z,D+"leave",H,a,V),q.target=Le,q.relatedTarget=P,z=null,to(V)===L&&(se=new se(O,D+"enter",ee,a,V),se.target=P,se.relatedTarget=Le,z=se),Le=z,H&&ee)t:{for(se=VS,O=H,D=ee,P=0,z=O;z;z=se(z))P++;z=0;for(var re=D;re;re=se(re))z++;for(;0<P-z;)O=se(O),P--;for(;0<z-P;)D=se(D),z--;for(;P--;){if(O===D||D!==null&&O===D.alternate){se=O;break t}O=se(O),D=se(D)}se=null}else se=null;H!==null&&Zm($,q,H,se,!1),ee!==null&&Le!==null&&Zm($,Le,ee,se,!0)}}e:{if(q=L?mr(L):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var Ce=mh;else if(hh(q))if(gh)Ce=jE;else{Ce=WE;var ne=QE}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&Yl(L.elementType)&&(Ce=mh):Ce=ZE;if(Ce&&(Ce=Ce(i,L))){ph($,Ce,a,V);break e}ne&&ne(i,q,L),i==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&Kl(q,"number",q.value)}switch(ne=L?mr(L):window,i){case"focusin":(hh(ne)||ne.contentEditable==="true")&&(co=ne,lu=L,Ar=null);break;case"focusout":Ar=lu=co=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,Ah($,a,V);break;case"selectionchange":if(tS)break;case"keydown":case"keyup":Ah($,a,V)}var ge;if(ou)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else uo?dh(i,a)&&(Te="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(lh&&a.locale!=="ko"&&(uo||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&uo&&(ge=ih()):(jn=V,jl="value"in jn?jn.value:jn.textContent,uo=!0)),ne=Ua(L,Te),0<ne.length&&(Te=new sh(Te,i,null,a,V),$.push({event:Te,listeners:ne}),ge?Te.data=ge:(ge=fh(a),ge!==null&&(Te.data=ge)))),(ge=FE?JE(i,a):KE(i,a))&&(Te=Ua(L,"onBeforeInput"),0<Te.length&&(ne=new sh("onBeforeInput","beforeinput",null,a,V),$.push({event:ne,listeners:Te}),ne.data=ge)),qS($,i,L,a,V)}Qm($,r)})}function Xr(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Ua(i,r){for(var a=r+"Capture",c=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=gr(i,a),g!=null&&c.unshift(Xr(i,g,v)),g=gr(i,r),g!=null&&c.push(Xr(i,g,v))),i.tag===3)return c;i=i.return}return[]}function VS(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Zm(i,r,a,c,g){for(var v=r._reactName,S=[];a!==null&&a!==c;){var w=a,N=w.alternate,L=w.stateNode;if(w=w.tag,N!==null&&N===c)break;w!==5&&w!==26&&w!==27||L===null||(N=L,g?(L=gr(a,v),L!=null&&S.unshift(Xr(a,L,N))):g||(L=gr(a,v),L!=null&&S.push(Xr(a,L,N)))),a=a.return}S.length!==0&&i.push({event:r,listeners:S})}var zS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function jm(i){return(typeof i=="string"?i:""+i).replace(zS,`
`).replace($S,"")}function eg(i,r){return r=jm(r),jm(i)===r}function Pe(i,r,a,c,g,v){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||so(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&so(i,""+c);break;case"className":Ls(i,"class",c);break;case"tabIndex":Ls(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ls(i,a,c);break;case"style":eh(i,c,v);break;case"data":if(r!=="object"){Ls(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=Hs(""+c),i.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(r!=="input"&&Pe(i,r,"name",g.name,g,null),Pe(i,r,"formEncType",g.formEncType,g,null),Pe(i,r,"formMethod",g.formMethod,g,null),Pe(i,r,"formTarget",g.formTarget,g,null)):(Pe(i,r,"encType",g.encType,g,null),Pe(i,r,"method",g.method,g,null),Pe(i,r,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=Hs(""+c),i.setAttribute(a,c);break;case"onClick":c!=null&&(i.onclick=Cn);break;case"onScroll":c!=null&&Ee("scroll",i);break;case"onScrollEnd":c!=null&&Ee("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(o(60));i.innerHTML=a}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}a=Hs(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""+c):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":c===!0?i.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,c):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(a,c):i.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(a):i.setAttribute(a,c);break;case"popover":Ee("beforetoggle",i),Ee("toggle",i),Ps(i,"popover",c);break;case"xlinkActuate":An(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":An(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":An(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":An(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":An(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":An(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":An(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":An(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":An(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ps(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vE.get(a)||a,Ps(i,a,c))}}function kc(i,r,a,c,g,v){switch(a){case"style":eh(i,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(o(60));i.innerHTML=a}}break;case"children":typeof c=="string"?so(i,c):(typeof c=="number"||typeof c=="bigint")&&so(i,""+c);break;case"onScroll":c!=null&&Ee("scroll",i);break;case"onScrollEnd":c!=null&&Ee("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ff.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),r=a.slice(2,g?a.length-7:void 0),v=i[At]||null,v=v!=null?v[a]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof c=="function")){typeof v!="function"&&v!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,c,g);break e}a in i?i[a]=c:c===!0?i.setAttribute(a,""):Ps(i,a,c)}}}function pt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",i),Ee("load",i);var c=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var S=a[v];if(S!=null)switch(v){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,r));default:Pe(i,r,v,S,a,null)}}g&&Pe(i,r,"srcSet",a.srcSet,a,null),c&&Pe(i,r,"src",a.src,a,null);return;case"input":Ee("invalid",i);var w=v=S=g=null,N=null,L=null;for(c in a)if(a.hasOwnProperty(c)){var V=a[c];if(V!=null)switch(c){case"name":g=V;break;case"type":S=V;break;case"checked":N=V;break;case"defaultChecked":L=V;break;case"value":v=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,r));break;default:Pe(i,r,c,V,a,null)}}Qf(i,v,w,N,L,S,g,!1);return;case"select":Ee("invalid",i),c=S=v=null;for(g in a)if(a.hasOwnProperty(g)&&(w=a[g],w!=null))switch(g){case"value":v=w;break;case"defaultValue":S=w;break;case"multiple":c=w;default:Pe(i,r,g,w,a,null)}r=v,a=S,i.multiple=!!c,r!=null?ro(i,!!c,r,!1):a!=null&&ro(i,!!c,a,!0);return;case"textarea":Ee("invalid",i),v=g=c=null;for(S in a)if(a.hasOwnProperty(S)&&(w=a[S],w!=null))switch(S){case"value":c=w;break;case"defaultValue":g=w;break;case"children":v=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(91));break;default:Pe(i,r,S,w,a,null)}Zf(i,c,g,v);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(c=a[N],c!=null))switch(N){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Pe(i,r,N,c,a,null)}return;case"dialog":Ee("beforetoggle",i),Ee("toggle",i),Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":Ee("load",i);break;case"video":case"audio":for(c=0;c<Yr.length;c++)Ee(Yr[c],i);break;case"image":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"embed":case"source":case"link":Ee("error",i),Ee("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(c=a[L],c!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,r));default:Pe(i,r,L,c,a,null)}return;default:if(Yl(r)){for(V in a)a.hasOwnProperty(V)&&(c=a[V],c!==void 0&&kc(i,r,V,c,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(c=a[w],c!=null&&Pe(i,r,w,c,a,null))}function FS(i,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,S=null,w=null,N=null,L=null,V=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=$;default:c.hasOwnProperty(H)||Pe(i,r,H,null,c,$)}}for(var q in c){var H=c[q];if($=a[q],c.hasOwnProperty(q)&&(H!=null||$!=null))switch(q){case"type":v=H;break;case"name":g=H;break;case"checked":L=H;break;case"defaultChecked":V=H;break;case"value":S=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,r));break;default:H!==$&&Pe(i,r,q,H,c,$)}}Jl(i,S,w,N,L,V,v,g);return;case"select":H=S=w=q=null;for(v in a)if(N=a[v],a.hasOwnProperty(v)&&N!=null)switch(v){case"value":break;case"multiple":H=N;default:c.hasOwnProperty(v)||Pe(i,r,v,null,c,N)}for(g in c)if(v=c[g],N=a[g],c.hasOwnProperty(g)&&(v!=null||N!=null))switch(g){case"value":q=v;break;case"defaultValue":w=v;break;case"multiple":S=v;default:v!==N&&Pe(i,r,g,v,c,N)}r=w,a=S,c=H,q!=null?ro(i,!!a,q,!1):!!c!=!!a&&(r!=null?ro(i,!!a,r,!0):ro(i,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(w in a)if(g=a[w],a.hasOwnProperty(w)&&g!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Pe(i,r,w,null,c,g)}for(S in c)if(g=c[S],v=a[S],c.hasOwnProperty(S)&&(g!=null||v!=null))switch(S){case"value":q=g;break;case"defaultValue":H=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==v&&Pe(i,r,S,g,c,v)}Wf(i,q,H);return;case"option":for(var ee in a)if(q=a[ee],a.hasOwnProperty(ee)&&q!=null&&!c.hasOwnProperty(ee))switch(ee){case"selected":i.selected=!1;break;default:Pe(i,r,ee,null,c,q)}for(N in c)if(q=c[N],H=a[N],c.hasOwnProperty(N)&&q!==H&&(q!=null||H!=null))switch(N){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Pe(i,r,N,q,c,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)q=a[se],a.hasOwnProperty(se)&&q!=null&&!c.hasOwnProperty(se)&&Pe(i,r,se,null,c,q);for(L in c)if(q=c[L],H=a[L],c.hasOwnProperty(L)&&q!==H&&(q!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,r));break;default:Pe(i,r,L,q,c,H)}return;default:if(Yl(r)){for(var Le in a)q=a[Le],a.hasOwnProperty(Le)&&q!==void 0&&!c.hasOwnProperty(Le)&&kc(i,r,Le,void 0,c,q);for(V in c)q=c[V],H=a[V],!c.hasOwnProperty(V)||q===H||q===void 0&&H===void 0||kc(i,r,V,q,c,H);return}}for(var O in a)q=a[O],a.hasOwnProperty(O)&&q!=null&&!c.hasOwnProperty(O)&&Pe(i,r,O,null,c,q);for($ in c)q=c[$],H=a[$],!c.hasOwnProperty($)||q===H||q==null&&H==null||Pe(i,r,$,q,c,H)}function tg(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JS(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var g=a[c],v=g.transferSize,S=g.initiatorType,w=g.duration;if(v&&w&&tg(S)){for(S=0,w=g.responseEnd,c+=1;c<a.length;c++){var N=a[c],L=N.startTime;if(L>w)break;var V=N.transferSize,$=N.initiatorType;V&&tg($)&&(N=N.responseEnd,S+=V*(N<w?1:(w-L)/(N-L)))}if(--c,r+=8*(v+S)/(g.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Oc=null,Pc=null;function ka(i){return i.nodeType===9?i:i.ownerDocument}function ng(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ig(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Lc(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qc=null;function KS(){var i=window.event;return i&&i.type==="popstate"?i===qc?!1:(qc=i,!0):(qc=null,!1)}var og=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(i){return rg.resolve(null).then(i).catch(QS)}:og;function QS(i){setTimeout(function(){throw i})}function gi(i){return i==="head"}function sg(i,r){var a=r,c=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(c===0){i.removeChild(g),qo(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Qr(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Qr(a);for(var v=a.firstChild;v;){var S=v.nextSibling,w=v.nodeName;v[pr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}else a==="body"&&Qr(i.ownerDocument.body);a=g}while(a);qo(r)}function ag(i,r){var a=i;i=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=c}while(a)}function Hc(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hc(a),$l(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function WS(i,r,a,c){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[pr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=tn(i.nextSibling),i===null)break}return null}function ZS(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=tn(i.nextSibling),i===null))return null;return i}function lg(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=tn(i.nextSibling),i===null))return null;return i}function Bc(i){return i.data==="$?"||i.data==="$~"}function Gc(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function jS(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function tn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Vc=null;function ug(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return tn(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function cg(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function dg(i,r,a){switch(r=ka(a),i){case"html":if(i=r.documentElement,!i)throw Error(o(452));return i;case"head":if(i=r.head,!i)throw Error(o(453));return i;case"body":if(i=r.body,!i)throw Error(o(454));return i;default:throw Error(o(451))}}function Qr(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);$l(i)}var nn=new Map,fg=new Set;function Oa(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Gn=W.d;W.d={f:eT,r:tT,D:nT,C:iT,L:oT,m:rT,X:aT,S:sT,M:lT};function eT(){var i=Gn.f(),r=ba();return i||r}function tT(i){var r=no(i);r!==null&&r.tag===5&&r.type==="form"?Np(r):Gn.r(i)}var Oo=typeof document>"u"?null:document;function hg(i,r,a){var c=Oo;if(c&&typeof r=="string"&&r){var g=Yt(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),fg.has(g)||(fg.add(g),i={rel:i,crossOrigin:a,href:r},c.querySelector(g)===null&&(r=c.createElement("link"),pt(r,"link",i),at(r),c.head.appendChild(r)))}}function nT(i){Gn.D(i),hg("dns-prefetch",i,null)}function iT(i,r){Gn.C(i,r),hg("preconnect",i,r)}function oT(i,r,a){Gn.L(i,r,a);var c=Oo;if(c&&i&&r){var g='link[rel="preload"][as="'+Yt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+Yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+Yt(a.imageSizes)+'"]')):g+='[href="'+Yt(i)+'"]';var v=g;switch(r){case"style":v=Po(i);break;case"script":v=Lo(i)}nn.has(v)||(i=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),nn.set(v,i),c.querySelector(g)!==null||r==="style"&&c.querySelector(Wr(v))||r==="script"&&c.querySelector(Zr(v))||(r=c.createElement("link"),pt(r,"link",i),at(r),c.head.appendChild(r)))}}function rT(i,r){Gn.m(i,r);var a=Oo;if(a&&i){var c=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Yt(c)+'"][href="'+Yt(i)+'"]',v=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Lo(i)}if(!nn.has(v)&&(i=_({rel:"modulepreload",href:i},r),nn.set(v,i),a.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zr(v)))return}c=a.createElement("link"),pt(c,"link",i),at(c),a.head.appendChild(c)}}}function sT(i,r,a){Gn.S(i,r,a);var c=Oo;if(c&&i){var g=io(c).hoistableStyles,v=Po(i);r=r||"default";var S=g.get(v);if(!S){var w={loading:0,preload:null};if(S=c.querySelector(Wr(v)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},a),(a=nn.get(v))&&zc(i,a);var N=S=c.createElement("link");at(N),pt(N,"link",i),N._p=new Promise(function(L,V){N.onload=L,N.onerror=V}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Pa(S,r,c)}S={type:"stylesheet",instance:S,count:1,state:w},g.set(v,S)}}}function aT(i,r){Gn.X(i,r);var a=Oo;if(a&&i){var c=io(a).hoistableScripts,g=Lo(i),v=c.get(g);v||(v=a.querySelector(Zr(g)),v||(i=_({src:i,async:!0},r),(r=nn.get(g))&&$c(i,r),v=a.createElement("script"),at(v),pt(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function lT(i,r){Gn.M(i,r);var a=Oo;if(a&&i){var c=io(a).hoistableScripts,g=Lo(i),v=c.get(g);v||(v=a.querySelector(Zr(g)),v||(i=_({src:i,async:!0,type:"module"},r),(r=nn.get(g))&&$c(i,r),v=a.createElement("script"),at(v),pt(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function pg(i,r,a,c){var g=(g=ve.current)?Oa(g):null;if(!g)throw Error(o(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Po(a.href),a=io(g).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Po(a.href);var v=io(g).hoistableStyles,S=v.get(i);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,S),(v=g.querySelector(Wr(i)))&&!v._p&&(S.instance=v,S.state.loading=5),nn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},nn.set(i,a),v||uT(g,i,a,S.state))),r&&c===null)throw Error(o(528,""));return S}if(r&&c!==null)throw Error(o(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Lo(a),a=io(g).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,i))}}function Po(i){return'href="'+Yt(i)+'"'}function Wr(i){return'link[rel="stylesheet"]['+i+"]"}function mg(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function uT(i,r,a,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),pt(r,"link",a),at(r),i.head.appendChild(r))}function Lo(i){return'[src="'+Yt(i)+'"]'}function Zr(i){return"script[async]"+i}function gg(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Yt(a.href)+'"]');if(c)return r.instance=c,at(c),c;var g=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),at(c),pt(c,"style",g),Pa(c,a.precedence,i),r.instance=c;case"stylesheet":g=Po(a.href);var v=i.querySelector(Wr(g));if(v)return r.state.loading|=4,r.instance=v,at(v),v;c=mg(a),(g=nn.get(g))&&zc(c,g),v=(i.ownerDocument||i).createElement("link"),at(v);var S=v;return S._p=new Promise(function(w,N){S.onload=w,S.onerror=N}),pt(v,"link",c),r.state.loading|=4,Pa(v,a.precedence,i),r.instance=v;case"script":return v=Lo(a.src),(g=i.querySelector(Zr(v)))?(r.instance=g,at(g),g):(c=a,(g=nn.get(v))&&(c=_({},a),$c(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),at(g),pt(g,"link",c),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(o(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Pa(c,a.precedence,i));return r.instance}function Pa(i,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,v=g,S=0;S<c.length;S++){var w=c[S];if(w.dataset.precedence===r)v=w;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function zc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function $c(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var La=null;function yg(i,r,a){if(La===null){var c=new Map,g=La=new Map;g.set(a,c)}else g=La,c=g.get(a),c||(c=new Map,g.set(a,c));if(c.has(i))return c;for(c.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var v=a[g];if(!(v[pr]||v[ct]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(r)||"";S=i+S;var w=c.get(S);w?w.push(v):c.set(S,[v])}}return c}function vg(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function cT(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _g(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function dT(i,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Po(c.href),v=r.querySelector(Wr(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=qa.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=v,at(v);return}v=r.ownerDocument||r,c=mg(c),(g=nn.get(g))&&zc(c,g),v=v.createElement("link"),at(v);var S=v;S._p=new Promise(function(w,N){S.onload=w,S.onerror=N}),pt(v,"link",c),a.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=qa.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var Fc=0;function fT(i,r){return i.stylesheets&&i.count===0&&Ba(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var c=setTimeout(function(){if(i.stylesheets&&Ba(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+r);0<i.imgBytes&&Fc===0&&(Fc=62500*JS());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ba(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>Fc?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function qa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ba(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ha=null;function Ba(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ha=new Map,r.forEach(hT,i),Ha=null,qa.call(i))}function hT(i,r){if(!(r.state.loading&4)){var a=Ha.get(i);if(a)var c=a.get(null);else{a=new Map,Ha.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var S=g[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),c=S)}c&&a.set(null,c)}g=r.instance,S=g.getAttribute("data-precedence"),v=a.get(S)||c,v===c&&a.set(null,g),a.set(S,g),this.count++,c=qa.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var jr={$$typeof:x,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function pT(i,r,a,c,g,v,S,w,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.hiddenUpdates=Bl(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Eg(i,r,a,c,g,v,S,w,N,L,V,$){return i=new pT(i,r,a,S,N,L,V,$,w),r=1,v===!0&&(r|=24),v=Pt(3,null,null,r),i.current=v,v.stateNode=i,r=Au(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:c,isDehydrated:a,cache:r},xu(v),i}function Sg(i){return i?(i=po,i):po}function Tg(i,r,a,c,g,v){g=Sg(g),c.context===null?c.context=g:c.pendingContext=g,c=ri(r),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=si(i,c,r),a!==null&&(It(a,i,r),Mr(a,i,r))}function wg(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Jc(i,r){wg(i,r),(i=i.alternate)&&wg(i,r)}function Ag(i){if(i.tag===13||i.tag===31){var r=Di(i,67108864);r!==null&&It(r,i,67108864),Jc(i,67108864)}}function Cg(i){if(i.tag===13||i.tag===31){var r=Gt();r=Gl(r);var a=Di(i,r);a!==null&&It(a,i,r),Jc(i,r)}}var Ga=!0;function mT(i,r,a,c){var g=G.T;G.T=null;var v=W.p;try{W.p=2,Kc(i,r,a,c)}finally{W.p=v,G.T=g}}function gT(i,r,a,c){var g=G.T;G.T=null;var v=W.p;try{W.p=8,Kc(i,r,a,c)}finally{W.p=v,G.T=g}}function Kc(i,r,a,c){if(Ga){var g=Yc(c);if(g===null)Uc(i,r,c,Va,a),Rg(i,c);else if(vT(g,i,r,a,c))c.stopPropagation();else if(Rg(i,c),r&4&&-1<yT.indexOf(i)){for(;g!==null;){var v=no(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Ri(v.pendingLanes);if(S!==0){var w=v;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var N=1<<31-kt(S);w.entanglements[1]|=N,S&=~N}wn(v),(xe&6)===0&&(Aa=Dt()+500,Kr(0))}}break;case 31:case 13:w=Di(v,2),w!==null&&It(w,v,2),ba(),Jc(v,2)}if(v=Yc(c),v===null&&Uc(i,r,c,Va,a),v===g)break;g=v}g!==null&&c.stopPropagation()}else Uc(i,r,c,null,a)}}function Yc(i){return i=Ql(i),Xc(i)}var Va=null;function Xc(i){if(Va=null,i=to(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=u(r),i!==null)return i;i=null}else if(a===31){if(i=f(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Va=i,null}function bg(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nE()){case kf:return 2;case Of:return 8;case Ms:case iE:return 32;case Pf:return 268435456;default:return 32}default:return 32}}var Qc=!1,yi=null,vi=null,_i=null,es=new Map,ts=new Map,Ei=[],yT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(i,r){switch(i){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":es.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(r.pointerId)}}function ns(i,r,a,c,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:v,targetContainers:[g]},r!==null&&(r=no(r),r!==null&&Ag(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function vT(i,r,a,c,g){switch(r){case"focusin":return yi=ns(yi,i,r,a,c,g),!0;case"dragenter":return vi=ns(vi,i,r,a,c,g),!0;case"mouseover":return _i=ns(_i,i,r,a,c,g),!0;case"pointerover":var v=g.pointerId;return es.set(v,ns(es.get(v)||null,i,r,a,c,g)),!0;case"gotpointercapture":return v=g.pointerId,ts.set(v,ns(ts.get(v)||null,i,r,a,c,g)),!0}return!1}function xg(i){var r=to(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){i.blockedOn=r,Vf(i.priority,function(){Cg(a)});return}}else if(r===31){if(r=f(a),r!==null){i.blockedOn=r,Vf(i.priority,function(){Cg(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function za(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Yc(i.nativeEvent);if(a===null){a=i.nativeEvent;var c=new a.constructor(a.type,a);Xl=c,a.target.dispatchEvent(c),Xl=null}else return r=no(a),r!==null&&Ag(r),i.blockedOn=a,!1;r.shift()}return!0}function Ng(i,r,a){za(i)&&a.delete(r)}function _T(){Qc=!1,yi!==null&&za(yi)&&(yi=null),vi!==null&&za(vi)&&(vi=null),_i!==null&&za(_i)&&(_i=null),es.forEach(Ng),ts.forEach(Ng)}function $a(i,r){i.blockedOn===r&&(i.blockedOn=null,Qc||(Qc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_T)))}var Fa=null;function Ig(i){Fa!==i&&(Fa=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fa===i&&(Fa=null);for(var r=0;r<i.length;r+=3){var a=i[r],c=i[r+1],g=i[r+2];if(typeof c!="function"){if(Xc(c||a)===null)continue;break}var v=no(a);v!==null&&(i.splice(r,3),r-=3,Yu(v,{pending:!0,data:g,method:a.method,action:c},c,g))}}))}function qo(i){function r(N){return $a(N,i)}yi!==null&&$a(yi,i),vi!==null&&$a(vi,i),_i!==null&&$a(_i,i),es.forEach(r),ts.forEach(r);for(var a=0;a<Ei.length;a++){var c=Ei[a];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ei.length&&(a=Ei[0],a.blockedOn===null);)xg(a),a.blockedOn===null&&Ei.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var g=a[c],v=a[c+1],S=g[At]||null;if(typeof v=="function")S||Ig(a);else if(S){var w=null;if(v&&v.hasAttribute("formAction")){if(g=v,S=v[At]||null)w=S.formAction;else if(Xc(g)!==null)continue}else w=S.action;typeof w=="function"?a[c+1]=w:(a.splice(c,3),c-=3),Ig(a)}}}function Mg(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Wc(i){this._internalRoot=i}Ja.prototype.render=Wc.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(o(409));var a=r.current,c=Gt();Tg(a,c,i,r,null,null)},Ja.prototype.unmount=Wc.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Tg(i.current,2,null,i,null,null),ba(),r[eo]=null}};function Ja(i){this._internalRoot=i}Ja.prototype.unstable_scheduleHydration=function(i){if(i){var r=Gf();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Ei.length&&r!==0&&r<Ei[a].priority;a++);Ei.splice(a,0,i),a===0&&xg(i)}};var Dg=e.version;if(Dg!=="19.2.3")throw Error(o(527,Dg,"19.2.3"));W.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=h(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var ET={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{dr=Ka.inject(ET),Ut=Ka}catch{}}return os.createRoot=function(i,r){if(!s(i))throw Error(o(299));var a=!1,c="",g=Hp,v=Bp,S=Gp;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),r=Eg(i,1,!1,null,null,a,c,null,g,v,S,Mg),i[eo]=r.current,Dc(i),new Wc(r)},os.hydrateRoot=function(i,r,a){if(!s(i))throw Error(o(299));var c=!1,g="",v=Hp,S=Bp,w=Gp,N=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=Eg(i,1,!0,r,a??null,c,g,N,v,S,w,Mg),r.context=Sg(null),a=r.current,c=Gt(),c=Gl(c),g=ri(c),g.callback=null,si(a,g,c),a=c,r.current.lanes=a,hr(r,a),wn(r),i[eo]=r.current,Dc(i),new Ja(r)},os.version="19.2.3",os}var Vg;function DT(){if(Vg)return jc.exports;Vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jc.exports=MT(),jc.exports}var UT=DT();const kT=Cs(UT),OT="modulepreload",PT=function(t){return"/"+t},zg={},ye=function(e,n,o){let s=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=u(n.map(h=>{if(h=PT(h),h in zg)return;zg[h]=!0;const y=h.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${_}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":OT,y||(E.as="script"),E.crossOrigin="",E.href=h,p&&E.setAttribute("nonce",p),document.head.appendChild(E),y)return new Promise((T,A)=>{E.addEventListener("load",T),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var M=lf();const Ai=Cs(M);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $g="popstate";function LT(t={}){function e(o,s){let{pathname:l,search:u,hash:f}=o.location;return bd("",{pathname:l,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){return typeof s=="string"?s:ms(s)}return HT(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ft(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qT(){return Math.random().toString(36).substring(2,10)}function Fg(t,e){return{usr:t.state,key:t.key,idx:e}}function bd(t,e,n=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?or(e):e,state:n,key:e&&e.key||o||qT()}}function ms({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function or(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function HT(t,e,n,o={}){let{window:s=document.defaultView,v5Compat:l=!1}=o,u=s.history,f="POP",p=null,h=y();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function y(){return(u.state||{idx:null}).idx}function _(){f="POP";let C=y(),R=C==null?null:C-h;h=C,p&&p({action:f,location:b.location,delta:R})}function E(C,R){f="PUSH";let k=bd(b.location,C,R);h=y()+1;let x=Fg(k,h),B=b.createHref(k);try{u.pushState(x,"",B)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign(B)}l&&p&&p({action:f,location:b.location,delta:1})}function T(C,R){f="REPLACE";let k=bd(b.location,C,R);h=y();let x=Fg(k,h),B=b.createHref(k);u.replaceState(x,"",B),l&&p&&p({action:f,location:b.location,delta:0})}function A(C){return BT(C)}let b={get action(){return f},get location(){return t(s,u)},listen(C){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener($g,_),p=C,()=>{s.removeEventListener($g,_),p=null}},createHref(C){return e(s,C)},createURL:A,encodeLocation(C){let R=A(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:E,replace:T,go(C){return u.go(C)}};return b}function BT(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$e(n,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:ms(t);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function c0(t,e,n="/"){return GT(t,e,n,!1)}function GT(t,e,n,o){let s=typeof e=="string"?or(e):e,l=Jn(s.pathname||"/",n);if(l==null)return null;let u=d0(t);VT(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let h=jT(l);f=WT(u[p],h,o)}return f}function d0(t,e=[],n=[],o="",s=!1){let l=(u,f,p=s,h)=>{let y={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(o)&&p)return;$e(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length)}let _=Fn([o,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&($e(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),d0(u.children,e,E,_,p)),!(u.path==null&&!u.index)&&e.push({path:_,score:XT(_,u.index),routesMeta:E})};return t.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,f);else for(let h of f0(u.path))l(u,f,!0,h)}),e}function f0(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let u=f0(o.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),s&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function VT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QT(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var zT=/^:[\w-]+$/,$T=3,FT=2,JT=1,KT=10,YT=-2,Jg=t=>t==="*";function XT(t,e){let n=t.split("/"),o=n.length;return n.some(Jg)&&(o+=YT),e&&(o+=FT),n.filter(s=>!Jg(s)).reduce((s,l)=>s+(zT.test(l)?$T:l===""?JT:KT),o)}function QT(t,e){return t.length===e.length&&t.slice(0,-1).every((o,s)=>o===e[s])?t[t.length-1]-e[e.length-1]:0}function WT(t,e,n=!1){let{routesMeta:o}=t,s={},l="/",u=[];for(let f=0;f<o.length;++f){let p=o[f],h=f===o.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=cl({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},y),E=p.route;if(!_&&h&&n&&!o[o.length-1].route.index&&(_=cl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Fn([l,_.pathname]),pathnameBase:iw(Fn([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Fn([l,_.pathnameBase]))}return u}function cl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=ZT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:o.reduce((h,{paramName:y,isOptional:_},E)=>{if(y==="*"){let A=f[E]||"";u=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const T=f[E];return _&&!T?h[y]=void 0:h[y]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:u,pattern:t}}function ZT(t,e=!1,n=!0){Ft(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function jT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ft(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ew=t=>h0.test(t);function tw(t,e="/"){let{pathname:n,search:o="",hash:s=""}=typeof t=="string"?or(t):t,l;if(n)if(ew(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ft(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Kg(n.substring(1),"/"):l=Kg(n,e)}else l=e;return{pathname:l,search:ow(o),hash:rw(s)}}function Kg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function od(t,e,n,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uf(t){let e=nw(t);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function cf(t,e,n,o=!1){let s;typeof t=="string"?s=or(t):(s={...t},$e(!s.pathname||!s.pathname.includes("?"),od("?","pathname","search",s)),$e(!s.pathname||!s.pathname.includes("#"),od("#","pathname","hash",s)),$e(!s.search||!s.search.includes("#"),od("#","search","hash",s)));let l=t===""||s.pathname==="",u=l?"/":s.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!o&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}f=_>=0?e[_]:"/"}let p=tw(s,f),h=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(h||y)&&(p.pathname+="/"),p}var Fn=t=>t.join("/").replace(/\/\/+/g,"/"),iw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ow=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,sw=class{constructor(t,e,n,o=!1){this.status=t,this.statusText=e||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function aw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function lw(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var p0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function m0(t,e){let n=t;if(typeof n!="string"||!h0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let o=n,s=!1;if(p0)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Jn(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:s=!0}catch{Ft(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var g0=["POST","PUT","PATCH","DELETE"];new Set(g0);var uw=["GET",...g0];new Set(uw);var rr=M.createContext(null);rr.displayName="DataRouter";var Sl=M.createContext(null);Sl.displayName="DataRouterState";var cw=M.createContext(!1),y0=M.createContext({isTransitioning:!1});y0.displayName="ViewTransition";var dw=M.createContext(new Map);dw.displayName="Fetchers";var fw=M.createContext(null);fw.displayName="Await";var Jt=M.createContext(null);Jt.displayName="Navigation";var bs=M.createContext(null);bs.displayName="Location";var ln=M.createContext({outlet:null,matches:[],isDataRoute:!1});ln.displayName="Route";var df=M.createContext(null);df.displayName="RouteError";var v0="REACT_ROUTER_ERROR",hw="REDIRECT",pw="ROUTE_ERROR_RESPONSE";function mw(t){if(t.startsWith(`${v0}:${hw}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gw(t){if(t.startsWith(`${v0}:${pw}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new sw(e.status,e.statusText,e.data)}catch{}}function yw(t,{relative:e}={}){$e(sr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=M.useContext(Jt),{hash:s,pathname:l,search:u}=xs(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Fn([n,l])),o.createHref({pathname:f,search:u,hash:s})}function sr(){return M.useContext(bs)!=null}function vn(){return $e(sr(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(bs).location}var _0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(t){M.useContext(Jt).static||M.useLayoutEffect(t)}function Rs(){let{isDataRoute:t}=M.useContext(ln);return t?Dw():vw()}function vw(){$e(sr(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(rr),{basename:e,navigator:n}=M.useContext(Jt),{matches:o}=M.useContext(ln),{pathname:s}=vn(),l=JSON.stringify(uf(o)),u=M.useRef(!1);return E0(()=>{u.current=!0}),M.useCallback((p,h={})=>{if(Ft(u.current,_0),!u.current)return;if(typeof p=="number"){n.go(p);return}let y=cf(p,JSON.parse(l),s,h.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Fn([e,y.pathname])),(h.replace?n.replace:n.push)(y,h.state,h)},[e,n,l,s,t])}var _w=M.createContext(null);function Ew(t){let e=M.useContext(ln).outlet;return M.useMemo(()=>e&&M.createElement(_w.Provider,{value:t},e),[e,t])}function qk(){let{matches:t}=M.useContext(ln),e=t[t.length-1];return e?e.params:{}}function xs(t,{relative:e}={}){let{matches:n}=M.useContext(ln),{pathname:o}=vn(),s=JSON.stringify(uf(n));return M.useMemo(()=>cf(t,JSON.parse(s),o,e==="path"),[t,s,o,e])}function Sw(t,e){return S0(t,e)}function S0(t,e,n,o,s){var k;$e(sr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(Jt),{matches:u}=M.useContext(ln),f=u[u.length-1],p=f?f.params:{},h=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let x=_&&_.path||"";w0(h,!_||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let E=vn(),T;if(e){let x=typeof e=="string"?or(e):e;$e(y==="/"||((k=x.pathname)==null?void 0:k.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${x.pathname}" was given in the \`location\` prop.`),T=x}else T=E;let A=T.pathname||"/",b=A;if(y!=="/"){let x=y.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(x.length).join("/")}let C=c0(t,{pathname:b});Ft(_||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ft(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=bw(C&&C.map(x=>Object.assign({},x,{params:Object.assign({},p,x.params),pathname:Fn([y,l.encodeLocation?l.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?y:Fn([y,l.encodeLocation?l.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),u,n,o,s);return e&&R?M.createElement(bs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},R):R}function Tw(){let t=Mw(),e=aw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,u)}var ww=M.createElement(Tw,null),T0=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=gw(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(ln.Provider,{value:this.props.routeContext},M.createElement(df.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(Aw,{error:t},e):e}};T0.contextType=cw;var rd=new WeakMap;function Aw({children:t,error:e}){let{basename:n}=M.useContext(Jt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let o=mw(e.digest);if(o){let s=rd.get(e);if(s)throw s;let l=m0(o.location,n);if(p0&&!rd.get(e))if(l.isExternal||o.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:o.replace}));throw rd.set(e,u),u}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Cw({routeContext:t,match:e,children:n}){let o=M.useContext(rr);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ln.Provider,{value:t},n)}function bw(t,e=[],n=null,o=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n==null?void 0:n.errors;if(u!=null){let y=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);$e(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:E,errors:T}=n,A=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||A){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let h=n&&o?(y,_)=>{var E,T;o(y,{location:n.location,params:((T=(E=n.matches)==null?void 0:E[0])==null?void 0:T.params)??{},unstable_pattern:lw(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,E)=>{let T,A=!1,b=null,C=null;n&&(T=u&&_.route.id?u[_.route.id]:void 0,b=_.route.errorElement||ww,f&&(p<0&&E===0?(w0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):p===E&&(A=!0,C=_.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,E+1)),k=()=>{let x;return T?x=b:A?x=C:_.route.Component?x=M.createElement(_.route.Component,null):_.route.element?x=_.route.element:x=y,M.createElement(Cw,{match:_,routeContext:{outlet:y,matches:R,isDataRoute:n!=null},children:x})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?M.createElement(T0,{location:n.location,revalidation:n.revalidation,component:b,error:T,children:k(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:h}):k()},null)}function ff(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rw(t){let e=M.useContext(rr);return $e(e,ff(t)),e}function xw(t){let e=M.useContext(Sl);return $e(e,ff(t)),e}function Nw(t){let e=M.useContext(ln);return $e(e,ff(t)),e}function hf(t){let e=Nw(t),n=e.matches[e.matches.length-1];return $e(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Iw(){return hf("useRouteId")}function Mw(){var o;let t=M.useContext(df),e=xw("useRouteError"),n=hf("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[n]}function Dw(){let{router:t}=Rw("useNavigate"),e=hf("useNavigate"),n=M.useRef(!1);return E0(()=>{n.current=!0}),M.useCallback(async(s,l={})=>{Ft(n.current,_0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...l}))},[t,e])}var Yg={};function w0(t,e,n){!e&&!Yg[t]&&(Yg[t]=!0,Ft(!1,n))}M.memo(Uw);function Uw({routes:t,future:e,state:n,onError:o}){return S0(t,void 0,n,o,e)}function kw({to:t,replace:e,state:n,relative:o}){$e(sr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(Jt);Ft(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(ln),{pathname:u}=vn(),f=Rs(),p=cf(t,uf(l),u,o==="path"),h=JSON.stringify(p);return M.useEffect(()=>{f(JSON.parse(h),{replace:e,state:n,relative:o})},[f,h,o,e,n]),null}function Hk(t){return Ew(t.context)}function me(t){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ow({basename:t="/",children:e=null,location:n,navigationType:o="POP",navigator:s,static:l=!1,unstable_useTransitions:u}){$e(!sr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:f,navigator:s,static:l,unstable_useTransitions:u,future:{}}),[f,s,l,u]);typeof n=="string"&&(n=or(n));let{pathname:h="/",search:y="",hash:_="",state:E=null,key:T="default"}=n,A=M.useMemo(()=>{let b=Jn(h,f);return b==null?null:{location:{pathname:b,search:y,hash:_,state:E,key:T},navigationType:o}},[f,h,y,_,E,T,o]);return Ft(A!=null,`<Router basename="${f}"> is not able to match the URL "${h}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:M.createElement(Jt.Provider,{value:p},M.createElement(bs.Provider,{children:e,value:A}))}function Pw({children:t,location:e}){return Sw(Rd(t),e)}function Rd(t,e=[]){let n=[];return M.Children.forEach(t,(o,s)=>{if(!M.isValidElement(o))return;let l=[...e,s];if(o.type===M.Fragment){n.push.apply(n,Rd(o.props.children,l));return}$e(o.type===me,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!o.props.index||!o.props.children,"An index route cannot have child routes.");let u={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(u.children=Rd(o.props.children,l)),n.push(u)}),n}var rl="get",sl="application/x-www-form-urlencoded";function Tl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Lw(t){return Tl(t)&&t.tagName.toLowerCase()==="button"}function qw(t){return Tl(t)&&t.tagName.toLowerCase()==="form"}function Hw(t){return Tl(t)&&t.tagName.toLowerCase()==="input"}function Bw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gw(t,e){return t.button===0&&(!e||e==="_self")&&!Bw(t)}function xd(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let o=t[n];return e.concat(Array.isArray(o)?o.map(s=>[n,s]):[[n,o]])},[]))}function Vw(t,e){let n=xd(t);return e&&e.forEach((o,s)=>{n.has(s)||e.getAll(s).forEach(l=>{n.append(s,l)})}),n}var Ya=null;function zw(){if(Ya===null)try{new FormData(document.createElement("form"),0),Ya=!1}catch{Ya=!0}return Ya}var $w=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(t){return t!=null&&!$w.has(t)?(Ft(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):t}function Fw(t,e){let n,o,s,l,u;if(qw(t)){let f=t.getAttribute("action");o=f?Jn(f,e):null,n=t.getAttribute("method")||rl,s=sd(t.getAttribute("enctype"))||sl,l=new FormData(t)}else if(Lw(t)||Hw(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(o=p?Jn(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||rl,s=sd(t.getAttribute("formenctype"))||sd(f.getAttribute("enctype"))||sl,l=new FormData(f,t),!zw()){let{name:h,type:y,value:_}=t;if(y==="image"){let E=h?`${h}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else h&&l.append(h,_)}}else{if(Tl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rl,o=null,s=sl,u=t}return l&&s==="text/plain"&&(u=l,l=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jw(t,e,n){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return o.pathname==="/"?o.pathname=`_root.${n}`:e&&Jn(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function Kw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Xw(t,e,n){let o=await Promise.all(t.map(async s=>{let l=e.routes[s.route.id];if(l){let u=await Kw(l,n);return u.links?u.links():[]}return[]}));return jw(o.flat(1).filter(Yw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Xg(t,e,n,o,s,l){let u=(p,h)=>n[h]?p.route.id!==n[h].route.id:!0,f=(p,h)=>{var y;return n[h].pathname!==p.pathname||((y=n[h].route.path)==null?void 0:y.endsWith("*"))&&n[h].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,h)=>u(p,h)||f(p,h)):l==="data"?e.filter((p,h)=>{var _;let y=o.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Qw(t,e,{includeHydrateFallback:n}={}){return Ww(t.map(o=>{let s=e.routes[o.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function Ww(t){return[...new Set(t)]}function Zw(t){let e={},n=Object.keys(t).sort();for(let o of n)e[o]=t[o];return e}function jw(t,e){let n=new Set;return new Set(e),t.reduce((o,s)=>{let l=JSON.stringify(Zw(s));return n.has(l)||(n.add(l),o.push({key:l,link:s})),o},[])}function A0(){let t=M.useContext(rr);return pf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eA(){let t=M.useContext(Sl);return pf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var mf=M.createContext(void 0);mf.displayName="FrameworkContext";function C0(){let t=M.useContext(mf);return pf(t,"You must render this element inside a <HydratedRouter> element"),t}function tA(t,e){let n=M.useContext(mf),[o,s]=M.useState(!1),[l,u]=M.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:y,onTouchStart:_}=e,E=M.useRef(null);M.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let b=R=>{R.forEach(k=>{u(k.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[t]),M.useEffect(()=>{if(o){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[o]);let T=()=>{s(!0)},A=()=>{s(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:rs(f,T),onBlur:rs(p,A),onMouseEnter:rs(h,T),onMouseLeave:rs(y,A),onTouchStart:rs(_,T)}]:[!1,E,{}]}function rs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nA({page:t,...e}){let{router:n}=A0(),o=M.useMemo(()=>c0(n.routes,t,n.basename),[n.routes,t,n.basename]);return o?M.createElement(oA,{page:t,matches:o,...e}):null}function iA(t){let{manifest:e,routeModules:n}=C0(),[o,s]=M.useState([]);return M.useEffect(()=>{let l=!1;return Xw(t,e,n).then(u=>{l||s(u)}),()=>{l=!0}},[t,e,n]),o}function oA({page:t,matches:e,...n}){let o=vn(),{manifest:s,routeModules:l}=C0(),{basename:u}=A0(),{loaderData:f,matches:p}=eA(),h=M.useMemo(()=>Xg(t,e,p,s,o,"data"),[t,e,p,s,o]),y=M.useMemo(()=>Xg(t,e,p,s,o,"assets"),[t,e,p,s,o]),_=M.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let A=new Set,b=!1;if(e.forEach(R=>{var x;let k=s.routes[R.route.id];!k||!k.hasLoader||(!h.some(B=>B.route.id===R.route.id)&&R.route.id in f&&((x=l[R.route.id])!=null&&x.shouldRevalidate)||k.hasClientLoader?b=!0:A.add(R.route.id))}),A.size===0)return[];let C=Jw(t,u,"data");return b&&A.size>0&&C.searchParams.set("_routes",e.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[u,f,o,s,h,e,t,l]),E=M.useMemo(()=>Qw(y,s),[y,s]),T=iA(y);return M.createElement(M.Fragment,null,_.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),T.map(({key:A,link:b})=>M.createElement("link",{key:A,nonce:n.nonce,...b})))}function rA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sA&&(window.__reactRouterVersion="7.11.0")}catch{}function aA({basename:t,children:e,unstable_useTransitions:n,window:o}){let s=M.useRef();s.current==null&&(s.current=LT({window:o,v5Compat:!0}));let l=s.current,[u,f]=M.useState({action:l.action,location:l.location}),p=M.useCallback(h=>{n===!1?f(h):M.startTransition(()=>f(h))},[n]);return M.useLayoutEffect(()=>l.listen(p),[l,p]),M.createElement(Ow,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var b0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=M.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:s,reloadDocument:l,replace:u,state:f,target:p,to:h,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},A){let{basename:b,unstable_useTransitions:C}=M.useContext(Jt),R=typeof h=="string"&&b0.test(h),k=m0(h,b);h=k.to;let x=yw(h,{relative:s}),[B,K,X]=tA(o,T),F=cA(h,{replace:u,state:f,target:p,preventScrollReset:y,relative:s,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:C});function ie(de){e&&e(de),de.defaultPrevented||F(de)}let Y=M.createElement("a",{...T,...X,href:k.absoluteURL||x,onClick:k.isExternal||l?e:ie,ref:rA(A,K),target:p,"data-discover":!R&&n==="render"?"true":void 0});return B&&!R?M.createElement(M.Fragment,null,Y,M.createElement(nA,{page:x})):Y});Mt.displayName="Link";var Nd=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:s=!1,style:l,to:u,viewTransition:f,children:p,...h},y){let _=xs(u,{relative:h.relative}),E=vn(),T=M.useContext(Sl),{navigator:A,basename:b}=M.useContext(Jt),C=T!=null&&mA(_)&&f===!0,R=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,k=E.pathname,x=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(k=k.toLowerCase(),x=x?x.toLowerCase():null,R=R.toLowerCase()),x&&b&&(x=Jn(x,b)||x);const B=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let K=k===R||!s&&k.startsWith(R)&&k.charAt(B)==="/",X=x!=null&&(x===R||!s&&x.startsWith(R)&&x.charAt(R.length)==="/"),F={isActive:K,isPending:X,isTransitioning:C},ie=K?e:void 0,Y;typeof o=="function"?Y=o(F):Y=[o,K?"active":null,X?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let de=typeof l=="function"?l(F):l;return M.createElement(Mt,{...h,"aria-current":ie,className:Y,ref:y,style:de,to:u,viewTransition:f},typeof p=="function"?p(F):p)});Nd.displayName="NavLink";var lA=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:s,state:l,method:u=rl,action:f,onSubmit:p,relative:h,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},A)=>{let{unstable_useTransitions:b}=M.useContext(Jt),C=hA(),R=pA(f,{relative:h}),k=u.toLowerCase()==="get"?"get":"post",x=typeof f=="string"&&b0.test(f),B=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let X=K.nativeEvent.submitter,F=(X==null?void 0:X.getAttribute("formmethod"))||u,ie=()=>C(X||K.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:s,state:l,relative:h,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});b&&n!==!1?M.startTransition(()=>ie()):ie()};return M.createElement("form",{ref:A,method:k,action:R,onSubmit:o?p:B,...T,"data-discover":!x&&t==="render"?"true":void 0})});lA.displayName="Form";function uA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R0(t){let e=M.useContext(rr);return $e(e,uA(t)),e}function cA(t,{target:e,replace:n,state:o,preventScrollReset:s,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let h=Rs(),y=vn(),_=xs(t,{relative:l});return M.useCallback(E=>{if(Gw(E,e)){E.preventDefault();let T=n!==void 0?n:ms(y)===ms(_),A=()=>h(t,{replace:T,state:o,preventScrollReset:s,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?M.startTransition(()=>A()):A()}},[y,h,_,n,o,e,t,s,l,u,f,p])}function Bk(t){Ft(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(xd(t)),n=M.useRef(!1),o=vn(),s=M.useMemo(()=>Vw(o.search,n.current?null:e.current),[o.search]),l=Rs(),u=M.useCallback((f,p)=>{const h=xd(typeof f=="function"?f(new URLSearchParams(s)):f);n.current=!0,l("?"+h,p)},[l,s]);return[s,u]}var dA=0,fA=()=>`__${String(++dA)}__`;function hA(){let{router:t}=R0("useSubmit"),{basename:e}=M.useContext(Jt),n=Iw(),o=t.fetch,s=t.navigate;return M.useCallback(async(l,u={})=>{let{action:f,method:p,encType:h,formData:y,body:_}=Fw(l,e);if(u.navigate===!1){let E=u.fetcherKey||fA();await o(E,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||p,formEncType:u.encType||h,flushSync:u.flushSync})}else await s(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||p,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[o,s,e,n])}function pA(t,{relative:e}={}){let{basename:n}=M.useContext(Jt),o=M.useContext(ln);$e(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),l={...xs(t||".",{relative:e})},u=vn();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Fn([n,l.pathname])),ms(l)}function mA(t,{relative:e}={}){let n=M.useContext(y0);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=R0("useViewTransitionState"),s=xs(t,{relative:e});if(!n.isTransitioning)return!1;let l=Jn(n.currentLocation.pathname,o)||n.currentLocation.pathname,u=Jn(n.nextLocation.pathname,o)||n.nextLocation.pathname;return cl(s.pathname,u)!=null||cl(s.pathname,l)!=null}const gA=()=>I.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),yA=({className:t="w-8 h-8"})=>I.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})});var Id=function(t,e){return Id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},Id(t,e)};function Gk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Id(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Qg=function(){return Qg=Object.assign||function(e){for(var n,o=1,s=arguments.length;o<s;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Qg.apply(this,arguments)};function wl(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(n[o[s]]=t[o[s]]);return n}function vA(t,e,n,o){function s(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{h(o.next(y))}catch(_){u(_)}}function p(y){try{h(o.throw(y))}catch(_){u(_)}}function h(y){y.done?l(y.value):s(y.value).then(f,p)}h((o=o.apply(t,e||[])).next())})}const _A=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class gf extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class EA extends gf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wg extends gf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zg extends gf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Md;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Md||(Md={}));class SA{constructor(e,{headers:n={},customFetch:o,region:s=Md.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=_A(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return vA(this,arguments,void 0,function*(n,o={}){var s;let l,u;try{const{headers:f,method:p,body:h,signal:y,timeout:_}=o;let E={},{region:T}=o;T||(T=this.region);const A=new URL(`${this.url}/${n}`);T&&T!=="any"&&(E["x-region"]=T,A.searchParams.set("forceFunctionRegion",T));let b;h&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",b=h):typeof h=="string"?(E["Content-Type"]="text/plain",b=h):typeof FormData<"u"&&h instanceof FormData?b=h:(E["Content-Type"]="application/json",b=JSON.stringify(h)):b=h;let C=y;_&&(u=new AbortController,l=setTimeout(()=>u.abort(),_),y?(C=u.signal,y.addEventListener("abort",()=>u.abort())):C=u.signal);const R=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),f),body:b,signal:C}).catch(K=>{throw new EA(K)}),k=R.headers.get("x-relay-error");if(k&&k==="true")throw new Wg(R);if(!R.ok)throw new Zg(R);let x=((s=R.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),B;return x==="application/json"?B=yield R.json():x==="application/octet-stream"||x==="application/pdf"?B=yield R.blob():x==="text/event-stream"?B=R:x==="multipart/form-data"?B=yield R.formData():B=yield R.text(),{data:B,error:null,response:R}}catch(f){return{data:null,error:f,response:f instanceof Zg||f instanceof Wg?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var TA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},wA=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,f=null,p=null,h=l.status,y=l.statusText;if(l.ok){var _,E;if(n.method!=="HEAD"){var T;const R=await l.text();R===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((T=n.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?f=R:f=JSON.parse(R))}const b=(_=n.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),C=(E=l.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");b&&C&&C.length>1&&(p=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,h=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var A;const b=await l.text();try{u=JSON.parse(b),Array.isArray(u)&&l.status===404&&(f=[],u=null,h=200,y="OK")}catch{l.status===404&&b===""?(h=204,y="No Content"):u={message:b}}if(u&&n.isMaybeSingle&&(!(u==null||(A=u.details)===null||A===void 0)&&A.includes("0 rows"))&&(u=null,h=200,y="OK"),u&&n.shouldThrowOnError)throw new TA(u)}return{error:u,data:f,count:p,status:h,statusText:y}});return this.shouldThrowOnError||(s=s.catch(l=>{var u;let f="";const p=l==null?void 0:l.cause;if(p){var h,y,_,E;const A=(h=p==null?void 0:p.message)!==null&&h!==void 0?h:"",b=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";f=`${(_=l==null?void 0:l.name)!==null&&_!==void 0?_:"FetchError"}: ${l==null?void 0:l.message}`,f+=`

Caused by: ${(E=p==null?void 0:p.name)!==null&&E!==void 0?E:"Error"}: ${A}`,b&&(f+=` (${b})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var T;f=(T=l==null?void 0:l.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},AA=class extends wA{select(t){let e=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:o=n}={}){const s=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:o=!1,wal:s=!1,format:l="text"}={}){var u;const f=[t?"analyze":null,e?"verbose":null,n?"settings":null,o?"buffers":null,s?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const jg=new RegExp("[,()]");var Jo=class extends AA{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&jg.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&jg.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:o}={}){let s="";o==="plain"?s="pl":o==="phrase"?s="ph":o==="websearch"&&(s="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},CA=class{constructor(t,{headers:e={},schema:n,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=o}select(t,e){const{head:n=!1,count:o}=e??{},s=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new Jo({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var o;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jo({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:o,defaultToNull:s=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),o&&this.headers.append("Prefer",`count=${o}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new Jo({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const o="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Jo({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Jo({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},bA=class x0{constructor(e,{headers:n={},schema:o,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=o,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CA(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new x0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:o=!1,get:s=!1,count:l}={}){var u;let f;const p=new URL(`${this.url}/rpc/${e}`);let h;o||s?(f=o?"HEAD":"GET",Object.entries(n).filter(([_,E])=>E!==void 0).map(([_,E])=>[_,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([_,E])=>{p.searchParams.append(_,E)})):(f="POST",h=n);const y=new Headers(this.headers);return l&&y.set("Prefer",`count=${l}`),new Jo({method:f,url:p,headers:y,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class RA{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,s=parseInt(o.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xA="2.89.0",NA=`realtime-js/${xA}`,N0="1.0.0",IA="2.0.0",ey=N0,Dd=1e4,MA=1e3,DA=100;var Ti;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ti||(Ti={}));var st;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(st||(st={}));var pn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pn||(pn={}));var Ud;(function(t){t.websocket="websocket"})(Ud||(Ud={}));var Xi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xi||(Xi={}));class UA{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,o;const s=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,o;const s=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},u=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,o){var s,l;const u=e.topic,f=(s=e.ref)!==null&&s!==void 0?s:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",h=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+u.length+h.length+_.length,T=new ArrayBuffer(this.HEADER_LENGTH+E);let A=new DataView(T),b=0;A.setUint8(b++,this.KINDS.userBroadcastPush),A.setUint8(b++,p.length),A.setUint8(b++,f.length),A.setUint8(b++,u.length),A.setUint8(b++,h.length),A.setUint8(b++,_.length),A.setUint8(b++,n),Array.from(p,R=>A.setUint8(b++,R.charCodeAt(0))),Array.from(f,R=>A.setUint8(b++,R.charCodeAt(0))),Array.from(u,R=>A.setUint8(b++,R.charCodeAt(0))),Array.from(h,R=>A.setUint8(b++,R.charCodeAt(0))),Array.from(_,R=>A.setUint8(b++,R.charCodeAt(0)));var C=new Uint8Array(T.byteLength+o.byteLength);return C.set(new Uint8Array(T),0),C.set(new Uint8Array(o),T.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return n(o)}if(typeof e=="string"){const o=JSON.parse(e),[s,l,u,f,p]=o;return n({join_ref:s,ref:l,topic:u,event:f,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),o=n.getUint8(0),s=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,o){const s=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const h=o.decode(e.slice(p,p+s));p=p+s;const y=o.decode(e.slice(p,p+l));p=p+l;const _=o.decode(e.slice(p,p+u));p=p+u;const E=e.slice(p,e.byteLength),T=f===this.JSON_ENCODING?JSON.parse(o.decode(E)):E,A={type:this.BROADCAST_EVENT,event:y,payload:T};return u>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>n.includes(o)))}}class I0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Be||(Be={}));const ty=(t,e,n={})=>{var o;const s=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=kA(u,t,e,s),l),{}):{}},kA=(t,e,n,o)=>{const s=e.find(f=>f.name===t),l=s==null?void 0:s.type,u=n[t];return l&&!o.includes(l)?M0(l,u):kd(u)},M0=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return qA(e,n)}switch(t){case Be.bool:return OA(e);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return PA(e);case Be.json:case Be.jsonb:return LA(e);case Be.timestamp:return HA(e);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return kd(e);default:return kd(e)}},kd=t=>t,OA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},PA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},LA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},qA=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,o=t[n];if(t[0]==="{"&&o==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>M0(e,f))}return t},HA=t=>typeof t=="string"?t.replace(" ","T"):t,D0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ad{constructor(e,n,o={},s=Dd){this.channel=e,this.event=n,this.payload=o,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ny;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ny||(ny={}));class hs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},s=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hs.syncState(this.state,s,l,u),this.pendingDiffs.forEach(p=>{this.state=hs.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},s=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hs.syncDiff(this.state,s,l,u),f())}),this.onJoin((s,l,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:u})}),this.onLeave((s,l,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,s){const l=this.cloneDeep(e),u=this.transformState(n),f={},p={};return this.map(l,(h,y)=>{u[h]||(p[h]=y)}),this.map(u,(h,y)=>{const _=l[h];if(_){const E=y.map(C=>C.presence_ref),T=_.map(C=>C.presence_ref),A=y.filter(C=>T.indexOf(C.presence_ref)<0),b=_.filter(C=>E.indexOf(C.presence_ref)<0);A.length>0&&(f[h]=A),b.length>0&&(p[h]=b)}else f[h]=y}),this.syncDiff(l,{joins:f,leaves:p},o,s)}static syncDiff(e,n,o,s){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),s||(s=()=>{}),this.map(l,(f,p)=>{var h;const y=(h=e[f])!==null&&h!==void 0?h:[];if(e[f]=this.cloneDeep(p),y.length>0){const _=e[f].map(T=>T.presence_ref),E=y.filter(T=>_.indexOf(T.presence_ref)<0);e[f].unshift(...E)}o(f,y,p)}),this.map(u,(f,p)=>{let h=e[f];if(!h)return;const y=p.map(_=>_.presence_ref);h=h.filter(_=>y.indexOf(_.presence_ref)<0),e[f]=h,s(f,h,p),h.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const s=e[o];return"metas"in s?n[o]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[o]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(iy||(iy={}));var ps;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ps||(ps={}));var zn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zn||(zn={}));class Qo{constructor(e,n={config:{}},o){var s,l;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ad(this,pn.join,this.params,this.timeout),this.rejoinTimer=new I0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new hs(this),this.broadcastEndpointURL=D0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,s,l;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:u,presence:f,private:p}}=this.params,h=(s=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(T=>T.filter))!==null&&s!==void 0?s:[],y=!!this.bindings[ps.PRESENCE]&&this.bindings[ps.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},E={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:h,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(T=>e==null?void 0:e(zn.CHANNEL_ERROR,T)),this._onClose(()=>e==null?void 0:e(zn.CLOSED)),this.updateJoinPayload(Object.assign({config:E},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:T})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){e==null||e(zn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(A=b==null?void 0:b.length)!==null&&A!==void 0?A:0,R=[];for(let k=0;k<C;k++){const x=b[k],{filter:{event:B,schema:K,table:X,filter:F}}=x,ie=T&&T[k];if(ie&&ie.event===B&&Qo.isFilterValueEqual(ie.schema,K)&&Qo.isFilterValueEqual(ie.table,X)&&Qo.isFilterValueEqual(ie.filter,F))R.push(Object.assign(Object.assign({},x),{id:ie.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(zn.SUBSCRIBED);return}}).receive("error",T=>{this.state=st.errored,e==null||e(zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===st.joined&&e===ps.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=o.timeout)!==null&&s!==void 0?s:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const h=await f.json();p=h.error||h.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var o,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,p;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(s=>{o=new ad(this,pn.leave,{},e),o.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const s=new AbortController,l=setTimeout(()=>s.abort(),o),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(l),u}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ad(this,e,n,o);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>DA){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var s,l;const u=e.toLocaleLowerCase(),{close:f,error:p,leave:h,join:y}=pn;if(o&&[f,p,h,y].indexOf(u)>=0&&o!==this._joinRef())return;let E=this._onMessage(u,n,o);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(T=>{var A,b,C;return((A=T.filter)===null||A===void 0?void 0:A.event)==="*"||((C=(b=T.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===u}).map(T=>T.callback(E,o)):(l=this.bindings[u])===null||l===void 0||l.filter(T=>{var A,b,C,R,k,x;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in T){const B=T.id,K=(A=T.filter)===null||A===void 0?void 0:A.event;return B&&((b=n.ids)===null||b===void 0?void 0:b.includes(B))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const B=(k=(R=T==null?void 0:T.filter)===null||R===void 0?void 0:R.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return B==="*"||B===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===u}).map(T=>{if(typeof E=="object"&&"ids"in E){const A=E.data,{schema:b,table:C,commit_timestamp:R,type:k,errors:x}=A;E=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:R,eventType:k,new:{},old:{},errors:x}),this._getPayloadRecords(A))}T.callback(E,o)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const s=e.toLocaleLowerCase(),l={type:s,filter:n,callback:o};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&Qo.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pn.close,{},e)}_onError(e){this._on(pn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ty(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ty(e.columns,e.old_record)),n}}const ld=()=>{},Xa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BA=[1e3,2e3,5e3,1e4],GA=1e4,VA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zA{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dd,this.transport=null,this.heartbeatIntervalMs=Xa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ld,this.ref=0,this.reconnectTimer=null,this.vsn=ey,this.logger=ld,this.conn=null,this.sendBuffer=[],this.serializer=new UA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...l)=>s(...l):(...l)=>fetch(...l),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ud.websocket}`,this.httpEndpoint=D0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ti.connecting:return Xi.Connecting;case Ti.open:return Xi.Open;case Ti.closing:return Xi.Closing;default:return Xi.Closed}}isConnected(){return this.connectionState()===Xi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,s=this.getChannels().find(l=>l.topic===o);if(s)return s;{const l=new Qo(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:o,payload:s,ref:l}=e,u=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${o} (${l})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(MA,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:s,payload:l,ref:u}=n,f=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${o} ${s} ${f}`.trim(),l),this.channels.filter(h=>h._isMember(o)).forEach(h=>h._trigger(s,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ti.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ti.open||this.conn.readyState===Ti.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(pn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${o}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([VA],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,o=!1;if(e)n=e,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const l={access_token:n,version:NA};n&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(pn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new I0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,s,l,u,f,p,h,y,_,E,T;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:Dd,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Xa.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:ld,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:ey,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(A=>BA[A-1]||GA),this.vsn){case N0:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((A,b)=>b(JSON.stringify(A))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((A,b)=>b(JSON.parse(A)));break;case IA:this.encode=(E=e==null?void 0:e.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(T=e==null?void 0:e.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var gs=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $A(t,e,n){const o=new URL(e,t);if(n)for(const[s,l]of Object.entries(n))l!==void 0&&o.searchParams.set(s,l);return o.toString()}async function FA(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function JA(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:s,body:l,headers:u}){const f=$A(t.baseUrl,o,s),p=await FA(t.auth),h=await e(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...u},body:l?JSON.stringify(l):void 0}),y=await h.text(),_=(h.headers.get("content-type")||"").includes("application/json"),E=_&&y?JSON.parse(y):y;if(!h.ok){const T=_?E:void 0,A=T==null?void 0:T.error;throw new gs((A==null?void 0:A.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:T})}return{status:h.status,headers:h.headers,data:E}}}}function Qa(t){return t.join("")}var KA=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Qa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qa(t.namespace)}`}),!0}catch(e){if(e instanceof gs&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof gs&&n.status===409)return;throw n}}};function Ho(t){return t.join("")}var YA=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof gs&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof gs&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},XA=class{constructor(t){var o;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=JA({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(o=t.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new KA(this.client,e),this.tableOps=new YA(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Al=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var QA=class extends Al{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Od=class extends Al{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const yf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WA=()=>Response,Pd=t=>{if(Array.isArray(t))return t.map(n=>Pd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,o])=>{const s=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[s]=Pd(o)}),e},ZA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jA=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}function eC(t,e){if(ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(ys(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tC(t){var e=eC(t,"string");return ys(e)=="symbol"?e:e+""}function nC(t,e,n){return(e=tC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,o)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oy(Object(n),!0).forEach(function(o){nC(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oy(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const ud=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},iC=async(t,e,n)=>{t instanceof await WA()&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const s=t.status||500,l=(o==null?void 0:o.statusCode)||s+"";e(new QA(ud(o),s,l))}).catch(o=>{e(new Od(ud(o),o))}):e(new Od(ud(t),t))},oC=(t,e,n,o)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?s:(ZA(o)?(s.headers=le({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(o)):s.body=o,e!=null&&e.duplex&&(s.duplex=e.duplex),le(le({},s),n))};async function Ns(t,e,n,o,s,l){return new Promise((u,f)=>{t(n,oC(e,o,s,l)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>iC(p,f,o))})}async function vs(t,e,n,o){return Ns(t,"GET",e,n,o)}async function hn(t,e,n,o,s){return Ns(t,"POST",e,o,s,n)}async function Ld(t,e,n,o,s){return Ns(t,"PUT",e,o,s,n)}async function rC(t,e,n,o){return Ns(t,"HEAD",e,le(le({},n),{},{noResolveJson:!0}),o)}async function vf(t,e,n,o,s){return Ns(t,"DELETE",e,o,s,n)}var sC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}}};let U0;U0=Symbol.toStringTag;var aC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[U0]="BlobDownloadBuilder",this.promise=null}asStream(){return new sC(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}}};const lC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ry={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var uC=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=yf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,o){var s=this;try{let l;const u=le(le({},ry),o);let f=le(le({},s.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",s.encodeMetadata(p)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),p&&!l.has("metadata")&&l.append("metadata",s.encodeMetadata(p))):(l=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,p&&(f["x-metadata"]=s.toBase64(s.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(f=le(le({},f),o.headers));const h=s._removeEmptyFolders(e),y=s._getFinalPath(h),_=await(t=="PUT"?Ld:hn)(s.fetch,`${s.url}/object/${y}`,l,le({headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:h,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,o){var s=this;const l=s._removeEmptyFolders(t),u=s._getFinalPath(l),f=new URL(s.url+`/object/upload/sign/${u}`);f.searchParams.set("token",e);try{let p;const h=le({upsert:ry.upsert},o),y=le(le({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",h.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",h.cacheControl)):(p=n,y["cache-control"]=`max-age=${h.cacheControl}`,y["content-type"]=h.contentType),{data:{path:l,fullPath:(await Ld(s.fetch,f.toString(),p,{headers:y})).Key},error:null}}catch(p){if(s.shouldThrowOnError)throw p;if(Je(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(t,e){var n=this;try{let o=n._getFinalPath(t);const s=le({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const l=await hn(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:s}),u=new URL(n.url+l.url),f=u.searchParams.get("token");if(!f)throw new Al("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var o=this;try{return{data:await hn(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers}),error:null}}catch(s){if(o.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async copy(t,e,n){var o=this;try{return{data:{path:(await hn(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers})).Key},error:null}}catch(s){if(o.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var o=this;try{let s=o._getFinalPath(t),l=await hn(o.fetch,`${o.url}/object/sign/${s}`,le({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:o.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${o.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(s){if(o.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var o=this;try{const s=await hn(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:t},{headers:o.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(u=>le(le({},u),{},{signedUrl:u.signedURL?encodeURI(`${o.url}${u.signedURL}${l}`):null})),error:null}}catch(s){if(o.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=o?`?${o}`:"",l=this._getFinalPath(t),u=()=>vs(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new aC(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Pd(await vs(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await rC(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(Je(o)&&o instanceof Od){const s=o.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:o}}throw o}}getPublicUrl(t,e){const n=this._getFinalPath(t),o=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&o.push(s);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&o.push(u);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}async remove(t){var e=this;try{return{data:await vf(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async list(t,e,n){var o=this;try{const s=le(le(le({},lC),e),{},{prefix:t||""});return{data:await hn(o.fetch,`${o.url}/object/list/${o.bucketId}`,s,{headers:o.headers},n),error:null}}catch(s){if(o.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const o=le({},t);return{data:await hn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},e),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const k0="2.89.0",O0={"X-Client-Info":`storage-js/${k0}`};var cC=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1;const s=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=le(le({},O0),e),this.fetch=yf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await vs(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await vs(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await hn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async updateBucket(t,e){var n=this;try{return{data:await Ld(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async emptyBucket(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await vf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},dC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=le(le({},O0),e),this.fetch=yf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const o=n.toString(),s=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return{data:await vs(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await vf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!jA(t))throw new Al("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new XA({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(s,l){const u=s[l];return typeof u!="function"?u:async(...f)=>{try{return{data:await u.apply(s,f),error:null}}catch(p){if(o)throw p;return{data:null,error:p}}}}})}};const _f={"X-Client-Info":`storage-js/${k0}`,"Content-Type":"application/json"};var P0=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function zt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var cd=class extends P0{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fC=class extends P0{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Ef=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pC=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t.status||500,s=t;if(typeof s.json=="function")s.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new cd(sy(l),o,u))}).catch(()=>{const l=o+"";e(new cd(s.statusText||`HTTP ${o} error`,o,l))});else{const l=o+"";e(new cd(s.statusText||`HTTP ${o} error`,o,l))}}else e(new fC(sy(t),t))},mC=(t,e,n,o)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return o?(hC(o)?(s.headers=le({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(o)):s.body=o,le(le({},s),n)):s};async function gC(t,e,n,o,s,l){return new Promise((u,f)=>{t(n,mC(e,o,s,l)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const h=p.headers.get("content-type");return!h||!h.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>pC(p,f,o))})}async function $t(t,e,n,o,s){return gC(t,"POST",e,o,s,n)}var yC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=le(le({},_f),e),this.fetch=Ef(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await $t(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}}async listIndexes(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await $t(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}}},vC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=le(le({},_f),e),this.fetch=Ef(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await $t(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await $t(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await $t(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}},_C=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=le(le({},_f),e),this.fetch=Ef(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await $t(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}},EC=class extends _C{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new SC(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},SC=class extends yC{constructor(t,e,n,o){super(t,e,o),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new TC(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},TC=class extends vC{constructor(t,e,n,o,s){super(t,e,s),this.vectorBucketName=n,this.indexName=o}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},wC=class extends cC{constructor(t,e={},n,o){super(t,e,n,o)}from(t){return new uC(this.url,this.headers,t,this.fetch)}get vectors(){return new EC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dC(this.url+"/iceberg",this.headers,this.fetch)}};const L0="2.89.0",Ko=30*1e3,qd=3,dd=qd*Ko,AC="http://localhost:9999",CC="supabase.auth.token",bC={"X-Client-Info":`gotrue-js/${L0}`},Hd="X-Supabase-Api-Version",q0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xC=600*1e3;class _s extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class NC extends _s{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function IC(t){return oe(t)&&t.name==="AuthApiError"}class Qi extends _s{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Yn extends _s{constructor(e,n,o,s){super(e,o,s),this.name=n,this.status=o}}class Vt extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function MC(t){return oe(t)&&t.name==="AuthSessionMissingError"}class Bo extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wa extends Yn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Za extends Yn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DC(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class ay extends Yn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class UC extends Yn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Bd extends Yn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fd(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class ly extends Yn{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Gd extends Yn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uy=` 	
\r=`.split(""),kC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<uy.length;e+=1)t[uy[e].charCodeAt(0)]=-2;for(let e=0;e<dl.length;e+=1)t[dl[e].charCodeAt(0)]=e;return t})();function cy(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(dl[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(dl[o]),e.queuedBits-=6}}function H0(t,e,n){const o=kC[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function dy(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=u=>{LC(u,o,n)};for(let u=0;u<t.length;u+=1)H0(t.charCodeAt(u),s,l);return e.join("")}function OC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function PC(t,e){for(let n=0;n<t.length;n+=1){let o=t.charCodeAt(n);if(o>55295&&o<=56319){const s=(o-55296)*1024&65535;o=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}OC(o,e)}}function LC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function jo(t){const e=[],n={queue:0,queuedBits:0},o=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)H0(t.charCodeAt(s),n,o);return new Uint8Array(e)}function qC(t){const e=[];return PC(t,n=>e.push(n)),new Uint8Array(e)}function Wi(t){const e=[],n={queue:0,queuedBits:0},o=s=>{e.push(s)};return t.forEach(s=>cy(s,n,o)),cy(null,n,o),e.join("")}function HC(t){return Math.round(Date.now()/1e3)+t}function BC(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",Fi={tested:!1,writable:!1},B0=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fi.tested)return Fi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fi.tested=!0,Fi.writable=!0}catch{Fi.tested=!0,Fi.writable=!1}return Fi.writable};function GC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,l)=>{e[l]=s})}catch{}return n.searchParams.forEach((o,s)=>{e[s]=o}),e}const G0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),VC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ji=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mt=async(t,e)=>{await t.removeItem(e)};class Cl{constructor(){this.promise=new Cl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cl.promiseConstructor=Promise;function hd(t){const e=t.split(".");if(e.length!==3)throw new Gd("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!RC.test(e[o]))throw new Gd("JWT not in base64url format");return{header:JSON.parse(dy(e[0])),payload:JSON.parse(dy(e[1])),signature:jo(e[2]),raw:{header:e[0],payload:e[1]}}}async function zC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $C(t,e){return new Promise((o,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){o(u);return}}catch(u){if(!e(l,u)){s(u);return}}})()})}function FC(t){return("0"+t.toString(16)).substr(-2)}function JC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let s="";for(let l=0;l<56;l++)s+=n.charAt(Math.floor(Math.random()*o));return s}return crypto.getRandomValues(e),Array.from(e,FC).join("")}async function KC(t){const n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(o);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function YC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await KC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Go(t,e,n=!1){const o=JC();let s=o;n&&(s+="/PASSWORD_RECOVERY"),await Yo(t,`${e}-code-verifier`,s);const l=await YC(o);return[l,o===l?"plain":"s256"]}const XC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QC(t){const e=t.headers.get(Hd);if(!e||!e.match(XC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function WC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ZC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vo(t){if(!jC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eb(t,e){return new Proxy(t,{get:(n,o,s)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,s)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,o,s)}})}function fy(t){return JSON.parse(JSON.stringify(t))}const Ki=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tb=[502,503,504];async function hy(t){var e;if(!VC(t))throw new Bd(Ki(t),0);if(tb.includes(t.status))throw new Bd(Ki(t),t.status);let n;try{n=await t.json()}catch(l){throw new Qi(Ki(l),l)}let o;const s=QC(t);if(s&&s.getTime()>=q0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new ly(Ki(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new ly(Ki(n),t.status,n.weak_password.reasons);throw new NC(Ki(n),t.status||500,o)}const nb=(t,e,n,o)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(o),Object.assign(Object.assign({},s),n))};async function ae(t,e,n,o){var s;const l=Object.assign({},o==null?void 0:o.headers);l[Hd]||(l[Hd]=q0["2024-01-01"].name),o!=null&&o.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const u=(s=o==null?void 0:o.query)!==null&&s!==void 0?s:{};o!=null&&o.redirectTo&&(u.redirect_to=o.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await ib(t,e,n+f,{headers:l,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function ib(t,e,n,o,s,l){const u=nb(e,o,s,l);let f;try{f=await t(n,Object.assign({},u))}catch(p){throw console.error(p),new Bd(Ki(p),0)}if(f.ok||await hy(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(p){await hy(p)}}function fn(t){var e;let n=null;sb(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=HC(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:o},error:null}}function py(t){const e=fn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ob(t){return{data:t,error:null}}function rb(t){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:s,verification_type:l}=t,u=wl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:o,redirect_to:s,verification_type:l},p=Object.assign({},u);return{data:{properties:f,user:p},error:null}}function my(t){return t}function sb(t){return t.access_token&&t.refresh_token&&t.expires_in}const md=["global","local","others"];class ab{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=G0(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=md[0]){if(md.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${md.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(oe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wi})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=wl(e,["options"]),s=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(s.new_email=o==null?void 0:o.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wi})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,s,l,u,f,p;try{const h={nextPage:null,lastPage:0,total:0},y=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:my});if(y.error)throw y.error;const _=await y.json(),E=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,T=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(A=>{const b=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);h[`${C}Page`]=b}),h.total=parseInt(E)),{data:Object.assign(Object.assign({},_),h),error:null}}catch(h){if(oe(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Vo(e);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wi})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Vo(e);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:wi})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){Vo(e);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:wi})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){Vo(e.userId);try{const{data:n,error:o}=await ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:o}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Vo(e.userId),Vo(e.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,s,l,u,f,p;try{const h={nextPage:null,lastPage:0,total:0},y=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:my});if(y.error)throw y.error;const _=await y.json(),E=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,T=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(A=>{const b=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);h[`${C}Page`]=b}),h.total=parseInt(E)),{data:Object.assign(Object.assign({},_),h),error:null}}catch(h){if(oe(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}}function gy(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const zo={debug:!!(globalThis&&B0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lb extends V0{}async function ub(t,e,n){zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),zo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async s=>{if(s){zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function cb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function z0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function db(t){return parseInt(t,16)}function fb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function hb(t){var e;const{chainId:n,domain:o,expirationTime:s,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:p,resources:h,scheme:y,uri:_,version:E}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const T=z0(t.address),A=y?`${y}://${o}`:o,b=t.statement?`${t.statement}
`:"",C=`${A} wants you to sign in with your Ethereum account:
${T}

${b}`;let R=`URI: ${_}
Version: ${E}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(s&&(R+=`
Expiration Time: ${s.toISOString()}`),f&&(R+=`
Not Before: ${f.toISOString()}`),p&&(R+=`
Request ID: ${p}`),h){let k=`
Resources:`;for(const x of h){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);k+=`
- ${x}`}R+=k}return`${C}
${R}`}class ot extends Error{constructor({message:e,code:n,cause:o,name:s}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=s??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class fl extends ot{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function pb({error:t,options:e}){var n,o,s;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if($0(u)){if(l.rp.id!==u)return new ot({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function mb({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if($0(o)){if(n.rpId!==o)return new ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class gb{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yb=new gb;function vb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:o}=t,s=wl(t,["challenge","user","excludeCredentials"]),l=jo(e).buffer,u=Object.assign(Object.assign({},n),{id:jo(n.id).buffer}),f=Object.assign(Object.assign({},s),{challenge:l,user:u});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const h=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},h),{id:jo(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return f}function _b(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,o=wl(t,["challenge","allowCredentials"]),s=jo(e).buffer,l=Object.assign(Object.assign({},o),{challenge:s});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:jo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function Eb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Wi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Wi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,o=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Wi(new Uint8Array(s.authenticatorData)),clientDataJSON:Wi(new Uint8Array(s.clientDataJSON)),signature:Wi(new Uint8Array(s.signature)),userHandle:s.userHandle?Wi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function yy(){var t,e;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Tb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",e)}:{data:null,error:new fl("Empty credential response",e)}}catch(e){return{data:null,error:pb({error:e,options:t})}}}async function wb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",e)}:{data:null,error:new fl("Empty credential response",e)}}catch(e){return{data:null,error:mb({error:e,options:t})}}}const Ab={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Cb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hl(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),o={};for(const s of t)if(s)for(const l in s){const u=s[l];if(u!==void 0)if(Array.isArray(u))o[l]=u;else if(n(u))o[l]=u;else if(e(u)){const f=o[l];e(f)?o[l]=hl(f,u):o[l]=hl(u)}else o[l]=u}return o}function bb(t,e){return hl(Ab,t,e||{})}function Rb(t,e){return hl(Cb,t,e||{})}class xb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:s},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const p=s??yb.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${o}`),h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=bb(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:_}=await Tb({publicKey:h,signal:p});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const h=Rb(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:_}=await wb(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:p}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new Qi("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},l){if(!n)return{data:null,error:new _s("rpId is required for WebAuthn authentication")};try{if(!yy())return{data:null,error:new Qi("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:s},{request:l});if(!u)return{data:null,error:f};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new Qi("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},l){if(!n)return{data:null,error:new _s("rpId is required for WebAuthn registration")};try{if(!yy())return{data:null,error:new Qi("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:p,error:h}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:s},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:h}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new Qi("Unexpected error in register",u)}}}}cb();const Nb={url:AC,storageKey:CC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vy(t,e,n){return await n()}const $o={};class Es{get jwks(){var e,n;return(n=(e=$o[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){$o[this.storageKey]=Object.assign(Object.assign({},$o[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=$o[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){$o[this.storageKey]=Object.assign(Object.assign({},$o[this.storageKey]),{cachedAt:e})}constructor(e){var n,o,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Nb),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Es.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Es.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&gt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new ab({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=G0(l.fetch),this.lock=l.lock||vy,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&gt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=ub:this.lock=vy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:B0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=gy(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${L0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},o="none";if(gt()&&(n=GC(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),gt()&&this.detectSessionInUrl&&o!=="none"){const{data:s,error:l}=await this._getSessionFromURL(n,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),DC(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return oe(n)?this._returnResult({error:n}):this._returnResult({error:new Qi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,s;try{const l=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:fn}),{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const p=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(l){if(oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,o,s;try{let l;if("email"in e){const{email:y,password:_,options:E}=e;let T=null,A=null;this.flowType==="pkce"&&([T,A]=await Go(this.storage,this.storageKey)),l=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:y,password:_,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:T,code_challenge_method:A},xform:fn})}else if("phone"in e){const{phone:y,password:_,options:E}=e;l=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(o=E==null?void 0:E.data)!==null&&o!==void 0?o:{},channel:(s=E==null?void 0:E.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:fn})}else throw new Wa("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(l){if(await mt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:py})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:py})}else throw new Wa("You must provide either an email or phone number and a password");const{data:o,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!o||!o.session||!o.user){const l=new Bo;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,o,s,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,s,l,u,f,p,h,y,_,E;let T,A;if("message"in e)T=e.message,A=e.signature;else{const{chain:b,wallet:C,statement:R,options:k}=e;let x;if(gt())if(typeof C=="object")x=C;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")x=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=C}const B=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href),K=await x.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=z0(K[0]);let F=(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!F){const Y=await x.request({method:"eth_chainId"});F=db(Y)}const ie={domain:B.host,address:X,statement:R,uri:B.href,version:"1",chainId:F,nonce:(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(u=(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=k==null?void 0:k.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(y=k==null?void 0:k.signInWithEthereum)===null||y===void 0?void 0:y.resources};T=hb(ie),A=await x.request({method:"personal_sign",params:[fb(T),X]})}try{const{data:b,error:C}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:A},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:fn});if(C)throw C;if(!b||!b.session||!b.user){const R=new Bo;return this._returnResult({data:{user:null,session:null},error:R})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:C})}catch(b){if(oe(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,o,s,l,u,f,p,h,y,_,E,T;let A,b;if("message"in e)A=e.message,b=e.signature;else{const{chain:C,wallet:R,statement:k,options:x}=e;let B;if(gt())if(typeof R=="object")B=R;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))B=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=R}const K=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const X=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),k?{statement:k}:null));let F;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")F=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)F=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)A=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),b=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${K.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(s=(o=x==null?void 0:x.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((f=x==null?void 0:x.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((p=x==null?void 0:x.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((h=x==null?void 0:x.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((_=(y=x==null?void 0:x.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...x.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const X=await B.signMessage(new TextEncoder().encode(A),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=X}}try{const{data:C,error:R}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Wi(b)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:fn});if(R)throw R;if(!C||!C.session||!C.user){const k=new Bo;return this._returnResult({data:{user:null,session:null},error:k})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:R})}catch(C){if(oe(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await Ji(this.storage,`${this.storageKey}-code-verifier`),[o,s]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new UC;const{data:l,error:u}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:fn});if(await mt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const f=new Bo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:u})}catch(l){if(await mt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:o,token:s,access_token:l,nonce:u}=e,f=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:s,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fn}),{data:p,error:h}=f;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!p||!p.session||!p.user){const y=new Bo;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:h})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,o,s,l,u;try{if("email"in e){const{email:f,options:p}=e;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Go(this.storage,this.storageKey));const{error:_}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:f,options:p}=e,{data:h,error:y}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:y})}throw new Wa("You must provide either an email or phone number.")}catch(f){if(await mt(this.storage,`${this.storageKey}-code-verifier`),oe(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,o;try{let s,l;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:f}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:fn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,h=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,o,s,l,u;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Go(this.storage,this.storageKey));const h=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:ob});return!((l=h.data)===null||l===void 0)&&l.url&&gt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(f){if(await mt(this.storage,`${this.storageKey}-code-verifier`),oe(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new Vt;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:s,options:l}=e,{error:u}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:o,type:s,options:l}=e,{data:u,error:f}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new Wa("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<dd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const u=await Ji(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=pd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=eb(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wi}):await this._useSession(async n=>{var o,s,l;const{data:u,error:f}=n;if(f)throw f;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:wi})})}catch(n){if(oe(n))return MC(n)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:s,error:l}=o;if(l)throw l;if(!s.session)throw new Vt;const u=s.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await Go(this.storage,this.storageKey));const{data:h,error:y}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:u.access_token,xform:wi});if(y)throw y;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(o){if(await mt(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const n=Date.now()/1e3;let o=n,s=!0,l=null;const{payload:u}=hd(e.access_token);if(u.exp&&(o=u.exp,s=o<=n),s){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(o=u.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new Vt;const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!gt())throw new Za("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Za(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ay("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Za("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ay("No code detected.");const{data:k,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:s,access_token:l,refresh_token:u,expires_in:f,expires_at:p,token_type:h}=e;if(!l||!f||!u||!h)throw new Za("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(f);let E=y+_;p&&(E=parseInt(p));const T=E-y;T*1e3<=Ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${_}s`);const A=E-_;y-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,E,y):y-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,E,y);const{data:b,error:C}=await this._getUser(l);if(C)throw C;const R={provider_token:o,provider_refresh_token:s,access_token:l,expires_in:_,expires_at:E,refresh_token:u,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(o){if(oe(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ji(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:s,error:l}=n;if(l)return this._returnResult({error:l});const u=(o=s.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(IC(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=BC(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,s;try{const{data:{session:l},error:u}=n;if(u)throw u;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=await Go(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await mt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:s}=await this._useSession(async l=>{var u,f,p,h,y;const{data:_,error:E}=l;if(E)throw E;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",T,{headers:this.headers,jwt:(y=(h=_.session)===null||h===void 0?void 0:h.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return gt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(oe(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:s,data:{session:l}}=n;if(s)throw s;const{options:u,provider:f,token:p,access_token:h,nonce:y}=e,_=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l==null?void 0:l.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:h,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:fn}),{data:E,error:T}=_;return T?this._returnResult({data:{user:null,session:null},error:T}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Bo}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:T}))}catch(s){if(await mt(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,s;const{data:l,error:u}=n;if(u)throw u;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await $C(async s=>(s>0&&await zC(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fn})),(s,l)=>{const u=200*Math.pow(2,s);return l&&fd(l)&&Date.now()+u-o<Ko})}catch(o){if(this._debug(n,"error",o),oe(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),gt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const s=await Ji(this.storage,this.storageKey);if(s&&this.userStorage){let u=await Ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await Yo(this.userStorage,this.storageKey+"-user",u)),s.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:pd()}else if(s&&!s.user&&!s.user){const u=await Ji(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(s.user=u.user,await mt(this.storage,this.storageKey+"-user"),await Yo(this.storage,this.storageKey,s)):s.user=pd()}if(this._debug(o,"session from storage",s),!this._isValidSession(s)){this._debug(o,"session is not valid"),s!==null&&await this._removeSession();return}const l=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<dd;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${dd}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),fd(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(s.access_token);!f&&(u!=null&&u.user)?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(o,"error",s),console.error(s);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Vt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(s,"error",l),oe(l)){const u={data:null,error:l};return fd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,o=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Yo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const l=fy(s);await Yo(this.storage,this.storageKey,l)}else{const s=fy(n);await Yo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ko);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((o.expires_at*1e3-e)/Ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ko}ms, refresh threshold is ${qd} ticks`),s<=qd&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof V0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const s=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&s.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&s.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,u]=await Go(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(f.toString())}if(o!=null&&o.queryParams){const l=new URLSearchParams(o.queryParams);s.push(l.toString())}return o!=null&&o.skipBrowserRedirect&&s.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:s,error:l}=n;return l?this._returnResult({data:null,error:l}):await ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=s==null?void 0:s.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,s;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:h}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&p.type==="totp"&&(!((s=p==null?void 0:p.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:s,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Eb(e.webauthn.credential_response):Sb(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(o=s==null?void 0:s.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:s,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=s==null?void 0:s.session)===null||o===void 0?void 0:o.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:vb(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:_b(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const s={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(l),l.status==="verified"&&s[l.factor_type].push(l);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:o},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=hd(o.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((n=(e=o.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:o},error:s}=n;return s?this._returnResult({data:null,error:s}):o?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:s},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!s)return this._returnResult({data:null,error:new Vt});const u=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:s},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!s)return this._returnResult({data:null,error:new Vt});const u=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;return o?this._returnResult({data:null,error:o}):n?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:o},error:s}=n;return s?this._returnResult({data:null,error:s}):o?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vt})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(f=>f.kid===e);if(o)return o;const s=Date.now();if(o=this.jwks.keys.find(f=>f.kid===e),o&&this.jwks_cached_at+xC>s)return o;const{data:l,error:u}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,o=l.keys.find(f=>f.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:T,error:A}=await this.getSession();if(A||!T.session)return this._returnResult({data:null,error:A});o=T.session.access_token}const{header:s,payload:l,signature:u,raw:{header:f,payload:p}}=hd(o);n!=null&&n.allowExpired||WC(l.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:T}=await this.getUser(o);if(T)throw T;return{data:{claims:l,header:s,signature:u},error:null}}const y=ZC(s.alg),_=await crypto.subtle.importKey("jwk",h,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,u,qC(`${f}.${p}`)))throw new Gd("Invalid JWT signature");return{data:{claims:l,header:s,signature:u},error:null}}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}}Es.nextInstanceID={};const Ib=Es,Mb="2.89.0";let ds="";typeof Deno<"u"?ds="deno":typeof document<"u"?ds="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ds="react-native":ds="node";const Db={"X-Client-Info":`supabase-js-${ds}/${Mb}`},Ub={headers:Db},kb={schema:"public"},Ob={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pb={};function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function Lb(t,e){if(Ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(Ss(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qb(t){var e=Lb(t,"string");return Ss(e)=="symbol"?e:e+""}function Hb(t,e,n){return(e=qb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,o)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_y(Object(n),!0).forEach(function(o){Hb(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const Bb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Gb=()=>Headers,Vb=(t,e,n)=>{const o=Bb(n),s=Gb();return async(l,u)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:t;let h=new s(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),o(l,Xe(Xe({},u),{},{headers:h}))}};function zb(t){return t.endsWith("/")?t:t+"/"}function $b(t,e){var n,o;const{db:s,auth:l,realtime:u,global:f}=t,{db:p,auth:h,realtime:y,global:_}=e,E={db:Xe(Xe({},p),s),auth:Xe(Xe({},h),l),realtime:Xe(Xe({},y),u),storage:{},global:Xe(Xe(Xe({},_),f),{},{headers:Xe(Xe({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return t.accessToken?E.accessToken=t.accessToken:delete E.accessToken,E}function Fb(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Jb=class extends Ib{constructor(t){super(t)}},Kb=class{constructor(t,e,n){var o,s;this.supabaseUrl=t,this.supabaseKey=e;const l=Fb(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:kb,realtime:Pb,auth:Xe(Xe({},Ob),{},{storageKey:u}),global:Ub},p=$b(n??{},f);if(this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=p.auth)!==null&&h!==void 0?h:{},this.headers,p.global.fetch)}this.fetch=Vb(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new bA(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new wC(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new SA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:o}=await t.auth.getSession();return(e=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:s,storageKey:l,flowType:u,lock:f,debug:p,throwOnError:h},y,_){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jb({url:this.authUrl.href,headers:Xe(Xe({},E),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:s,flowType:u,lock:f,debug:p,throwOnError:h,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new zA(this.realtimeUrl.href,Xe(Xe({},t),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Yb=(t,e,n)=>new Kb(t,e,n);function Xb(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Xb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vd="https://bfyobbpzprdnfntwqfph.supabase.co",Qb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJmeW9iYnB6cHJkbmZudHdxZnBoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAxNTIwMTIsImV4cCI6MjA3NTcyODAxMn0.Zd5v-knZVXLAxOnyA6PqB-7cPYoYc5bhtEIOtACT_oA";let Wb=Vd;try{new URL(Vd)}catch{console.warn("Invalid Supabase URL detected, using fallback or potentially failing.",Vd)}const Q=Yb(Wb,Qb,{auth:{autoRefreshToken:!0,persistSession:!0}}),bl=t=>{if(t==null)return"Ocorreu um erro desconhecido.";if(typeof t=="string"&&t!=="[object Object]")return t;let e="";if(t instanceof Error)e=t.message;else if(typeof t=="object"){const n=t.message||t.msg||t.error_description||(t.error&&typeof t.error=="string"?t.error:null)||(t.data&&typeof t.data.message=="string"?t.data.message:null)||t.code||null;if(n)e=String(n);else try{const o=JSON.stringify(t);e=o==="{}"?"Erro tcnico sem descrio":`Erro: ${o}`}catch{e="Erro de sistema no serializvel"}}else e=String(t);if(e==="[object Object]"||e.includes("object Object"))try{return`Erro tcnico (JSON): ${JSON.stringify(t)}`}catch{return"Erro de processamento de dados (consulte o suporte)."}return e};var Zb={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jb,eR;function tR(){return{geminiUrl:jb,vertexUrl:eR}}function nR(t,e,n,o){var s,l;if(!(t!=null&&t.baseUrl)){const u=tR();return e?(s=u.vertexUrl)!==null&&s!==void 0?s:n:(l=u.geminiUrl)!==null&&l!==void 0?l:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xn{}function j(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const l=e[s];return l!=null?String(l):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function m(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(n))for(let h=0;h<p.length;h++){const y=p[h];m(y,e.slice(l+1),n[h])}else for(const h of p)m(h,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];m(p[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const o=e[e.length-1],s=t[o];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const s=e[o];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(f=>d(f,e.slice(o+1),n)):n}else return n}else t=t[s]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function iR(t,e){for(const[n,o]of Object.entries(e)){const s=n.split("."),l=o.split("."),u=new Set;let f=-1;for(let p=0;p<s.length;p++)if(s[p]==="*"){f=p;break}if(f!==-1&&l.length>f)for(let p=f;p<l.length;p++){const h=l[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}zd(t,s,l,0,u)}}function zd(t,e,n,o,s){if(o>=e.length||typeof t!="object"||t===null)return;const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2),f=t;if(u in f&&Array.isArray(f[u]))for(const p of f[u])zd(p,e,n,o+1,s)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,f=Object.keys(u).filter(h=>!h.startsWith("_")&&!s.has(h)),p={};for(const h of f)p[h]=u[h];for(const[h,y]of Object.entries(p)){const _=[];for(const E of n.slice(o))E==="*"?_.push(h):_.push(E);m(u,_,y)}for(const h of f)delete u[h]}}else{const u=t;l in u&&zd(u[l],e,n,o+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oR(t){const e={},n=d(t,["operationName"]);n!=null&&m(e,["operationName"],n);const o=d(t,["resourceName"]);return o!=null&&m(e,["_url","resourceName"],o),e}function rR(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const u=d(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],aR(u)),e}function sR(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const u=d(t,["response"]);return u!=null&&m(e,["response"],lR(u)),e}function aR(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>uR(u))),m(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function lR(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>cR(u))),m(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function uR(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],gR(n)),e}function cR(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],yR(n)),e}function dR(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function fR(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function hR(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const u=d(t,["response"]);return u!=null&&m(e,["response"],pR(u)),e}function pR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["parent"]);o!=null&&m(e,["parent"],o);const s=d(t,["documentName"]);return s!=null&&m(e,["documentName"],s),e}function F0(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const u=d(t,["response"]);return u!=null&&m(e,["response"],mR(u)),e}function mR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["parent"]);o!=null&&m(e,["parent"],o);const s=d(t,["documentName"]);return s!=null&&m(e,["documentName"],s),e}function gR(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const o=d(t,["encodedVideo"]);o!=null&&m(e,["videoBytes"],Sf(o));const s=d(t,["encoding"]);return s!=null&&m(e,["mimeType"],s),e}function yR(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const o=d(t,["bytesBase64Encoded"]);o!=null&&m(e,["videoBytes"],Sf(o));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ey;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ey||(Ey={}));var Sy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Sy||(Sy={}));var Ty;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ty||(Ty={}));var Ae;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ae||(Ae={}));var wy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wy||(wy={}));var Ay;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ay||(Ay={}));var Cy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Cy||(Cy={}));var by;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(by||(by={}));var Ry;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ry||(Ry={}));var xy;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(xy||(xy={}));var Ny;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ny||(Ny={}));var Iy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Iy||(Iy={}));var My;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(My||(My={}));var Dy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Dy||(Dy={}));var Uy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Uy||(Uy={}));var ky;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ky||(ky={}));var Oy;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Oy||(Oy={}));var Py;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Py||(Py={}));var Ly;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ly||(Ly={}));var pl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(pl||(pl={}));var qy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qy||(qy={}));var Hy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Hy||(Hy={}));var By;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(By||(By={}));var $d;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($d||($d={}));var Gy;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Gy||(Gy={}));var Vy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Vy||(Vy={}));var zy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(zy||(zy={}));var $y;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})($y||($y={}));var Fy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Fy||(Fy={}));var Jy;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Jy||(Jy={}));var Ky;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Ky||(Ky={}));var Yy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Yy||(Yy={}));var Xy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Xy||(Xy={}));var Qy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Qy||(Qy={}));var Wy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wy||(Wy={}));var Zy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Zy||(Zy={}));var jy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jy||(jy={}));var ev;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ev||(ev={}));var tv;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(tv||(tv={}));var nv;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(nv||(nv={}));var iv;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(iv||(iv={}));var ov;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ov||(ov={}));var rv;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(rv||(rv={}));var sv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(sv||(sv={}));var av;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(av||(av={}));var lv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(lv||(lv={}));var uv;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(uv||(uv={}));var cv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(cv||(cv={}));var dv;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(dv||(dv={}));var fv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(fv||(fv={}));var hv;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hv||(hv={}));var pv;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(pv||(pv={}));var mv;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(mv||(mv={}));var gv;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(gv||(gv={}));var yv;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(yv||(yv={}));var Wo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Wo||(Wo={}));class Fd{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ss{get text(){var e,n,o,s,l,u,f,p;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const _=[];for(const E of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[T,A]of Object.entries(E))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(A!==null||A!==void 0)&&_.push(T);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,h+=E.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var e,n,o,s,l,u,f,p;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const _ of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[E,T]of Object.entries(_))E!=="inlineData"&&(T!==null||T!==void 0)&&y.push(E);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,o,s,l,u,f,p;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,o,s,l,u,f,p,h;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,o,s,l,u,f,p,h;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class vv{}class _v{}class vR{}class _R{}class ER{}class SR{}class Ev{}class Sv{}class Tv{}class TR{}class ml{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new ml;let s;const l=e;return n?s=sR(l):s=rR(l),Object.assign(o,s),o}}class wv{}class Av{}class Cv{}class bv{}class wR{}class AR{}class CR{}class Tf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Tf,l=hR(e);return Object.assign(o,l),o}}class bR{}class RR{}class xR{}class Rv{}class NR{get text(){var e,n,o;let s="",l=!1;const u=[];for(const f of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[p,h]of Object.entries(f))p!=="text"&&p!=="thought"&&h!==null&&u.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,s+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?s:void 0}get data(){var e,n,o;let s="";const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[f,p]of Object.entries(u))f!=="inlineData"&&p!==null&&l.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(s+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class IR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class wf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new wf,l=F0(e);return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function J0(t,e){const n=Re(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function K0(t){return Array.isArray(t)?t.map(e=>gl(e)):[gl(t)]}function gl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Y0(t){const e=gl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function X0(t){const e=gl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function xv(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Q0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>xv(e)):[xv(t)]}function Jd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Nv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Iv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vt(t){if(t==null)throw new Error("ContentUnion is required");return Jd(t)?t:{role:"user",parts:Q0(t)}}function Af(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=vt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=vt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vt(n)):[vt(e)]}function sn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Nv(t)||Iv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vt(t)]}const e=[],n=[],o=Jd(t[0]);for(const s of t){const l=Jd(s);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(s);else{if(Nv(s)||Iv(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return o||e.push({role:"user",parts:Q0(n)}),e}function MR(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Ae).includes(n[0].toUpperCase())?n[0].toUpperCase():Ae.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Ae).includes(o.toUpperCase())?o.toUpperCase():Ae.TYPE_UNSPECIFIED})}}function er(t){const e={},n=["items"],o=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&MR(t.type,e);for(const[u,f]of Object.entries(t))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ae).includes(f.toUpperCase())?f.toUpperCase():Ae.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=er(f);else if(o.includes(u)){const p=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}p.push(er(h))}e[u]=p}else if(s.includes(u)){const p={};for(const[h,y]of Object.entries(f))p[h]=er(y);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=f}return e}function Cf(t){return er(t)}function bf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Rf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ar(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=er(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=er(e.response));return t}function lr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function DR(t,e,n,o=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function Qn(t,e){if(typeof e!="string")throw new Error("name must be a string");return DR(t,e,"cachedContents")}function W0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ci(t){return Sf(t)}function UR(t){return t!=null&&typeof t=="object"&&"name"in t}function kR(t){return t!=null&&typeof t=="object"&&"video"in t}function OR(t){return t!=null&&typeof t=="object"&&"uri"in t}function Z0(t){var e;let n;if(UR(t)&&(n=t.name),!(OR(t)&&(n=t.uri,n===void 0))&&!(kR(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function j0(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function e_(t){for(const e of["models","tunedModels","publisherModels"])if(PR(t,e))return t[e];return[]}function PR(t,e){return t!==null&&typeof t=="object"&&e in t}function LR(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function qR(t,e={}){const n=[],o=new Set;for(const s of t){const l=s.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const u=LR(s,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function t_(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function HR(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function n_(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let l=!1;for(const u of s){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ur(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function i_(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BR(t){const e={},n=d(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const o=d(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Ex(u))),m(e,["inlinedResponses"],l)}const s=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["inlinedEmbedContentResponses"],l)}return e}function GR(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const o=d(t,["gcsDestination","outputUriPrefix"]);o!=null&&m(e,["gcsUri"],o);const s=d(t,["bigqueryDestination","outputUri"]);return s!=null&&m(e,["bigqueryUri"],s),e}function VR(t){const e={},n=d(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const o=d(t,["gcsUri"]);o!=null&&m(e,["gcsDestination","outputUriPrefix"],o);const s=d(t,["bigqueryUri"]);if(s!=null&&m(e,["bigqueryDestination","outputUri"],s),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function al(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["metadata","displayName"]);o!=null&&m(e,["displayName"],o);const s=d(t,["metadata","state"]);s!=null&&m(e,["state"],i_(s));const l=d(t,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const u=d(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const f=d(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const p=d(t,["metadata","model"]);p!=null&&m(e,["model"],p);const h=d(t,["metadata","output"]);return h!=null&&m(e,["dest"],BR(n_(h))),e}function Kd(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["displayName"]);o!=null&&m(e,["displayName"],o);const s=d(t,["state"]);s!=null&&m(e,["state"],i_(s));const l=d(t,["error"]);l!=null&&m(e,["error"],l);const u=d(t,["createTime"]);u!=null&&m(e,["createTime"],u);const f=d(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(e,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(e,["updateTime"],h);const y=d(t,["model"]);y!=null&&m(e,["model"],y);const _=d(t,["inputConfig"]);_!=null&&m(e,["src"],zR(_));const E=d(t,["outputConfig"]);E!=null&&m(e,["dest"],GR(n_(E)));const T=d(t,["completionStats"]);return T!=null&&m(e,["completionStats"],T),e}function zR(t){const e={},n=d(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const o=d(t,["gcsSource","uris"]);o!=null&&m(e,["gcsUri"],o);const s=d(t,["bigquerySource","inputUri"]);return s!=null&&m(e,["bigqueryUri"],s),e}function $R(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=d(e,["fileName"]);o!=null&&m(n,["fileName"],o);const s=d(e,["inlinedRequests"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>_x(t,u))),m(n,["requests","requests"],l)}return n}function FR(t){const e={},n=d(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const o=d(t,["gcsUri"]);o!=null&&m(e,["gcsSource","uris"],o);const s=d(t,["bigqueryUri"]);if(s!=null&&m(e,["bigquerySource","inputUri"],s),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function JR(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function KR(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],ur(t,o)),n}function YR(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],ur(t,o)),n}function XR(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const o=d(t,["citationMetadata"]);o!=null&&m(e,["citationMetadata"],QR(o));const s=d(t,["tokenCount"]);s!=null&&m(e,["tokenCount"],s);const l=d(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=d(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=d(t,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>T)),m(e,["safetyRatings"],E)}const _=d(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function QR(t){const e={},n=d(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["citations"],o)}return e}function o_(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>Rx(l))),m(e,["parts"],s)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function WR(t,e){const n={},o=d(t,["displayName"]);if(e!==void 0&&o!=null&&m(e,["batch","displayName"],o),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ZR(t,e){const n={},o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=d(t,["dest"]);return e!==void 0&&s!=null&&m(e,["outputConfig"],VR(HR(s))),n}function Mv(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["src"]);s!=null&&m(n,["batch","inputConfig"],$R(t,t_(t,s)));const l=d(e,["config"]);return l!=null&&WR(l,n),n}function jR(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["model"],Re(t,o));const s=d(e,["src"]);s!=null&&m(n,["inputConfig"],FR(t_(t,s)));const l=d(e,["config"]);return l!=null&&ZR(l,n),n}function ex(t,e){const n={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&m(e,["batch","displayName"],o),n}function tx(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["src"]);s!=null&&m(n,["batch","inputConfig"],lx(t,s));const l=d(e,["config"]);return l!=null&&ex(l,n),n}function nx(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],ur(t,o)),n}function ix(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],ur(t,o)),n}function ox(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const l=d(t,["error"]);return l!=null&&m(e,["error"],l),e}function rx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const l=d(t,["error"]);return l!=null&&m(e,["error"],l),e}function sx(t,e){const n={},o=d(e,["contents"]);if(o!=null){let l=Af(t,o);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["requests[]","request","content"],l)}const s=d(e,["config"]);return s!=null&&(m(n,["_self"],ax(s,n)),iR(n,{"requests[].*":"requests[].request.*"})),n}function ax(t,e){const n={},o=d(t,["taskType"]);e!==void 0&&o!=null&&m(e,["requests[]","taskType"],o);const s=d(t,["title"]);e!==void 0&&s!=null&&m(e,["requests[]","title"],s);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lx(t,e){const n={},o=d(e,["fileName"]);o!=null&&m(n,["file_name"],o);const s=d(e,["inlinedRequests"]);return s!=null&&m(n,["requests"],sx(t,s)),n}function ux(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function cx(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dx(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const o=d(t,["allowedFunctionNames"]);if(o!=null&&m(e,["allowedFunctionNames"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fx(t,e,n){const o={},s=d(e,["systemInstruction"]);n!==void 0&&s!=null&&m(n,["systemInstruction"],o_(vt(s)));const l=d(e,["temperature"]);l!=null&&m(o,["temperature"],l);const u=d(e,["topP"]);u!=null&&m(o,["topP"],u);const f=d(e,["topK"]);f!=null&&m(o,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(o,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(o,["maxOutputTokens"],h);const y=d(e,["stopSequences"]);y!=null&&m(o,["stopSequences"],y);const _=d(e,["responseLogprobs"]);_!=null&&m(o,["responseLogprobs"],_);const E=d(e,["logprobs"]);E!=null&&m(o,["logprobs"],E);const T=d(e,["presencePenalty"]);T!=null&&m(o,["presencePenalty"],T);const A=d(e,["frequencyPenalty"]);A!=null&&m(o,["frequencyPenalty"],A);const b=d(e,["seed"]);b!=null&&m(o,["seed"],b);const C=d(e,["responseMimeType"]);C!=null&&m(o,["responseMimeType"],C);const R=d(e,["responseSchema"]);R!=null&&m(o,["responseSchema"],Cf(R));const k=d(e,["responseJsonSchema"]);if(k!=null&&m(o,["responseJsonSchema"],k),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=d(e,["safetySettings"]);if(n!==void 0&&x!=null){let Ne=x;Array.isArray(Ne)&&(Ne=Ne.map(je=>xx(je))),m(n,["safetySettings"],Ne)}const B=d(e,["tools"]);if(n!==void 0&&B!=null){let Ne=lr(B);Array.isArray(Ne)&&(Ne=Ne.map(je=>Ix(ar(je)))),m(n,["tools"],Ne)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&m(n,["toolConfig"],Nx(K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=d(e,["cachedContent"]);n!==void 0&&X!=null&&m(n,["cachedContent"],Qn(t,X));const F=d(e,["responseModalities"]);F!=null&&m(o,["responseModalities"],F);const ie=d(e,["mediaResolution"]);ie!=null&&m(o,["mediaResolution"],ie);const Y=d(e,["speechConfig"]);if(Y!=null&&m(o,["speechConfig"],bf(Y)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=d(e,["thinkingConfig"]);de!=null&&m(o,["thinkingConfig"],de);const Me=d(e,["imageConfig"]);Me!=null&&m(o,["imageConfig"],vx(Me));const Fe=d(e,["enableEnhancedCivicAnswers"]);return Fe!=null&&m(o,["enableEnhancedCivicAnswers"],Fe),o}function hx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>XR(h))),m(e,["candidates"],p)}const s=d(t,["modelVersion"]);s!=null&&m(e,["modelVersion"],s);const l=d(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=d(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function px(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],ur(t,o)),n}function mx(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],ur(t,o)),n}function gx(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function yx(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function vx(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const o=d(t,["imageSize"]);if(o!=null&&m(e,["imageSize"],o),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _x(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["request","model"],Re(t,o));const s=d(e,["contents"]);if(s!=null){let f=sn(s);Array.isArray(f)&&(f=f.map(p=>o_(p))),m(n,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["config"]);return u!=null&&m(n,["request","generationConfig"],fx(t,u,d(n,["request"],{}))),n}function Ex(t){const e={},n=d(t,["response"]);n!=null&&m(e,["response"],hx(n));const o=d(t,["error"]);return o!=null&&m(e,["error"],o),e}function Sx(t,e){const n={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const s=d(t,["pageToken"]);if(e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Tx(t,e){const n={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const s=d(t,["pageToken"]);e!==void 0&&s!=null&&m(e,["_query","pageToken"],s);const l=d(t,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),n}function wx(t){const e={},n=d(t,["config"]);return n!=null&&Sx(n,e),e}function Ax(t){const e={},n=d(t,["config"]);return n!=null&&Tx(n,e),e}function Cx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const s=d(t,["operations"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>al(u))),m(e,["batchJobs"],l)}return e}function bx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const s=d(t,["batchPredictionJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Kd(u))),m(e,["batchJobs"],l)}return e}function Rx(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],ux(l));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],cx(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],JR(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&m(e,["videoMetadata"],E),e}function xx(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(t,["threshold"]);return o!=null&&m(e,["threshold"],o),e}function Nx(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],dx(n));const o=d(t,["retrievalConfig"]);return o!=null&&m(e,["retrievalConfig"],o),e}function Ix(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const l=d(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],gx(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],yx(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Kn||(Kn={}));class ji{constructor(e,n,o,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,s)}init(e,n,o){var s,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!o||Object.keys(o).length===0?u={config:{}}:typeof o=="object"?u=Object.assign({},o):u=o,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(s=u.config)===null||s===void 0?void 0:s.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mx extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ji(Kn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Mv(this.apiClient,e),o=n._url,s=j("{model}:batchGenerateContent",o),f=n.batch.inputConfig.requests,p=f.requests,h=[];for(const y of p){const _=Object.assign({},y);if(_.systemInstruction){const E=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=E,_.request=T}h.push(_)}return f.requests=h,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},s=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${s}`),o.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${s}`;else if(u)o.dest=`${u}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=jR(this.apiClient,e);return f=j("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>Kd(y))}else{const h=Mv(this.apiClient,e);return f=j("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>al(y))}}async createEmbeddingsInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=tx(this.apiClient,e);return l=j("{model}:asyncBatchEmbedContent",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>al(p))}}async get(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=mx(this.apiClient,e);return f=j("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>Kd(y))}else{const h=px(this.apiClient,e);return f=j("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>al(y))}}async cancel(e){var n,o,s,l;let u="",f={};if(this.apiClient.isVertexAI()){const p=YR(this.apiClient,e);u=j("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=KR(this.apiClient,e);u=j("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=Ax(e);return f=j("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=bx(y),E=new Rv;return Object.assign(E,_),E})}else{const h=wx(e);return f=j("batches",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=Cx(y),E=new Rv;return Object.assign(E,_),E})}}async delete(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=ix(this.apiClient,e);return f=j("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>rx(y))}else{const h=nx(this.apiClient,e);return f=j("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>ox(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dx(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Dv(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>tN(l))),m(e,["parts"],s)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function Ux(t,e){const n={},o=d(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const s=d(t,["expireTime"]);e!==void 0&&s!=null&&m(e,["expireTime"],s);const l=d(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=d(t,["contents"]);if(e!==void 0&&u!=null){let y=sn(u);Array.isArray(y)&&(y=y.map(_=>Dv(_))),m(e,["contents"],y)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Dv(vt(f)));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>iN(_))),m(e,["tools"],y)}const h=d(t,["toolConfig"]);if(e!==void 0&&h!=null&&m(e,["toolConfig"],nN(h)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function kx(t,e){const n={},o=d(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const s=d(t,["expireTime"]);e!==void 0&&s!=null&&m(e,["expireTime"],s);const l=d(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=d(t,["contents"]);if(e!==void 0&&u!=null){let _=sn(u);Array.isArray(_)&&(_=_.map(E=>E)),m(e,["contents"],_)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],vt(f));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(E=>oN(E))),m(e,["tools"],_)}const h=d(t,["toolConfig"]);e!==void 0&&h!=null&&m(e,["toolConfig"],h);const y=d(t,["kmsKeyName"]);return e!==void 0&&y!=null&&m(e,["encryption_spec","kmsKeyName"],y),n}function Ox(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["model"],J0(t,o));const s=d(e,["config"]);return s!=null&&Ux(s,n),n}function Px(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["model"],J0(t,o));const s=d(e,["config"]);return s!=null&&kx(s,n),n}function Lx(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],Qn(t,o)),n}function qx(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],Qn(t,o)),n}function Hx(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Bx(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Gx(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Vx(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zx(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const o=d(t,["allowedFunctionNames"]);if(o!=null&&m(e,["allowedFunctionNames"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $x(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const s=d(t,["parameters"]);s!=null&&m(e,["parameters"],s);const l=d(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=d(t,["response"]);u!=null&&m(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Fx(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],Qn(t,o)),n}function Jx(t,e){const n={},o=d(e,["name"]);return o!=null&&m(n,["_url","name"],Qn(t,o)),n}function Kx(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Yx(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Xx(t,e){const n={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function Qx(t,e){const n={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function Wx(t){const e={},n=d(t,["config"]);return n!=null&&Xx(n,e),e}function Zx(t){const e={},n=d(t,["config"]);return n!=null&&Qx(n,e),e}function jx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const s=d(t,["cachedContents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function eN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const s=d(t,["cachedContents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function tN(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],Gx(l));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],Vx(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],Dx(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&m(e,["videoMetadata"],E),e}function nN(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],zx(n));const o=d(t,["retrievalConfig"]);return o!=null&&m(e,["retrievalConfig"],o),e}function iN(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const l=d(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],Kx(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],Yx(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function oN(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(E=>$x(E))),m(e,["functionDeclarations"],_)}const o=d(t,["retrieval"]);o!=null&&m(e,["retrieval"],o);const s=d(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],s);const l=d(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const y=d(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function rN(t,e){const n={},o=d(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const s=d(t,["expireTime"]);return e!==void 0&&s!=null&&m(e,["expireTime"],s),n}function sN(t,e){const n={},o=d(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const s=d(t,["expireTime"]);return e!==void 0&&s!=null&&m(e,["expireTime"],s),n}function aN(t,e){const n={},o=d(e,["name"]);o!=null&&m(n,["_url","name"],Qn(t,o));const s=d(e,["config"]);return s!=null&&rN(s,n),n}function lN(t,e){const n={},o=d(e,["name"]);o!=null&&m(n,["_url","name"],Qn(t,o));const s=d(e,["config"]);return s!=null&&sN(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uN extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ji(Kn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=Px(this.apiClient,e);return f=j("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const h=Ox(this.apiClient,e);return f=j("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=Jx(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const h=Fx(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=qx(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=Bx(y),E=new Cv;return Object.assign(E,_),E})}else{const h=Lx(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=Hx(y),E=new Cv;return Object.assign(E,_),E})}}async update(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=lN(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const h=aN(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async listInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=Zx(e);return f=j("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=eN(y),E=new bv;return Object.assign(E,_),E})}else{const h=Wx(e);return f=j("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=jx(y),E=new bv;return Object.assign(E,_),E})}}}function yl(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(n[o[s]]=t[o[s]]);return n}function Uv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(t){return this instanceof ce?(this.v=t,this):new ce(t)}function gn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),s,l=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(T){return function(A){return Promise.resolve(A).then(T,_)}}function f(T,A){o[T]&&(s[T]=function(b){return new Promise(function(C,R){l.push([T,b,C,R])>1||p(T,b)})},A&&(s[T]=A(s[T])))}function p(T,A){try{h(o[T](A))}catch(b){E(l[0][3],b)}}function h(T){T.value instanceof ce?Promise.resolve(T.value.v).then(y,_):E(l[0][2],T)}function y(T){p("next",T)}function _(T){p("throw",T)}function E(T,A){T(A),l.shift(),l.length&&p(l[0][0],l[0][1])}}function yn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Uv=="function"?Uv(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(l){n[l]=t[l]&&function(u){return new Promise(function(f,p){u=t[l](u),s(f,p,u.done,u.value)})}}function s(l,u,f,p){Promise.resolve(p).then(function(h){l({value:h,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cN(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:r_(n)}function r_(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function dN(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kv(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const s=[];let l=!0;for(;o<n&&t[o].role==="model";)s.push(t[o]),l&&!r_(t[o])&&(l=!1),o++;l?e.push(...s):e.pop()}return e}class fN{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new hN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class hN{constructor(e,n,o,s={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=s,this.history=l,this.sendPromise=Promise.resolve(),dN(l)}async sendMessage(e){var n;await this.sendPromise;const o=vt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,f;const p=await s,h=(u=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,y=p.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let E=[];y!=null&&(E=(f=y.slice(_))!==null&&f!==void 0?f:[]);const T=h?[h]:[];this.recordHistory(o,T,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const o=vt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const l=await s;return this.processStreamResponse(l,o)}getHistory(e=!1){const n=e?kv(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return gn(this,arguments,function*(){var s,l,u,f,p,h;const y=[];try{for(var _=!0,E=yn(e),T;T=yield ce(E.next()),s=T.done,!s;_=!0){f=T.value,_=!1;const A=f;if(cN(A)){const b=(h=(p=A.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;b!==void 0&&y.push(b)}yield yield ce(A)}}catch(A){l={error:A}}finally{try{!_&&!s&&(u=E.return)&&(yield ce(u.call(E)))}finally{if(l)throw l.error}}this.recordHistory(n,y)})}recordHistory(e,n,o){let s=[];n.length>0&&n.every(l=>l.role!==void 0)?s=n:s.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...kv(o)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Rl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pN(t){const e={},n=d(t,["file"]);return n!=null&&m(e,["file"],n),e}function mN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function gN(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],Z0(n)),e}function yN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function vN(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],Z0(n)),e}function _N(t,e){const n={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function EN(t){const e={},n=d(t,["config"]);return n!=null&&_N(n,e),e}function SN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const s=d(t,["files"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TN extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ji(Kn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=EN(e);return l=j("files",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const h=SN(p),y=new bR;return Object.assign(y,h),y})}}async createInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=pN(e);return l=j("upload/v1beta/files",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const h=mN(p),y=new RR;return Object.assign(y,h),y})}}async get(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vN(e);return l=j("files/{file}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=gN(e);return l=j("files/{file}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const h=yN(p),y=new xR;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ll(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function wN(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>HN(l))),m(e,["parts"],s)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function AN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function CN(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bN(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const s=d(t,["parameters"]);s!=null&&m(e,["parameters"],s);const l=d(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=d(t,["response"]);u!=null&&m(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function RN(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const o=d(t,["responseJsonSchema"]);o!=null&&m(e,["responseJsonSchema"],o);const s=d(t,["audioTimestamp"]);s!=null&&m(e,["audioTimestamp"],s);const l=d(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=d(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const y=d(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const _=d(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const E=d(t,["responseLogprobs"]);E!=null&&m(e,["responseLogprobs"],E);const T=d(t,["responseMimeType"]);T!=null&&m(e,["responseMimeType"],T);const A=d(t,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const b=d(t,["responseSchema"]);b!=null&&m(e,["responseSchema"],b);const C=d(t,["routingConfig"]);C!=null&&m(e,["routingConfig"],C);const R=d(t,["seed"]);R!=null&&m(e,["seed"],R);const k=d(t,["speechConfig"]);k!=null&&m(e,["speechConfig"],k);const x=d(t,["stopSequences"]);x!=null&&m(e,["stopSequences"],x);const B=d(t,["temperature"]);B!=null&&m(e,["temperature"],B);const K=d(t,["thinkingConfig"]);K!=null&&m(e,["thinkingConfig"],K);const X=d(t,["topK"]);X!=null&&m(e,["topK"],X);const F=d(t,["topP"]);if(F!=null&&m(e,["topP"],F),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function xN(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function NN(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function IN(t,e){const n={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],o);const s=d(t,["responseModalities"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","responseModalities"],s);const l=d(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=d(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const y=d(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],Rf(_));const E=d(t,["thinkingConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","thinkingConfig"],E);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],wN(vt(A)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let X=lr(b);Array.isArray(X)&&(X=X.map(F=>GN(ar(F)))),m(e,["setup","tools"],X)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],BN(C));const R=d(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","inputAudioTranscription"],R);const k=d(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&m(e,["setup","outputAudioTranscription"],k);const x=d(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&m(e,["setup","realtimeInputConfig"],x);const B=d(t,["contextWindowCompression"]);e!==void 0&&B!=null&&m(e,["setup","contextWindowCompression"],B);const K=d(t,["proactivity"]);if(e!==void 0&&K!=null&&m(e,["setup","proactivity"],K),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function MN(t,e){const n={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],RN(o));const s=d(t,["responseModalities"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","responseModalities"],s);const l=d(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=d(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const y=d(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],Rf(_));const E=d(t,["thinkingConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","thinkingConfig"],E);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],vt(A));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let F=lr(b);Array.isArray(F)&&(F=F.map(ie=>VN(ar(ie)))),m(e,["setup","tools"],F)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],C);const R=d(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","inputAudioTranscription"],R);const k=d(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&m(e,["setup","outputAudioTranscription"],k);const x=d(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&m(e,["setup","realtimeInputConfig"],x);const B=d(t,["contextWindowCompression"]);e!==void 0&&B!=null&&m(e,["setup","contextWindowCompression"],B);const K=d(t,["proactivity"]);e!==void 0&&K!=null&&m(e,["setup","proactivity"],K);const X=d(t,["explicitVadSignal"]);return e!==void 0&&X!=null&&m(e,["setup","explicitVadSignal"],X),n}function DN(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["setup","model"],Re(t,o));const s=d(e,["config"]);return s!=null&&m(n,["config"],IN(s,n)),n}function UN(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["setup","model"],Re(t,o));const s=d(e,["config"]);return s!=null&&m(n,["config"],MN(s,n)),n}function kN(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function ON(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["weightedPrompts"],o)}return e}function PN(t){const e={},n=d(t,["media"]);if(n!=null){let h=K0(n);Array.isArray(h)&&(h=h.map(y=>ll(y))),m(e,["mediaChunks"],h)}const o=d(t,["audio"]);o!=null&&m(e,["audio"],ll(X0(o)));const s=d(t,["audioStreamEnd"]);s!=null&&m(e,["audioStreamEnd"],s);const l=d(t,["video"]);l!=null&&m(e,["video"],ll(Y0(l)));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function LN(t){const e={},n=d(t,["media"]);if(n!=null){let h=K0(n);Array.isArray(h)&&(h=h.map(y=>y)),m(e,["mediaChunks"],h)}const o=d(t,["audio"]);o!=null&&m(e,["audio"],X0(o));const s=d(t,["audioStreamEnd"]);s!=null&&m(e,["audioStreamEnd"],s);const l=d(t,["video"]);l!=null&&m(e,["video"],Y0(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function qN(t){const e={},n=d(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const o=d(t,["serverContent"]);o!=null&&m(e,["serverContent"],o);const s=d(t,["toolCall"]);s!=null&&m(e,["toolCall"],s);const l=d(t,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const u=d(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],zN(u));const f=d(t,["goAway"]);f!=null&&m(e,["goAway"],f);const p=d(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const h=d(t,["voiceActivityDetectionSignal"]);return h!=null&&m(e,["voiceActivityDetectionSignal"],h),e}function HN(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],AN(l));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],CN(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],ll(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&m(e,["videoMetadata"],E),e}function BN(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GN(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const l=d(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],xN(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],NN(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function VN(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(E=>bN(E))),m(e,["functionDeclarations"],_)}const o=d(t,["retrieval"]);o!=null&&m(e,["retrieval"],o);const s=d(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],s);const l=d(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const y=d(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function zN(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const o=d(t,["cachedContentTokenCount"]);o!=null&&m(e,["cachedContentTokenCount"],o);const s=d(t,["candidatesTokenCount"]);s!=null&&m(e,["responseTokenCount"],s);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const u=d(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const f=d(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const p=d(t,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["promptTokensDetails"],T)}const h=d(t,["cacheTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["cacheTokensDetails"],T)}const y=d(t,["candidatesTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["responseTokensDetails"],T)}const _=d(t,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["toolUsePromptTokensDetails"],T)}const E=d(t,["trafficType"]);return E!=null&&m(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $N(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function FN(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const o=d(t,["citationMetadata"]);o!=null&&m(e,["citationMetadata"],JN(o));const s=d(t,["tokenCount"]);s!=null&&m(e,["tokenCount"],s);const l=d(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=d(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=d(t,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>T)),m(e,["safetyRatings"],E)}const _=d(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function JN(t){const e={},n=d(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["citations"],o)}return e}function KN(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["contents"]);if(s!=null){let l=sn(s);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["contents"],l)}return n}function YN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["tokensInfo"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["tokensInfo"],s)}return e}function XN(t){const e={},n=d(t,["values"]);n!=null&&m(e,["values"],n);const o=d(t,["statistics"]);return o!=null&&m(e,["statistics"],QN(o)),e}function QN(t){const e={},n=d(t,["truncated"]);n!=null&&m(e,["truncated"],n);const o=d(t,["token_count"]);return o!=null&&m(e,["tokenCount"],o),e}function xl(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>rM(l))),m(e,["parts"],s)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function WN(t){const e={},n=d(t,["controlType"]);n!=null&&m(e,["controlType"],n);const o=d(t,["enableControlImageComputation"]);return o!=null&&m(e,["computeControl"],o),e}function ZN(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function jN(t,e){const n={},o=d(t,["systemInstruction"]);e!==void 0&&o!=null&&m(e,["systemInstruction"],vt(o));const s=d(t,["tools"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>u_(f))),m(e,["tools"],u)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],$I(l)),n}function eI(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["contents"]);if(s!=null){let u=sn(s);Array.isArray(u)&&(u=u.map(f=>xl(f))),m(n,["contents"],u)}const l=d(e,["config"]);return l!=null&&ZN(l),n}function tI(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["contents"]);if(s!=null){let u=sn(s);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=d(e,["config"]);return l!=null&&jN(l,n),n}function nI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["totalTokens"]);o!=null&&m(e,["totalTokens"],o);const s=d(t,["cachedContentTokenCount"]);return s!=null&&m(e,["cachedContentTokenCount"],s),e}function iI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["totalTokens"]);return o!=null&&m(e,["totalTokens"],o),e}function oI(t,e){const n={},o=d(e,["model"]);return o!=null&&m(n,["_url","name"],Re(t,o)),n}function rI(t,e){const n={},o=d(e,["model"]);return o!=null&&m(n,["_url","name"],Re(t,o)),n}function sI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function aI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function lI(t,e){const n={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const s=d(t,["negativePrompt"]);e!==void 0&&s!=null&&m(e,["parameters","negativePrompt"],s);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=d(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const E=d(t,["includeRaiReason"]);e!==void 0&&E!=null&&m(e,["parameters","includeRaiReason"],E);const T=d(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const R=d(t,["labels"]);e!==void 0&&R!=null&&m(e,["labels"],R);const k=d(t,["editMode"]);e!==void 0&&k!=null&&m(e,["parameters","editMode"],k);const x=d(t,["baseSteps"]);return e!==void 0&&x!=null&&m(e,["parameters","editConfig","baseSteps"],x),n}function uI(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>dM(p))),m(n,["instances[0]","referenceImages"],f)}const u=d(e,["config"]);return u!=null&&lI(u,n),n}function cI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Nl(l))),m(e,["generatedImages"],s)}return e}function dI(t,e){const n={},o=d(t,["taskType"]);e!==void 0&&o!=null&&m(e,["requests[]","taskType"],o);const s=d(t,["title"]);e!==void 0&&s!=null&&m(e,["requests[]","title"],s);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fI(t,e){const n={},o=d(t,["taskType"]);e!==void 0&&o!=null&&m(e,["instances[]","task_type"],o);const s=d(t,["title"]);e!==void 0&&s!=null&&m(e,["instances[]","title"],s);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const u=d(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),n}function hI(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["contents"]);if(s!=null){let f=Af(t,s);Array.isArray(f)&&(f=f.map(p=>p)),m(n,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&dI(l,n);const u=d(e,["model"]);return u!==void 0&&m(n,["requests[]","model"],Re(t,u)),n}function pI(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["contents"]);if(s!=null){let u=Af(t,s);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["instances[]","content"],u)}const l=d(e,["config"]);return l!=null&&fI(l,n),n}function mI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["embeddings"],l)}const s=d(t,["metadata"]);return s!=null&&m(e,["metadata"],s),e}function gI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>XN(u))),m(e,["embeddings"],l)}const s=d(t,["metadata"]);return s!=null&&m(e,["metadata"],s),e}function yI(t){const e={},n=d(t,["endpoint"]);n!=null&&m(e,["name"],n);const o=d(t,["deployedModelId"]);return o!=null&&m(e,["deployedModelId"],o),e}function vI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function _I(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function EI(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const o=d(t,["allowedFunctionNames"]);if(o!=null&&m(e,["allowedFunctionNames"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function SI(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const s=d(t,["parameters"]);s!=null&&m(e,["parameters"],s);const l=d(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=d(t,["response"]);u!=null&&m(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function TI(t,e,n){const o={},s=d(e,["systemInstruction"]);n!==void 0&&s!=null&&m(n,["systemInstruction"],xl(vt(s)));const l=d(e,["temperature"]);l!=null&&m(o,["temperature"],l);const u=d(e,["topP"]);u!=null&&m(o,["topP"],u);const f=d(e,["topK"]);f!=null&&m(o,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(o,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(o,["maxOutputTokens"],h);const y=d(e,["stopSequences"]);y!=null&&m(o,["stopSequences"],y);const _=d(e,["responseLogprobs"]);_!=null&&m(o,["responseLogprobs"],_);const E=d(e,["logprobs"]);E!=null&&m(o,["logprobs"],E);const T=d(e,["presencePenalty"]);T!=null&&m(o,["presencePenalty"],T);const A=d(e,["frequencyPenalty"]);A!=null&&m(o,["frequencyPenalty"],A);const b=d(e,["seed"]);b!=null&&m(o,["seed"],b);const C=d(e,["responseMimeType"]);C!=null&&m(o,["responseMimeType"],C);const R=d(e,["responseSchema"]);R!=null&&m(o,["responseSchema"],Cf(R));const k=d(e,["responseJsonSchema"]);if(k!=null&&m(o,["responseJsonSchema"],k),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=d(e,["safetySettings"]);if(n!==void 0&&x!=null){let Ne=x;Array.isArray(Ne)&&(Ne=Ne.map(je=>fM(je))),m(n,["safetySettings"],Ne)}const B=d(e,["tools"]);if(n!==void 0&&B!=null){let Ne=lr(B);Array.isArray(Ne)&&(Ne=Ne.map(je=>_M(ar(je)))),m(n,["tools"],Ne)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&m(n,["toolConfig"],vM(K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=d(e,["cachedContent"]);n!==void 0&&X!=null&&m(n,["cachedContent"],Qn(t,X));const F=d(e,["responseModalities"]);F!=null&&m(o,["responseModalities"],F);const ie=d(e,["mediaResolution"]);ie!=null&&m(o,["mediaResolution"],ie);const Y=d(e,["speechConfig"]);if(Y!=null&&m(o,["speechConfig"],bf(Y)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=d(e,["thinkingConfig"]);de!=null&&m(o,["thinkingConfig"],de);const Me=d(e,["imageConfig"]);Me!=null&&m(o,["imageConfig"],XI(Me));const Fe=d(e,["enableEnhancedCivicAnswers"]);return Fe!=null&&m(o,["enableEnhancedCivicAnswers"],Fe),o}function wI(t,e,n){const o={},s=d(e,["systemInstruction"]);n!==void 0&&s!=null&&m(n,["systemInstruction"],vt(s));const l=d(e,["temperature"]);l!=null&&m(o,["temperature"],l);const u=d(e,["topP"]);u!=null&&m(o,["topP"],u);const f=d(e,["topK"]);f!=null&&m(o,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(o,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(o,["maxOutputTokens"],h);const y=d(e,["stopSequences"]);y!=null&&m(o,["stopSequences"],y);const _=d(e,["responseLogprobs"]);_!=null&&m(o,["responseLogprobs"],_);const E=d(e,["logprobs"]);E!=null&&m(o,["logprobs"],E);const T=d(e,["presencePenalty"]);T!=null&&m(o,["presencePenalty"],T);const A=d(e,["frequencyPenalty"]);A!=null&&m(o,["frequencyPenalty"],A);const b=d(e,["seed"]);b!=null&&m(o,["seed"],b);const C=d(e,["responseMimeType"]);C!=null&&m(o,["responseMimeType"],C);const R=d(e,["responseSchema"]);R!=null&&m(o,["responseSchema"],Cf(R));const k=d(e,["responseJsonSchema"]);k!=null&&m(o,["responseJsonSchema"],k);const x=d(e,["routingConfig"]);x!=null&&m(o,["routingConfig"],x);const B=d(e,["modelSelectionConfig"]);B!=null&&m(o,["modelConfig"],B);const K=d(e,["safetySettings"]);if(n!==void 0&&K!=null){let G=K;Array.isArray(G)&&(G=G.map(W=>W)),m(n,["safetySettings"],G)}const X=d(e,["tools"]);if(n!==void 0&&X!=null){let G=lr(X);Array.isArray(G)&&(G=G.map(W=>u_(ar(W)))),m(n,["tools"],G)}const F=d(e,["toolConfig"]);n!==void 0&&F!=null&&m(n,["toolConfig"],F);const ie=d(e,["labels"]);n!==void 0&&ie!=null&&m(n,["labels"],ie);const Y=d(e,["cachedContent"]);n!==void 0&&Y!=null&&m(n,["cachedContent"],Qn(t,Y));const de=d(e,["responseModalities"]);de!=null&&m(o,["responseModalities"],de);const Me=d(e,["mediaResolution"]);Me!=null&&m(o,["mediaResolution"],Me);const Fe=d(e,["speechConfig"]);Fe!=null&&m(o,["speechConfig"],bf(Fe));const Ne=d(e,["audioTimestamp"]);Ne!=null&&m(o,["audioTimestamp"],Ne);const je=d(e,["thinkingConfig"]);je!=null&&m(o,["thinkingConfig"],je);const wt=d(e,["imageConfig"]);if(wt!=null&&m(o,["imageConfig"],QI(wt)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Ov(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["contents"]);if(s!=null){let u=sn(s);Array.isArray(u)&&(u=u.map(f=>xl(f))),m(n,["contents"],u)}const l=d(e,["config"]);return l!=null&&m(n,["generationConfig"],TI(t,l,n)),n}function Pv(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["contents"]);if(s!=null){let u=sn(s);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=d(e,["config"]);return l!=null&&m(n,["generationConfig"],wI(t,l,n)),n}function Lv(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>FN(h))),m(e,["candidates"],p)}const s=d(t,["modelVersion"]);s!=null&&m(e,["modelVersion"],s);const l=d(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=d(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function qv(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>y)),m(e,["candidates"],h)}const s=d(t,["createTime"]);s!=null&&m(e,["createTime"],s);const l=d(t,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const u=d(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const f=d(t,["responseId"]);f!=null&&m(e,["responseId"],f);const p=d(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function AI(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const y=d(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const E=d(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&m(e,["parameters","outputOptions","compressionQuality"],E),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=d(t,["imageSize"]);if(e!==void 0&&T!=null&&m(e,["parameters","sampleImageSize"],T),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function CI(t,e){const n={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const s=d(t,["negativePrompt"]);e!==void 0&&s!=null&&m(e,["parameters","negativePrompt"],s);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=d(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const E=d(t,["includeRaiReason"]);e!==void 0&&E!=null&&m(e,["parameters","includeRaiReason"],E);const T=d(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const R=d(t,["labels"]);e!==void 0&&R!=null&&m(e,["labels"],R);const k=d(t,["imageSize"]);e!==void 0&&k!=null&&m(e,["parameters","sampleImageSize"],k);const x=d(t,["enhancePrompt"]);return e!==void 0&&x!=null&&m(e,["parameters","enhancePrompt"],x),n}function bI(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const l=d(e,["config"]);return l!=null&&AI(l,n),n}function RI(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const l=d(e,["config"]);return l!=null&&CI(l,n),n}function xI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>BI(u))),m(e,["generatedImages"],l)}const s=d(t,["positivePromptSafetyAttributes"]);return s!=null&&m(e,["positivePromptSafetyAttributes"],a_(s)),e}function NI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Nl(u))),m(e,["generatedImages"],l)}const s=d(t,["positivePromptSafetyAttributes"]);return s!=null&&m(e,["positivePromptSafetyAttributes"],l_(s)),e}function II(t,e){const n={},o=d(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=d(t,["durationSeconds"]);if(e!==void 0&&s!=null&&m(e,["parameters","durationSeconds"],s),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const h=d(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=d(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],Il(y));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let E=_;Array.isArray(E)&&(E=E.map(T=>DM(T))),m(e,["instances[0]","referenceImages"],E)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function MI(t,e){const n={},o=d(t,["numberOfVideos"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const l=d(t,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const u=d(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const f=d(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const h=d(t,["resolution"]);e!==void 0&&h!=null&&m(e,["parameters","resolution"],h);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const _=d(t,["pubsubTopic"]);e!==void 0&&_!=null&&m(e,["parameters","pubsubTopic"],_);const E=d(t,["negativePrompt"]);e!==void 0&&E!=null&&m(e,["parameters","negativePrompt"],E);const T=d(t,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const A=d(t,["generateAudio"]);e!==void 0&&A!=null&&m(e,["parameters","generateAudio"],A);const b=d(t,["lastFrame"]);e!==void 0&&b!=null&&m(e,["instances[0]","lastFrame"],_n(b));const C=d(t,["referenceImages"]);if(e!==void 0&&C!=null){let x=C;Array.isArray(x)&&(x=x.map(B=>UM(B))),m(e,["instances[0]","referenceImages"],x)}const R=d(t,["mask"]);e!==void 0&&R!=null&&m(e,["instances[0]","mask"],MM(R));const k=d(t,["compressionQuality"]);return e!==void 0&&k!=null&&m(e,["parameters","compressionQuality"],k),n}function DI(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const u=d(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],PI(u)),e}function UI(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const u=d(t,["response"]);return u!=null&&m(e,["response"],LI(u)),e}function kI(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const l=d(e,["image"]);l!=null&&m(n,["instances[0]","image"],Il(l));const u=d(e,["video"]);u!=null&&m(n,["instances[0]","video"],c_(u));const f=d(e,["source"]);f!=null&&qI(f,n);const p=d(e,["config"]);return p!=null&&II(p,n),n}function OI(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const l=d(e,["image"]);l!=null&&m(n,["instances[0]","image"],_n(l));const u=d(e,["video"]);u!=null&&m(n,["instances[0]","video"],d_(u));const f=d(e,["source"]);f!=null&&HI(f,n);const p=d(e,["config"]);return p!=null&&MI(p,n),n}function PI(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>VI(u))),m(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function LI(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>zI(u))),m(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function qI(t,e){const n={},o=d(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const s=d(t,["image"]);e!==void 0&&s!=null&&m(e,["instances[0]","image"],Il(s));const l=d(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],c_(l)),n}function HI(t,e){const n={},o=d(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const s=d(t,["image"]);e!==void 0&&s!=null&&m(e,["instances[0]","image"],_n(s));const l=d(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],d_(l)),n}function BI(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],WI(n));const o=d(t,["raiFilteredReason"]);o!=null&&m(e,["raiFilteredReason"],o);const s=d(t,["_self"]);return s!=null&&m(e,["safetyAttributes"],a_(s)),e}function Nl(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],s_(n));const o=d(t,["raiFilteredReason"]);o!=null&&m(e,["raiFilteredReason"],o);const s=d(t,["_self"]);s!=null&&m(e,["safetyAttributes"],l_(s));const l=d(t,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function GI(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["mask"],s_(n));const o=d(t,["labels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["labels"],s)}return e}function VI(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],NM(n)),e}function zI(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],IM(n)),e}function $I(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const o=d(t,["responseJsonSchema"]);o!=null&&m(e,["responseJsonSchema"],o);const s=d(t,["audioTimestamp"]);s!=null&&m(e,["audioTimestamp"],s);const l=d(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=d(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const y=d(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const _=d(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const E=d(t,["responseLogprobs"]);E!=null&&m(e,["responseLogprobs"],E);const T=d(t,["responseMimeType"]);T!=null&&m(e,["responseMimeType"],T);const A=d(t,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const b=d(t,["responseSchema"]);b!=null&&m(e,["responseSchema"],b);const C=d(t,["routingConfig"]);C!=null&&m(e,["routingConfig"],C);const R=d(t,["seed"]);R!=null&&m(e,["seed"],R);const k=d(t,["speechConfig"]);k!=null&&m(e,["speechConfig"],k);const x=d(t,["stopSequences"]);x!=null&&m(e,["stopSequences"],x);const B=d(t,["temperature"]);B!=null&&m(e,["temperature"],B);const K=d(t,["thinkingConfig"]);K!=null&&m(e,["thinkingConfig"],K);const X=d(t,["topK"]);X!=null&&m(e,["topK"],X);const F=d(t,["topP"]);if(F!=null&&m(e,["topP"],F),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function FI(t,e){const n={},o=d(e,["model"]);return o!=null&&m(n,["_url","name"],Re(t,o)),n}function JI(t,e){const n={},o=d(e,["model"]);return o!=null&&m(n,["_url","name"],Re(t,o)),n}function KI(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function YI(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function XI(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const o=d(t,["imageSize"]);if(o!=null&&m(e,["imageSize"],o),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function QI(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const o=d(t,["imageSize"]);o!=null&&m(e,["imageSize"],o);const s=d(t,["outputMimeType"]);s!=null&&m(e,["imageOutputOptions","mimeType"],s);const l=d(t,["outputCompressionQuality"]);return l!=null&&m(e,["imageOutputOptions","compressionQuality"],l),e}function WI(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Ci(n));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function s_(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const o=d(t,["bytesBase64Encoded"]);o!=null&&m(e,["imageBytes"],Ci(o));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function Il(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Ci(n));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function _n(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const o=d(t,["imageBytes"]);o!=null&&m(e,["bytesBase64Encoded"],Ci(o));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function ZI(t,e,n){const o={},s=d(e,["pageSize"]);n!==void 0&&s!=null&&m(n,["_query","pageSize"],s);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=d(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],j0(t,f)),o}function jI(t,e,n){const o={},s=d(e,["pageSize"]);n!==void 0&&s!=null&&m(n,["_query","pageSize"],s);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=d(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],j0(t,f)),o}function eM(t,e){const n={},o=d(e,["config"]);return o!=null&&ZI(t,o,n),n}function tM(t,e){const n={},o=d(e,["config"]);return o!=null&&jI(t,o,n),n}function nM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const s=d(t,["_self"]);if(s!=null){let l=e_(s);Array.isArray(l)&&(l=l.map(u=>Yd(u))),m(e,["models"],l)}return e}function iM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const s=d(t,["_self"]);if(s!=null){let l=e_(s);Array.isArray(l)&&(l=l.map(u=>Xd(u))),m(e,["models"],l)}return e}function oM(t){const e={},n=d(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const o=d(t,["segmentationClasses"]);o!=null&&m(e,["maskClasses"],o);const s=d(t,["maskDilation"]);return s!=null&&m(e,["dilation"],s),e}function Yd(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["displayName"]);o!=null&&m(e,["displayName"],o);const s=d(t,["description"]);s!=null&&m(e,["description"],s);const l=d(t,["version"]);l!=null&&m(e,["version"],l);const u=d(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],EM(u));const f=d(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const p=d(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const h=d(t,["supportedGenerationMethods"]);h!=null&&m(e,["supportedActions"],h);const y=d(t,["temperature"]);y!=null&&m(e,["temperature"],y);const _=d(t,["maxTemperature"]);_!=null&&m(e,["maxTemperature"],_);const E=d(t,["topP"]);E!=null&&m(e,["topP"],E);const T=d(t,["topK"]);T!=null&&m(e,["topK"],T);const A=d(t,["thinking"]);return A!=null&&m(e,["thinking"],A),e}function Xd(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["displayName"]);o!=null&&m(e,["displayName"],o);const s=d(t,["description"]);s!=null&&m(e,["description"],s);const l=d(t,["versionId"]);l!=null&&m(e,["version"],l);const u=d(t,["deployedModels"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(E=>yI(E))),m(e,["endpoints"],_)}const f=d(t,["labels"]);f!=null&&m(e,["labels"],f);const p=d(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],SM(p));const h=d(t,["defaultCheckpointId"]);h!=null&&m(e,["defaultCheckpointId"],h);const y=d(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(E=>E)),m(e,["checkpoints"],_)}return e}function rM(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],vI(l));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],_I(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],$N(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&m(e,["videoMetadata"],E),e}function sM(t){const e={},n=d(t,["productImage"]);return n!=null&&m(e,["image"],_n(n)),e}function aM(t,e){const n={},o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=d(t,["baseSteps"]);e!==void 0&&s!=null&&m(e,["parameters","baseSteps"],s);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const u=d(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const h=d(t,["addWatermark"]);e!==void 0&&h!=null&&m(e,["parameters","addWatermark"],h);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const _=d(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","compressionQuality"],_);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&m(e,["parameters","enhancePrompt"],E);const T=d(t,["labels"]);return e!==void 0&&T!=null&&m(e,["labels"],T),n}function lM(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["source"]);s!=null&&cM(s,n);const l=d(e,["config"]);return l!=null&&aM(l,n),n}function uM(t){const e={},n=d(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Nl(s))),m(e,["generatedImages"],o)}return e}function cM(t,e){const n={},o=d(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const s=d(t,["personImage"]);e!==void 0&&s!=null&&m(e,["instances[0]","personImage","image"],_n(s));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>sM(f))),m(e,["instances[0]","productImages"],u)}return n}function dM(t){const e={},n=d(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],_n(n));const o=d(t,["referenceId"]);o!=null&&m(e,["referenceId"],o);const s=d(t,["referenceType"]);s!=null&&m(e,["referenceType"],s);const l=d(t,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],oM(l));const u=d(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],WN(u));const f=d(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const p=d(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function a_(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const o=d(t,["safetyAttributes","scores"]);o!=null&&m(e,["scores"],o);const s=d(t,["contentType"]);return s!=null&&m(e,["contentType"],s),e}function l_(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const o=d(t,["safetyAttributes","scores"]);o!=null&&m(e,["scores"],o);const s=d(t,["contentType"]);return s!=null&&m(e,["contentType"],s),e}function fM(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(t,["threshold"]);return o!=null&&m(e,["threshold"],o),e}function hM(t){const e={},n=d(t,["image"]);return n!=null&&m(e,["image"],_n(n)),e}function pM(t,e){const n={},o=d(t,["mode"]);e!==void 0&&o!=null&&m(e,["parameters","mode"],o);const s=d(t,["maxPredictions"]);e!==void 0&&s!=null&&m(e,["parameters","maxPredictions"],s);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const u=d(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const p=d(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function mM(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["source"]);s!=null&&yM(s,n);const l=d(e,["config"]);return l!=null&&pM(l,n),n}function gM(t){const e={},n=d(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>GI(s))),m(e,["generatedMasks"],o)}return e}function yM(t,e){const n={},o=d(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const s=d(t,["image"]);e!==void 0&&s!=null&&m(e,["instances[0]","image"],_n(s));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],hM(l)),n}function vM(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],EI(n));const o=d(t,["retrievalConfig"]);return o!=null&&m(e,["retrievalConfig"],o),e}function _M(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const l=d(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],KI(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],YI(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function u_(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(E=>SI(E))),m(e,["functionDeclarations"],_)}const o=d(t,["retrieval"]);o!=null&&m(e,["retrieval"],o);const s=d(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],s);const l=d(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const y=d(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function EM(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const o=d(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=d(t,["updateTime"]);return s!=null&&m(e,["updateTime"],s),e}function SM(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const o=d(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=d(t,["updateTime"]);return s!=null&&m(e,["updateTime"],s),e}function TM(t,e){const n={},o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=d(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function wM(t,e){const n={},o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=d(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function AM(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","name"],Re(t,o));const s=d(e,["config"]);return s!=null&&TM(s,n),n}function CM(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["config"]);return s!=null&&wM(s,n),n}function bM(t,e){const n={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const h=d(t,["enhanceInputImage"]);e!==void 0&&h!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],h);const y=d(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const _=d(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const E=d(t,["numberOfImages"]);e!==void 0&&E!=null&&m(e,["parameters","sampleCount"],E);const T=d(t,["mode"]);return e!==void 0&&T!=null&&m(e,["parameters","mode"],T),n}function RM(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["_url","model"],Re(t,o));const s=d(e,["image"]);s!=null&&m(n,["instances[0]","image"],_n(s));const l=d(e,["upscaleFactor"]);l!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=d(e,["config"]);return u!=null&&bM(u,n),n}function xM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Nl(l))),m(e,["generatedImages"],s)}return e}function NM(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const o=d(t,["encodedVideo"]);o!=null&&m(e,["videoBytes"],Ci(o));const s=d(t,["encoding"]);return s!=null&&m(e,["mimeType"],s),e}function IM(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const o=d(t,["bytesBase64Encoded"]);o!=null&&m(e,["videoBytes"],Ci(o));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function MM(t){const e={},n=d(t,["image"]);n!=null&&m(e,["_self"],_n(n));const o=d(t,["maskMode"]);return o!=null&&m(e,["maskMode"],o),e}function DM(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Il(n));const o=d(t,["referenceType"]);return o!=null&&m(e,["referenceType"],o),e}function UM(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],_n(n));const o=d(t,["referenceType"]);return o!=null&&m(e,["referenceType"],o),e}function c_(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const o=d(t,["videoBytes"]);o!=null&&m(e,["encodedVideo"],Ci(o));const s=d(t,["mimeType"]);return s!=null&&m(e,["encoding"],s),e}function d_(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const o=d(t,["videoBytes"]);o!=null&&m(e,["bytesBase64Encoded"],Ci(o));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kM(t,e){const n={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&m(e,["displayName"],o),n}function OM(t){const e={},n=d(t,["config"]);return n!=null&&kM(n,e),e}function PM(t,e){const n={},o=d(t,["force"]);return e!==void 0&&o!=null&&m(e,["_query","force"],o),n}function LM(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const o=d(t,["config"]);return o!=null&&PM(o,e),e}function qM(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function HM(t,e){const n={},o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["customMetadata"],l)}const s=d(t,["chunkingConfig"]);return e!==void 0&&s!=null&&m(e,["chunkingConfig"],s),n}function BM(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const u=d(t,["response"]);return u!=null&&m(e,["response"],VM(u)),e}function GM(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const o=d(t,["fileName"]);o!=null&&m(e,["fileName"],o);const s=d(t,["config"]);return s!=null&&HM(s,e),e}function VM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["parent"]);o!=null&&m(e,["parent"],o);const s=d(t,["documentName"]);return s!=null&&m(e,["documentName"],s),e}function zM(t,e){const n={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function $M(t){const e={},n=d(t,["config"]);return n!=null&&zM(n,e),e}function FM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const s=d(t,["fileSearchStores"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["fileSearchStores"],l)}return e}function f_(t,e){const n={},o=d(t,["mimeType"]);e!==void 0&&o!=null&&m(e,["mimeType"],o);const s=d(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>p)),m(e,["customMetadata"],f)}const u=d(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),n}function JM(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const o=d(t,["config"]);return o!=null&&f_(o,e),e}function KM(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YM="Content-Type",XM="X-Server-Timeout",QM="User-Agent",Qd="x-goog-api-client",WM="1.34.0",ZM=`google-genai-sdk/${WM}`,jM="v1beta1",eD="v1beta";class tD{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:jM,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:eD,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const s=[this.getRequestUrlInternal(n)];return o&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))s.searchParams.append(u,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,s.toString(),e.abortSignal),this.unaryApiCall(s,l,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[s,l]of Object.entries(n))typeof l=="object"?o[s]=Object.assign(Object.assign({},o[s]),l):l!==void 0&&(o[s]=l);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,o);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,s.toString(),e.abortSignal),this.streamApiCall(s,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,s){if(n&&n.timeout||s){const l=new AbortController,u=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>l.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}s&&s.addEventListener("abort",()=>{l.abort()}),e.signal=u}return n&&n.extraBody!==null&&nD(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async s=>(await Hv(s),new Fd(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async s=>(await Hv(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return gn(this,arguments,function*(){var o;const s=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),l=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let u="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:y}=yield ce(s.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=l.decode(y,{stream:!0});try{const A=JSON.parse(_);if("error"in A){const b=JSON.parse(JSON.stringify(A.error)),C=b.status,R=b.code,k=`got status: ${C}. ${JSON.stringify(A)}`;if(R>=400&&R<600)throw new Rl({message:k,status:R})}}catch(A){if(A.name==="ApiError")throw A}u+=_;let E=-1,T=0;for(;;){E=-1,T=0;for(const C of p){const R=u.indexOf(C);R!==-1&&(E===-1||R<E)&&(E=R,T=C.length)}if(E===-1)break;const A=u.substring(0,E);u=u.substring(E+T);const b=A.trim();if(b.startsWith(f)){const C=b.substring(f.length).trim();try{const R=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ce(new Fd(R))}catch(R){throw new Error(`exception parsing stream chunk ${C}. ${R}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=ZM+" "+this.clientOptions.userAgentExtra;return e[QM]=n,e[Qd]=n,e[YM]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[s,l]of Object.entries(e.headers))o.append(s,l);e.timeout&&e.timeout>0&&o.append(XM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);s.sizeBytes=String(u.size);const f=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=f;const p={file:s},h=this.getFileName(e),y=j("upload/v1beta/files",p._url),_=await this.fetchUploadUrl(y,s.sizeBytes,s.mimeType,h,p,n==null?void 0:n.httpOptions);return l.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,o){var s;const l=this.clientOptions.uploader,u=await l.stat(n),f=String(u.size),p=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(n),_={};o!=null&&f_(o,_);const E=await this.fetchUploadUrl(h,f,p,y,_,o==null?void 0:o.httpOptions);return l.uploadToFileSearchStore(n,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,s,l,u){var f;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(f=h==null?void 0:h.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Hv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(o);throw n>=400&&n<600?new Rl({message:s,status:n}):new Error(s)}}function nD(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,u){const f=Object.assign({},l);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const h=u[p],y=f[p];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?f[p]=o(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),f[p]=h)}return f}const s=o(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iD="mcp_used/unknown";let oD=!1;function h_(t){for(const e of t)if(rD(e)||typeof e=="object"&&"inputSchema"in e)return!0;return oD}function p_(t){var e;const n=(e=t[Qd])!==null&&e!==void 0?e:"";t[Qd]=(n+` ${iD}`).trimStart()}function rD(t){return t!==null&&typeof t=="object"&&t instanceof xf}function sD(t){return gn(this,arguments,function*(n,o=100){let s,l=0;for(;l<o;){const u=yield ce(n.listTools({cursor:s}));for(const f of u.tools)yield yield ce(f),l++;if(!u.nextCursor)break;s=u.nextCursor}})}class xf{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new xf(e,n)}async initialize(){var e,n,o,s;if(this.mcpTools.length>0)return;const l={},u=[];for(const y of this.mcpClients)try{for(var f=!0,p=(n=void 0,yn(sD(y))),h;h=await p.next(),e=h.done,!e;f=!0){s=h.value,f=!1;const _=s;u.push(_);const E=_.name;if(l[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);l[E]=y}}catch(_){n={error:_}}finally{try{!f&&!e&&(o=p.return)&&await o.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),qR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await s.callTool({name:o.name,arguments:o.args},void 0,l);n.push({functionResponse:{name:o.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function aD(t,e,n){const o=new IR;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(o,s),e(o)}class lD{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=dD(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${s}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const y=new Promise(x=>{h=x}),_=e.callbacks,E=function(){h({})},T=this.apiClient,A={onopen:E,onmessage:x=>{aD(T,_.onmessage,x)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(x){}},b=this.webSocketFactory.create(p,cD(u),A);b.connect(),await y;const k={setup:{model:Re(this.apiClient,e.model)}};return b.send(JSON.stringify(k)),new uD(b,this.apiClient)}}class uD{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=ON(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=kN(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Wo.PLAY)}pause(){this.sendPlaybackControl(Wo.PAUSE)}stop(){this.sendPlaybackControl(Wo.STOP)}resetContext(){this.sendPlaybackControl(Wo.RESET_CONTEXT)}close(){this.conn.close()}}function cD(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function dD(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hD(t,e,n){const o=new NR;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const l=JSON.parse(s);if(t.isVertexAI()){const u=qN(l);Object.assign(o,u)}else Object.assign(o,l);e(o)}class pD{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new lD(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,s,l,u,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&h_(e.config.tools)&&p_(_);const E=vD(_);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,y);else{const Y=this.apiClient.getApiKey();let de="BidiGenerateContent",Me="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",Me="access_token"),y=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${de}?${Me}=${Y}`}let T=()=>{};const A=new Promise(Y=>{T=Y}),b=e.callbacks,C=function(){var Y;(Y=b==null?void 0:b.onopen)===null||Y===void 0||Y.call(b),T({})},R=this.apiClient,k={onopen:C,onmessage:Y=>{hD(R,b.onmessage,Y)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(Y){},onclose:(o=b==null?void 0:b.onclose)!==null&&o!==void 0?o:function(Y){}},x=this.webSocketFactory.create(y,yD(E),k);x.connect(),await A;let B=Re(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const Y=this.apiClient.getProject(),de=this.apiClient.getLocation();B=`projects/${Y}/locations/${de}/`+B}let K={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[pl.AUDIO]}:e.config.responseModalities=[pl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],F=[];for(const Y of X)if(this.isCallableTool(Y)){const de=Y;F.push(await de.tool())}else F.push(Y);F.length>0&&(e.config.tools=F);const ie={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?K=UN(this.apiClient,ie):K=DN(this.apiClient,ie),delete K.config,x.send(JSON.stringify(K)),new gD(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mD={turnComplete:!0};class gD{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=sn(n.turns),e.isVertexAI()||(o=o.map(s=>xl(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(fD)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},mD),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:LN(e)}:n={realtimeInput:PN(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function yD(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function vD(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bv=10;function Gv(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(tr(u)){s=!0;break}if(!s)return!0;const l=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function tr(t){return"callTool"in t&&typeof t.callTool=="function"}function _D(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>tr(s)))!==null&&o!==void 0?o:!1}function Vv(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,s)=>{if(tr(o))return;const l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(s)}),n}function zv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ED extends Xn{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,s,l,u,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!_D(n)||Gv(n.config))return await this.generateContentInternal(p);const h=Vv(n);if(h.length>0){const b=h.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let y,_;const E=sn(p.contents),T=(l=(s=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:Bv;let A=0;for(;A<T&&(y=await this.generateContentInternal(p),!(!y.functionCalls||y.functionCalls.length===0));){const b=y.candidates[0].content,C=[];for(const R of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(tr(R)){const x=await R.callTool(y.functionCalls);C.push(...x)}A++,_={role:"user",parts:C},p.contents=sn(p.contents),p.contents.push(b),p.contents.push(_),zv(p.config)&&(E.push(b),E.push(_))}return zv(p.config)&&(y.automaticFunctionCallingHistory=E),y},this.generateContentStream=async n=>{var o,s,l,u,f;if(this.maybeMoveToResponseJsonSchem(n),Gv(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const p=Vv(n);if(p.length>0){const _=p.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(l=(s=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,y=(f=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var s;let l;const u=[];if(o!=null&&o.generatedImages)for(const p of o.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((s=p==null?void 0:p.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:u.push(p);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:f={generatedImages:u,sdkHttpResponse:o.sdkHttpResponse},f}),this.list=async n=>{var o;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((o=u.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new ji(Kn.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var o,s,l,u,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,s;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const u=await Promise.all(l.map(async p=>tr(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&h_(e.config.tools)){const p=(s=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),p_(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var n,o,s;const l=new Map;for(const u of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(tr(u)){const f=u,p=await f.tool();for(const h of(s=p.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(l.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);l.set(h.name,f)}}return l}async processAfcStream(e){var n,o,s;const l=(s=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:Bv;let u=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(h,y,_){return gn(this,arguments,function*(){for(var E,T,A,b,C,R;f<l;){u&&(f++,u=!1);const K=yield ce(h.processParamsMaybeAddMcpUsage(_)),X=yield ce(h.generateContentStreamInternal(K)),F=[],ie=[];try{for(var k=!0,x=(T=void 0,yn(X)),B;B=yield ce(x.next()),E=B.done,!E;k=!0){b=B.value,k=!1;const Y=b;if(yield yield ce(Y),Y.candidates&&(!((C=Y.candidates[0])===null||C===void 0)&&C.content)){ie.push(Y.candidates[0].content);for(const de of(R=Y.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(f<l&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(de.functionCall.name)){const Me=yield ce(y.get(de.functionCall.name).callTool([de.functionCall]));F.push(...Me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(Y){T={error:Y}}finally{try{!k&&!E&&(A=x.return)&&(yield ce(A.call(x)))}finally{if(T)throw T.error}}if(F.length>0){u=!0;const Y=new ss;Y.candidates=[{content:{role:"user",parts:F}}],yield yield ce(Y);const de=[];de.push(...ie),de.push({role:"user",parts:F});const Me=sn(_.contents).concat(de);_.contents=Me}else break}})})(this,p,e)}async generateContentInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=Pv(this.apiClient,e);return f=j("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=qv(y),E=new ss;return Object.assign(E,_),E})}else{const h=Ov(this.apiClient,e);return f=j("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=Lv(y),E=new ss;return Object.assign(E,_),E})}}async generateContentStreamInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=Pv(this.apiClient,e);return f=j("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(_){return gn(this,arguments,function*(){var E,T,A,b;try{for(var C=!0,R=yn(_),k;k=yield ce(R.next()),E=k.done,!E;C=!0){b=k.value,C=!1;const x=b,B=qv(yield ce(x.json()));B.sdkHttpResponse={headers:x.headers};const K=new ss;Object.assign(K,B),yield yield ce(K)}}catch(x){T={error:x}}finally{try{!C&&!E&&(A=R.return)&&(yield ce(A.call(R)))}finally{if(T)throw T.error}}})})}else{const h=Ov(this.apiClient,e);return f=j("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(_){return gn(this,arguments,function*(){var E,T,A,b;try{for(var C=!0,R=yn(_),k;k=yield ce(R.next()),E=k.done,!E;C=!0){b=k.value,C=!1;const x=b,B=Lv(yield ce(x.json()));B.sdkHttpResponse={headers:x.headers};const K=new ss;Object.assign(K,B),yield yield ce(K)}}catch(x){T={error:x}}finally{try{!C&&!E&&(A=R.return)&&(yield ce(A.call(R)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=pI(this.apiClient,e);return f=j("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=gI(y),E=new vv;return Object.assign(E,_),E})}else{const h=hI(this.apiClient,e);return f=j("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=mI(y),E=new vv;return Object.assign(E,_),E})}}async generateImagesInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=RI(this.apiClient,e);return f=j("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=NI(y),E=new _v;return Object.assign(E,_),E})}else{const h=bI(this.apiClient,e);return f=j("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=xI(y),E=new _v;return Object.assign(E,_),E})}}async editImageInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const f=uI(this.apiClient,e);return l=j("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const h=cI(p),y=new vR;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const f=RM(this.apiClient,e);return l=j("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const h=xM(p),y=new _R;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const f=lM(this.apiClient,e);return l=j("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const h=uM(p),y=new ER;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const f=mM(this.apiClient,e);return l=j("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const h=gM(p),y=new SR;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=JI(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>Xd(y))}else{const h=FI(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>Yd(y))}}async listInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=tM(this.apiClient,e);return f=j("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=iM(y),E=new Ev;return Object.assign(E,_),E})}else{const h=eM(this.apiClient,e);return f=j("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=nM(y),E=new Ev;return Object.assign(E,_),E})}}async update(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=CM(this.apiClient,e);return f=j("{model}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>Xd(y))}else{const h=AM(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>Yd(y))}}async delete(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=rI(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=aI(y),E=new Sv;return Object.assign(E,_),E})}else{const h=oI(this.apiClient,e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=sI(y),E=new Sv;return Object.assign(E,_),E})}}async countTokens(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=tI(this.apiClient,e);return f=j("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=iI(y),E=new Tv;return Object.assign(E,_),E})}else{const h=eI(this.apiClient,e);return f=j("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=nI(y),E=new Tv;return Object.assign(E,_),E})}}async computeTokens(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const f=KN(this.apiClient,e);return l=j("{model}:computeTokens",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const h=YN(p),y=new TR;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=OI(this.apiClient,e);return f=j("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const _=UI(y),E=new ml;return Object.assign(E,_),E})}else{const h=kI(this.apiClient,e);return f=j("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const _=DI(y),E=new ml;return Object.assign(E,_),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SD extends Xn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=fR(e);return f=j("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u}else{const h=dR(e);return f=j("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u}}async fetchPredictVideosOperationInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const f=oR(e);return l=j("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TD(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function wD(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>DD(l))),m(e,["parts"],s)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function AD(t,e,n){const o={},s=d(e,["expireTime"]);n!==void 0&&s!=null&&m(n,["expireTime"],s);const l=d(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&m(n,["newSessionExpireTime"],l);const u=d(e,["uses"]);n!==void 0&&u!=null&&m(n,["uses"],u);const f=d(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&m(n,["bidiGenerateContentSetup"],MD(t,f));const p=d(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),o}function CD(t,e){const n={},o=d(e,["config"]);return o!=null&&m(n,["config"],AD(t,o,n)),n}function bD(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function RD(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xD(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function ND(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function ID(t,e){const n={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],o);const s=d(t,["responseModalities"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","responseModalities"],s);const l=d(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=d(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const y=d(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],Rf(_));const E=d(t,["thinkingConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","thinkingConfig"],E);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],wD(vt(A)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let X=lr(b);Array.isArray(X)&&(X=X.map(F=>kD(ar(F)))),m(e,["setup","tools"],X)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],UD(C));const R=d(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","inputAudioTranscription"],R);const k=d(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&m(e,["setup","outputAudioTranscription"],k);const x=d(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&m(e,["setup","realtimeInputConfig"],x);const B=d(t,["contextWindowCompression"]);e!==void 0&&B!=null&&m(e,["setup","contextWindowCompression"],B);const K=d(t,["proactivity"]);if(e!==void 0&&K!=null&&m(e,["setup","proactivity"],K),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function MD(t,e){const n={},o=d(e,["model"]);o!=null&&m(n,["setup","model"],Re(t,o));const s=d(e,["config"]);return s!=null&&m(n,["config"],ID(s,n)),n}function DD(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],bD(l));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],RD(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],TD(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&m(e,["videoMetadata"],E),e}function UD(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kD(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const l=d(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],xD(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],ND(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OD(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const s=Object.keys(o).map(l=>`${n}.${l}`);e.push(...s)}else e.push(n)}return e.join(",")}function PD(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const l=OD(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];s.length>0&&(f=s.map(h=>u.includes(h)?`generationConfig.${h}`:h));const p=[];l&&p.push(l),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class LD extends Xn{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=CD(this.apiClient,e);l=j("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const p=PD(f,e.config);return s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qD(t,e){const n={},o=d(t,["force"]);return e!==void 0&&o!=null&&m(e,["_query","force"],o),n}function HD(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const o=d(t,["config"]);return o!=null&&qD(o,e),e}function BD(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function GD(t,e){const n={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function VD(t){const e={},n=d(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const o=d(t,["config"]);return o!=null&&GD(o,e),e}function zD(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const s=d(t,["documents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $D extends Xn{constructor(e){super(),this.apiClient=e,this.list=async n=>new ji(Kn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=BD(e);return l=j("{name}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(e){var n,o;let s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HD(e);s=j("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=VD(e);return l=j("{parent}/documents",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const h=zD(p),y=new wR;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FD extends Xn{constructor(e,n=new $D(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new ji(Kn.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=OM(e);return l=j("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async get(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=qM(e);return l=j("{name}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(e){var n,o;let s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=LM(e);s=j("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=$M(e);return l=j("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const h=FM(p),y=new AR;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=JM(e);return l=j("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const h=KM(p),y=new CR;return Object.assign(y,h),y})}}async importFile(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=GM(e);return l=j("{file_search_store_name}:importFile",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const h=BM(p),y=new Tf;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let m_=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return m_=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const JD=()=>m_();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Zd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class an extends Error{}class Tt extends an{constructor(e,n,o,s){super(`${Tt.makeMessage(e,n,o)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,o){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,o,s){if(!e||!s)return new Ml({message:o,cause:Zd(n)});const l=n;return e===400?new y_(e,l,o,s):e===401?new v_(e,l,o,s):e===403?new __(e,l,o,s):e===404?new E_(e,l,o,s):e===409?new S_(e,l,o,s):e===422?new T_(e,l,o,s):e===429?new w_(e,l,o,s):e>=500?new A_(e,l,o,s):new Tt(e,l,o,s)}}class jd extends Tt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ml extends Tt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class g_ extends Ml{constructor({message:e}={}){super({message:e??"Request timed out."})}}class y_ extends Tt{}class v_ extends Tt{}class __ extends Tt{}class E_ extends Tt{}class S_ extends Tt{}class T_ extends Tt{}class w_ extends Tt{}class A_ extends Tt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KD=/^[a-z][a-z0-9+.-]*:/i,YD=t=>KD.test(t);let ef=t=>(ef=Array.isArray,ef(t));const XD=ef;let QD=XD;const $v=QD;function WD(t){if(!t)return!0;for(const e in t)return!1;return!0}function ZD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const jD=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new an(`${t} must be an integer`);if(e<0)throw new an(`${t} must be a positive integer`);return e},eU=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tU=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nU(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const iU=()=>{var t,e,n,o,s;const l=nU();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":Jv(Deno.build.os),"X-Stainless-Arch":Fv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":Jv((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Fv((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const u=oU();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function oU(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const s=o[1]||0,l=o[2]||0,u=o[3]||0;return{browser:e,version:`${s}.${l}.${u}`}}}return null}const Fv=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Jv=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ja;const rU=()=>ja??(ja=iU());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sU(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function C_(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function aU(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return C_({start(){},async pull(n){const{done:o,value:s}=await e.next();o?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function b_(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function lU(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),s=o.cancel();o.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uU=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R_=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function gd(t,e,n){return R_(),new File(t,e??"unknown_file",n)}function cU(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const dU=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x_=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",fU=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&x_(t),hU=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function pU(t,e,n){if(R_(),t=await t,fU(t))return t instanceof File?t:gd([await t.arrayBuffer()],t.name);if(hU(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),gd(await tf(s),e,n)}const o=await tf(t);if(e||(e=cU(t)),!(n!=null&&n.type)){const s=o.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return gd(o,e,n)}async function tf(t){var e,n,o,s,l;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(x_(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(dU(t))try{for(var f=!0,p=yn(t),h;h=await p.next(),e=h.done,!e;f=!0){s=h.value,f=!1;const y=s;u.push(...await tf(y))}}catch(y){n={error:y}}finally{try{!f&&!e&&(o=p.return)&&await o.call(p)}finally{if(n)throw n.error}}else{const y=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${mU(t)}`)}return u}function mU(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N_{constructor(e){this._client=e}}N_._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I_(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Kv=Object.freeze(Object.create(null)),gU=(t=I_)=>(function(n,...o){if(n.length===1)return n[0];let s=!1;const l=[],u=n.reduce((y,_,E)=>{var T,A,b;/[?#]/.test(_)&&(s=!0);const C=o[E];let R=(s?encodeURIComponent:t)(""+C);return E!==o.length&&(C==null||typeof C=="object"&&C.toString===((b=Object.getPrototypeOf((A=Object.getPrototypeOf((T=C.hasOwnProperty)!==null&&T!==void 0?T:Kv))!==null&&A!==void 0?A:Kv))===null||b===void 0?void 0:b.toString))&&(R=C+"",l.push({start:y.length+_.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),y+_+(E===o.length?"":R)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(f))!==null;)l.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(l.sort((y,_)=>y.start-_.start),l.length>0){let y=0;const _=l.reduce((E,T)=>{const A=" ".repeat(T.start-y),b="^".repeat(T.length);return y=T.start+T.length,E+A+b},"");throw new an(`Path parameters result in path with invalid segments:
${l.map(E=>E.error).join(`
`)}
${u}
${_}`)}return u}),el=gU(I_);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M_ extends N_{create(e,n){var o;const{api_version:s=this._client.apiVersion}=e,l=yl(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new an("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new an("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(el`/${s}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(el`/${s}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(el`/${s}/interactions/${e}/cancel`,o)}get(e,n={},o){var s;const l=n??{},{api_version:u=this._client.apiVersion}=l,f=yl(l,["api_version"]);return this._client.get(el`/${u}/interactions/${e}`,Object.assign(Object.assign({query:f},o),{stream:(s=n==null?void 0:n.stream)!==null&&s!==void 0?s:!1}))}}M_._key=Object.freeze(["interactions"]);class D_ extends M_{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yU(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let o=0;for(const s of t)n.set(s,o),o+=s.length;return n}let tl;function Nf(t){let e;return(tl??(e=new globalThis.TextEncoder,tl=e.encode.bind(e)))(t)}let nl;function Yv(t){let e;return(nl??(e=new globalThis.TextDecoder,nl=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Nf(e):e;this.buffer=yU([this.buffer,n]);const o=[];let s;for(;(s=vU(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){o.push(Yv(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,u=Yv(this.buffer.subarray(0,l));o.push(u),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Dl.NEWLINE_CHARS=new Set([`
`,"\r"]);Dl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function vU(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function _U(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vl={off:0,error:200,warn:300,info:400,debug:500},Xv=(t,e,n)=>{if(t){if(ZD(vl,t))return t;St(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(vl))}`)}};function fs(){}function il(t,e,n){return!e||vl[t]>vl[n]?fs:e[t].bind(e)}const EU={error:fs,warn:fs,info:fs,debug:fs};let Qv=new WeakMap;function St(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return EU;const s=Qv.get(n);if(s&&s[0]===o)return s[1];const l={error:il("error",n,o),warn:il("warn",n,o),info:il("info",n,o),debug:il("debug",n,o)};return Qv.set(n,[o,l]),l}const Yi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zo{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let s=!1;const l=o?St(o):console;function u(){return gn(this,arguments,function*(){var p,h,y,_;if(s)throw new an("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let E=!1;try{try{for(var T=!0,A=yn(SU(e,n)),b;b=yield ce(A.next()),p=b.done,!p;T=!0){_=b.value,T=!1;const C=_;if(!E)if(C.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ce(JSON.parse(C.data))}catch(R){throw l.error("Could not parse message into JSON:",C.data),l.error("From chunk:",C.raw),R}}}catch(C){h={error:C}}finally{try{!T&&!p&&(y=A.return)&&(yield ce(y.call(A)))}finally{if(h)throw h.error}}E=!0}catch(C){if(Wd(C))return yield ce(void 0);throw C}finally{E||n.abort()}})}return new Zo(u,n,o)}static fromReadableStream(e,n,o){let s=!1;function l(){return gn(this,arguments,function*(){var p,h,y,_;const E=new Dl,T=b_(e);try{for(var A=!0,b=yn(T),C;C=yield ce(b.next()),p=C.done,!p;A=!0){_=C.value,A=!1;const R=_;for(const k of E.decode(R))yield yield ce(k)}}catch(R){h={error:R}}finally{try{!A&&!p&&(y=b.return)&&(yield ce(y.call(b)))}finally{if(h)throw h.error}}for(const R of E.flush())yield yield ce(R)})}function u(){return gn(this,arguments,function*(){var p,h,y,_;if(s)throw new an("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let E=!1;try{try{for(var T=!0,A=yn(l()),b;b=yield ce(A.next()),p=b.done,!p;T=!0){_=b.value,T=!1;const C=_;E||C&&(yield yield ce(JSON.parse(C)))}}catch(C){h={error:C}}finally{try{!T&&!p&&(y=A.return)&&(yield ce(y.call(A)))}finally{if(h)throw h.error}}E=!0}catch(C){if(Wd(C))return yield ce(void 0);throw C}finally{E||n.abort()}})}return new Zo(u,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),s=l=>({next:()=>{if(l.length===0){const u=o.next();e.push(u),n.push(u)}return l.shift()}});return[new Zo(()=>s(e),this.controller,this.client),new Zo(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return C_({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:s,done:l}=await n.next();if(l)return o.close();const u=Nf(JSON.stringify(s)+`
`);o.enqueue(u)}catch(s){o.error(s)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function SU(t,e){return gn(this,arguments,function*(){var o,s,l,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new an("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new an("Attempted to iterate over a response with no body");const f=new wU,p=new Dl,h=b_(t.body);try{for(var y=!0,_=yn(TU(h)),E;E=yield ce(_.next()),o=E.done,!o;y=!0){u=E.value,y=!1;const T=u;for(const A of p.decode(T)){const b=f.decode(A);b&&(yield yield ce(b))}}}catch(T){s={error:T}}finally{try{!y&&!o&&(l=_.return)&&(yield ce(l.call(_)))}finally{if(s)throw s.error}}for(const T of p.flush()){const A=f.decode(T);A&&(yield yield ce(A))}})}function TU(t){return gn(this,arguments,function*(){var n,o,s,l;let u=new Uint8Array;try{for(var f=!0,p=yn(t),h;h=yield ce(p.next()),n=h.done,!n;f=!0){l=h.value,f=!1;const y=l;if(y==null)continue;const _=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Nf(y):y;let E=new Uint8Array(u.length+_.length);E.set(u),E.set(_,u.length),u=E;let T;for(;(T=_U(u))!==-1;)yield yield ce(u.slice(0,T)),u=u.slice(T)}}catch(y){o={error:y}}finally{try{!f&&!n&&(s=p.return)&&(yield ce(s.call(p)))}finally{if(o)throw o.error}}u.length>0&&(yield yield ce(u))})}class wU{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,s]=AU(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function AU(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function CU(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:s,startTime:l}=e,u=await(async()=>{var f;if(e.options.stream)return St(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Zo.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),h=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return St(t).debug(`[${o}] response parsed`,Yi({retryOfRequestLogID:s,url:n.url,status:n.status,body:u,durationMs:Date.now()-l})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class If extends Promise{constructor(e,n,o=CU){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new If(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U_=Symbol("brand.privateNullableHeaders");function*bU(t){if(!t)return;if(U_ in t){const{values:o,nulls:s}=t;yield*o.entries();for(const l of s)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():$v(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const s=o[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const l=$v(o[1])?o[1]:[o[1]];let u=!1;for(const f of l)f!==void 0&&(e&&!u&&(u=!0,yield[s,null]),yield[s,f])}}const as=t=>{const e=new Headers,n=new Set;for(const o of t){const s=new Set;for(const[l,u]of bU(o)){const f=l.toLowerCase();s.has(f)||(e.delete(l),s.add(f)),u===null?(e.delete(l),n.add(f)):(e.append(l,u),n.delete(f))}}return{[U_]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yd=t=>{var e,n,o,s,l,u;if(typeof globalThis.process<"u")return(o=(n=(e=Zb)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||l===void 0?void 0:l.call(s,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var k_;class Ul{constructor(e){var n,o,s,l,u,f,p,{baseURL:h=yd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=yd("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:_="v1beta"}=e,E=yl(e,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:y,apiVersion:_},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(o=T.timeout)!==null&&o!==void 0?o:Ul.DEFAULT_TIMEOUT,this.logger=(s=T.logger)!==null&&s!==void 0?s:console;const A="warn";this.logLevel=A,this.logLevel=(u=(l=Xv(T.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Xv(yd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:A,this.fetchOptions=T.fetchOptions,this.maxRetries=(f=T.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=T.fetch)!==null&&p!==void 0?p:sU(),this.encoder=uU,this._options=T,this.apiKey=y,this.apiVersion=_,this.clientAdapter=T.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=as([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return as([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return as([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new an(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Xo}`}defaultIdempotencyKey(){return`stainless-node-retry-${JD()}`}makeStatusError(e,n,o,s){return Tt.generate(e,n,o,s)}buildURL(e,n,o){const s=!this.baseURLOverridden()&&o||this.baseURL,l=YD(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return WD(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new If(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var s,l,u;const f=await e,p=(s=f.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:h,url:y,timeout:_}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(h,{url:y,options:f});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=o===void 0?"":`, retryOf: ${o}`,A=Date.now();if(St(this).debug(`[${E}] sending request`,Yi({retryOfRequestLogID:o,method:f.method,url:y,options:f,headers:h.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new jd;const b=new AbortController,C=await this.fetchWithTimeout(y,h,_,b).catch(Zd),R=Date.now();if(C instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((u=f.signal)===null||u===void 0)&&u.aborted)throw new jd;const B=Wd(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return St(this).info(`[${E}] connection ${B?"timed out":"failed"} - ${x}`),St(this).debug(`[${E}] connection ${B?"timed out":"failed"} (${x})`,Yi({retryOfRequestLogID:o,url:y,durationMs:R-A,message:C.message})),this.retryRequest(f,n,o??E);throw St(this).info(`[${E}] connection ${B?"timed out":"failed"} - error; no more retries left`),St(this).debug(`[${E}] connection ${B?"timed out":"failed"} (error; no more retries left)`,Yi({retryOfRequestLogID:o,url:y,durationMs:R-A,message:C.message})),B?new g_:new Ml({cause:C})}const k=`[${E}${T}] ${h.method} ${y} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${R-A}ms`;if(!C.ok){const x=await this.shouldRetry(C);if(n&&x){const Y=`retrying, ${n} attempts remaining`;return await lU(C.body),St(this).info(`${k} - ${Y}`),St(this).debug(`[${E}] response error (${Y})`,Yi({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:R-A})),this.retryRequest(f,n,o??E,C.headers)}const B=x?"error; no more retries left":"error; not retryable";St(this).info(`${k} - ${B}`);const K=await C.text().catch(Y=>Zd(Y).message),X=eU(K),F=X?void 0:K;throw St(this).debug(`[${E}] response error (${B})`,Yi({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,message:F,durationMs:Date.now()-A})),this.makeStatusError(C.status,X,F,C.headers)}return St(this).info(k),St(this).debug(`[${E}] response start`,Yi({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:R-A})),{response:C,options:f,controller:b,requestLogID:E,retryOfRequestLogID:o,startTime:A}}async fetchWithTimeout(e,n,o,s){const l=n||{},{signal:u,method:f}=l,p=yl(l,["signal","method"]);u&&u.addEventListener("abort",()=>s.abort());const h=setTimeout(()=>s.abort(),o),y=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,_=Object.assign(Object.assign(Object.assign({signal:s.signal},y?{duplex:"half"}:{}),{method:"GET"}),p);f&&(_.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,s){var l;let u;const f=s==null?void 0:s.get("retry-after-ms");if(f){const h=parseFloat(f);Number.isNaN(h)||(u=h)}const p=s==null?void 0:s.get("retry-after");if(p&&!u){const h=parseFloat(p);Number.isNaN(h)?u=Date.parse(p)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,h)}return await tU(u),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,u=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,s,l;const u=Object.assign({},e),{method:f,path:p,query:h,defaultBaseURL:y}=u,_=this.buildURL(p,h,y);"timeout"in u&&jD("timeout",u.timeout),u.timeout=(o=u.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:E,body:T}=this.buildBody({options:u}),A=await this.buildHeaders({options:e,method:f,bodyHeaders:E,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:A},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:_,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:s}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let f=as([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),rU()),this._options.defaultHeaders,o,e.headers,u]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=as([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:aU(e)}:this.encoder({body:e,headers:o})}}Ul.DEFAULT_TIMEOUT=6e4;class ut extends Ul{constructor(){super(...arguments),this.interactions=new D_(this)}}k_=ut;ut.GeminiNextGenAPIClient=k_;ut.GeminiNextGenAPIClientError=an;ut.APIError=Tt;ut.APIConnectionError=Ml;ut.APIConnectionTimeoutError=g_;ut.APIUserAbortError=jd;ut.NotFoundError=E_;ut.ConflictError=S_;ut.RateLimitError=w_;ut.BadRequestError=y_;ut.AuthenticationError=v_;ut.InternalServerError=A_;ut.PermissionDeniedError=__;ut.UnprocessableEntityError=T_;ut.toFile=pU;ut.Interactions=D_;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RU(t,e){const n={},o=d(t,["name"]);return o!=null&&m(n,["_url","name"],o),n}function xU(t,e){const n={},o=d(t,["name"]);return o!=null&&m(n,["_url","name"],o),n}function NU(t,e){const n={},o=d(t,["sdkHttpResponse"]);return o!=null&&m(n,["sdkHttpResponse"],o),n}function IU(t,e){const n={},o=d(t,["sdkHttpResponse"]);return o!=null&&m(n,["sdkHttpResponse"],o),n}function MU(t,e,n){const o={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=d(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&m(e,["displayName"],s),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const u=d(t,["learningRateMultiplier"]);if(u!=null&&m(o,["tuningTask","hyperparameters","learningRateMultiplier"],u),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=d(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function DU(t,e,n){const o={};let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const T=d(t,["validationDataset"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec"],Wv(T))}else if(s==="PREFERENCE_TUNING"){const T=d(t,["validationDataset"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec"],Wv(T))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const u=d(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=d(t,["epochCount"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(f==="PREFERENCE_TUNING"){const T=d(t,["epochCount"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let p=d(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const T=d(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(p==="PREFERENCE_TUNING"){const T=d(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let h=d(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=d(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(h==="PREFERENCE_TUNING"){const T=d(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let y=d(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const T=d(t,["adapterSize"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(y==="PREFERENCE_TUNING"){const T=d(t,["adapterSize"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=d(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const E=d(t,["beta"]);return e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),o}function UU(t,e){const n={},o=d(t,["baseModel"]);o!=null&&m(n,["baseModel"],o);const s=d(t,["preTunedModel"]);s!=null&&m(n,["preTunedModel"],s);const l=d(t,["trainingDataset"]);l!=null&&$U(l);const u=d(t,["config"]);return u!=null&&MU(u,n),n}function kU(t,e){const n={},o=d(t,["baseModel"]);o!=null&&m(n,["baseModel"],o);const s=d(t,["preTunedModel"]);s!=null&&m(n,["preTunedModel"],s);const l=d(t,["trainingDataset"]);l!=null&&FU(l,n,e);const u=d(t,["config"]);return u!=null&&DU(u,n,e),n}function OU(t,e){const n={},o=d(t,["name"]);return o!=null&&m(n,["_url","name"],o),n}function PU(t,e){const n={},o=d(t,["name"]);return o!=null&&m(n,["_url","name"],o),n}function LU(t,e,n){const o={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=d(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),o}function qU(t,e,n){const o={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=d(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),o}function HU(t,e){const n={},o=d(t,["config"]);return o!=null&&LU(o,n),n}function BU(t,e){const n={},o=d(t,["config"]);return o!=null&&qU(o,n),n}function GU(t,e){const n={},o=d(t,["sdkHttpResponse"]);o!=null&&m(n,["sdkHttpResponse"],o);const s=d(t,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>O_(f))),m(n,["tuningJobs"],u)}return n}function VU(t,e){const n={},o=d(t,["sdkHttpResponse"]);o!=null&&m(n,["sdkHttpResponse"],o);const s=d(t,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>nf(f))),m(n,["tuningJobs"],u)}return n}function zU(t,e){const n={},o=d(t,["name"]);o!=null&&m(n,["model"],o);const s=d(t,["name"]);return s!=null&&m(n,["endpoint"],s),n}function $U(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=d(t,["examples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(n,["examples","examples"],s)}return n}function FU(t,e,n){const o={};let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const u=d(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(s==="PREFERENCE_TUNING"){const u=d(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=d(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=d(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function O_(t,e){const n={},o=d(t,["sdkHttpResponse"]);o!=null&&m(n,["sdkHttpResponse"],o);const s=d(t,["name"]);s!=null&&m(n,["name"],s);const l=d(t,["state"]);l!=null&&m(n,["state"],W0(l));const u=d(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=d(t,["tuningTask","startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(t,["description"]);y!=null&&m(n,["description"],y);const _=d(t,["baseModel"]);_!=null&&m(n,["baseModel"],_);const E=d(t,["_self"]);return E!=null&&m(n,["tunedModel"],zU(E)),n}function nf(t,e){const n={},o=d(t,["sdkHttpResponse"]);o!=null&&m(n,["sdkHttpResponse"],o);const s=d(t,["name"]);s!=null&&m(n,["name"],s);const l=d(t,["state"]);l!=null&&m(n,["state"],W0(l));const u=d(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=d(t,["startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(t,["error"]);y!=null&&m(n,["error"],y);const _=d(t,["description"]);_!=null&&m(n,["description"],_);const E=d(t,["baseModel"]);E!=null&&m(n,["baseModel"],E);const T=d(t,["tunedModel"]);T!=null&&m(n,["tunedModel"],T);const A=d(t,["preTunedModel"]);A!=null&&m(n,["preTunedModel"],A);const b=d(t,["supervisedTuningSpec"]);b!=null&&m(n,["supervisedTuningSpec"],b);const C=d(t,["preferenceOptimizationSpec"]);C!=null&&m(n,["preferenceOptimizationSpec"],C);const R=d(t,["tuningDataStats"]);R!=null&&m(n,["tuningDataStats"],R);const k=d(t,["encryptionSpec"]);k!=null&&m(n,["encryptionSpec"],k);const x=d(t,["partnerModelTuningSpec"]);x!=null&&m(n,["partnerModelTuningSpec"],x);const B=d(t,["customBaseModel"]);B!=null&&m(n,["customBaseModel"],B);const K=d(t,["experiment"]);K!=null&&m(n,["experiment"],K);const X=d(t,["labels"]);X!=null&&m(n,["labels"],X);const F=d(t,["outputUri"]);F!=null&&m(n,["outputUri"],F);const ie=d(t,["pipelineJob"]);ie!=null&&m(n,["pipelineJob"],ie);const Y=d(t,["serviceAccount"]);Y!=null&&m(n,["serviceAccount"],Y);const de=d(t,["tunedModelDisplayName"]);de!=null&&m(n,["tunedModelDisplayName"],de);const Me=d(t,["veoTuningSpec"]);return Me!=null&&m(n,["veoTuningSpec"],Me),n}function JU(t,e){const n={},o=d(t,["sdkHttpResponse"]);o!=null&&m(n,["sdkHttpResponse"],o);const s=d(t,["name"]);s!=null&&m(n,["name"],s);const l=d(t,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(t,["done"]);u!=null&&m(n,["done"],u);const f=d(t,["error"]);return f!=null&&m(n,["error"],f),n}function Wv(t,e){const n={},o=d(t,["gcsUri"]);o!=null&&m(n,["validationDatasetUri"],o);const s=d(t,["vertexDatasetResource"]);return s!=null&&m(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KU extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ji(Kn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:s});return l.baseModel=void 0,await this.tuneInternal(l)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),l=await this.tuneMldevInternal(s);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:$d.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=PU(e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>nf(y))}else{const h=OU(e);return f=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>O_(y))}}async listInternal(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=BU(e);return f=j("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=VU(y),E=new wv;return Object.assign(E,_),E})}else{const h=HU(e);return f=j("tunedModels",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=GU(y),E=new wv;return Object.assign(E,_),E})}}async cancel(e){var n,o,s,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=xU(e);return f=j("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=IU(y),E=new Av;return Object.assign(E,_),E})}else{const h=RU(e);return f=j("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const _=NU(y),E=new Av;return Object.assign(E,_),E})}}async tuneInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const f=kU(e,e);return l=j("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>nf(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=UU(e);return l=j("tunedModels",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>JU(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YU{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const XU=1024*1024*8,QU=3,WU=1e3,ZU=2,_l="x-goog-upload-status";async function jU(t,e,n){var o;const s=await P_(t,e,n),l=await(s==null?void 0:s.json());if(((o=s==null?void 0:s.headers)===null||o===void 0?void 0:o[_l])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function e1(t,e,n){var o;const s=await P_(t,e,n),l=await(s==null?void 0:s.json());if(((o=s==null?void 0:s.headers)===null||o===void 0?void 0:o[_l])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=F0(l),f=new wf;return Object.assign(f,u),f}async function P_(t,e,n){var o,s;let l=0,u=0,f=new Fd(new Response),p="upload";for(l=t.size;u<l;){const h=Math.min(XU,l-u),y=t.slice(u,u+h);u+h>=l&&(p+=", finalize");let _=0,E=WU;for(;_<QU&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((o=f==null?void 0:f.headers)===null||o===void 0)&&o[_l]));)_++,await n1(E),E=E*ZU;if(u+=h,((s=f==null?void 0:f.headers)===null||s===void 0?void 0:s[_l])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function t1(t){return{size:t.size,type:t.type}}function n1(t){return new Promise(e=>setTimeout(e,t))}class i1{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jU(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await e1(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await t1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o1{create(e,n,o){return new r1(e,n,o)}}class r1{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zv="x-goog-api-key";class s1{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Zv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Zv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a1="gl-node/";class Ts{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ut({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=nR(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new s1(this.apiKey);this.apiClient=new tD({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:a1+"web",uploader:new i1,downloader:new YU}),this.models=new ED(this.apiClient),this.live=new pD(this.apiClient,s,new o1),this.batches=new Mx(this.apiClient),this.chats=new fN(this.models,this.apiClient),this.caches=new uN(this.apiClient),this.files=new TN(this.apiClient),this.operations=new SD(this.apiClient),this.authTokens=new LD(this.apiClient),this.tunings=new KU(this.apiClient),this.fileSearchStores=new FD(this.apiClient)}}let L_=null;const jv=t=>{L_=t},ws=()=>L_||void 0||"",rn=t=>{if(t==null)return null;if(Array.isArray(t))return t.length>0?rn(t[0]):null;if(typeof t=="object"&&Object.keys(t).length===1){const e=Object.values(t)[0];if(Array.isArray(e))return rn(e)}return t},As=t=>{var o,s;if(!t)return"Usurio";if(typeof t=="string"&&t!=="[object Object]")return t;const e=rn(t);if(!e)return"Usurio";const n=e.nome||e.nome_artistico||e.nome_fantasia||e.full_name||(e.usuarios?Array.isArray(e.usuarios)?(o=e.usuarios[0])==null?void 0:o.nome:e.usuarios.nome:null)||((s=e.email)==null?void 0:s.split("@")[0]);return typeof n=="string"&&n!=="[object Object]"?n:"Usurio"},$n=t=>{var n,o;if(!t)return t;const e={...t,nome:As(t),artista:rn(t.artista),estabelecimento:rn(t.estabelecimento)};return e.nome==="Usurio"&&((n=e.artista)!=null&&n.nome_artistico?e.nome=e.artista.nome_artistico:(o=e.estabelecimento)!=null&&o.nome_fantasia&&(e.nome=e.estabelecimento.nome_fantasia)),e},ls=t=>{if(!t)return t;const e=rn(t.artistas),n=rn(t.estabelecimentos);return{...t,artistas:e?{...e,usuarios:e.usuarios?{...rn(e.usuarios),nome:As(e.usuarios)}:null}:null,estabelecimentos:n?{...n,usuarios:n.usuarios?{...rn(n.usuarios),nome:As(n.usuarios)}:null}:null}},l1={getPublicUrl(t,e){const{data:n}=Q.storage.from(t).getPublicUrl(e);return n.publicUrl},async getSignedUrls(t,e,n=3600){const{data:o,error:s}=await Q.storage.from(t).createSignedUrls(e,n);if(s)throw s;return(o||[]).map(l=>l.signedUrl)},async upload(t,e,n){const{data:o,error:s}=await Q.storage.from(t).upload(e,n,{upsert:!0});if(s)throw s;return o.path},async remove(t,e){const{error:n}=await Q.storage.from(t).remove(e);if(n)throw n},async list(t,e){const{data:n,error:o}=await Q.storage.from(t).list(e);if(o)throw o;return n||[]}},Vk={async getConsolidatedAgenda(t,e,n,o){const{data:s,error:l}=await Q.from("agenda_eventos").select("*").eq("artista_id",t);if(l)throw l;const{data:u,error:f}=await Q.from("contratos").select("id, data_evento, status, estabelecimentos(usuarios(nome))").eq("artista_id",t).in("status",["enviado","assinado","concluido"]);if(f)throw f;return[...(s||[]).map(h=>({id:h.id,date:h.data_inicio.split("T")[0],title:h.titulo,type:"manual_block"})),...(u||[]).map(h=>{const y=rn(h.estabelecimentos);return{id:h.id,date:h.data_evento.split("T")[0],title:`Show: ${As(y)}`,type:h.status==="concluido"||h.status==="assinado"?"contract_confirmed":"contract_pending"}})]},async createBlock(t){const{error:e}=await Q.from("agenda_eventos").insert(t);if(e)throw e},async deleteBlock(t){const{error:e}=await Q.from("agenda_eventos").delete().eq("id",t);if(e)throw e}},El=async(t,e,n)=>{try{const{data:{user:o}}=await Q.auth.getUser();await Q.from("logs_integracao_ia").insert({usuario_id:o==null?void 0:o.id,servico:t,tipo_erro:e.message==="EXTERNAL_CORS_RISK"?"CORS":e.message==="CORS_OR_NETWORK_ERROR"?"NETWORK":"GENERAL",mensagem_erro:bl(e),payload_input:n})}catch(o){console.warn("Falha ao registrar log de erro de IA:",o)}},zk={async getMatchesForVenue(t){const{data:e,error:n}=await Q.from("usuarios").select("*, artist:artistas!inner(*)").eq("tipo","artista").eq("is_suspended",!1).ilike("cidade",`%${t.cidade||""}%`).order("plano",{ascending:!1}).order("nota_media",{ascending:!1,nullsFirst:!1}).limit(12);if(n)throw n;return(e||[]).map(o=>$n(o))},async getJustification(t,e){var o,s;const n=new Ts({apiKey:ws()});try{const l=((o=t.estabelecimento)==null?void 0:o.descricao)||"Um local de msica ao vivo.",u=((s=e.artista)==null?void 0:s.descricao)||"Um msico talentoso.",f=`Analise o "match" entre este estabelecimento e este artista.
            Local: ${t.nome} (${l})
            Artista: ${e.nome} (${u})
            Retorne um JSON com a chave "justification" contendo uma nica frase (mx 150 caracteres) em Portugus do Brasil explicando por que eles combinam para um show.`,p=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{text:f}]},config:{responseMimeType:"application/json",responseSchema:{type:Ae.OBJECT,properties:{justification:{type:Ae.STRING}}}}});return JSON.parse(p.text||"{}").justification||"Uma combinao perfeita para o seu palco."}catch(l){return console.error("Matchmaking AI Error:",l),"Artista com grande potencial para o seu estabelecimento."}}},$k={async analyzeComment(t){const e=new Ts({apiKey:ws()});try{const n=await e.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{text:`Analise o comentrio para moderao: "${t}".`}]},config:{responseMimeType:"application/json",responseSchema:{type:Ae.OBJECT,properties:{score:{type:Ae.NUMBER},isToxic:{type:Ae.BOOLEAN},category:{type:Ae.STRING},reason:{type:Ae.STRING}}}}});return JSON.parse(n.text||"{}")}catch(n){return await El("comment_moderation",n,{text:t.substring(0,50)}),{score:0,isToxic:!1,category:"No analisado",reason:"Erro na conexo com IA."}}},async analyzeImage(t){const e=new Ts({apiKey:ws()});try{if(!(t.includes(window.location.hostname)||t.includes("supabase.co")))throw new Error("EXTERNAL_CORS_RISK");const s=await(await fetch(t).catch(()=>{throw new Error("CORS_OR_NETWORK_ERROR")})).blob(),l=await new Promise(f=>{const p=new FileReader;p.onloadend=()=>f(p.result.split(",")[1]),p.readAsDataURL(s)}),u=await e.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:"Analise violaes de contedo: Nudez, Violncia, dio. Retorne JSON."},{inlineData:{mimeType:s.type||"image/jpeg",data:l}}]},config:{responseMimeType:"application/json",responseSchema:{type:Ae.OBJECT,properties:{isSafe:{type:Ae.BOOLEAN},category:{type:Ae.STRING},reason:{type:Ae.STRING}}}}});return JSON.parse(u.text||"{}")}catch(n){return await El("image_moderation",n,{url:t}),{isSafe:!0,category:"No analisado",reason:n.message==="EXTERNAL_CORS_RISK"?"URL externa protegida.":"Falha tcnica na anlise visual."}}}},Fk={async analyzeProposal(t,e=""){const n=new Ts({apiKey:ws()});try{const o=`Voc  um mediador snior da RESONNA.
            Analise: Valor R$ ${t.valor||0}, Data: ${t.data_evento}.
            Dvida: "${e}"
            
            Obrigatrio retornar no campo "mood" apenas um destes: "Amigvel", "Profissional", "Tenso" ou "Cauteloso".`,s=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{text:o}]},config:{responseMimeType:"application/json",responseSchema:{type:Ae.OBJECT,properties:{verdict:{type:Ae.STRING},risks:{type:Ae.ARRAY,items:{type:Ae.STRING}},suggestions:{type:Ae.ARRAY,items:{type:Ae.STRING}},mood:{type:Ae.STRING,description:"Estado emocional da negociao: Amigvel, Profissional, Tenso ou Cauteloso"}},required:["verdict","risks","suggestions","mood"]}}});return JSON.parse(s.text||"{}")}catch(o){return await El("negotiation",o,{contractId:t.id}),{verdict:"Servio temporariamente indisponvel.",risks:[],suggestions:[],mood:"Profissional"}}},async saveLog(t){await Q.from("historico_negociacao").insert(t)}},Jk={async analyzeAudio(t,e,n){const o=new Ts({apiKey:ws()});try{const l=await(await fetch(n).catch(()=>{throw new Error("CORS_OR_NETWORK_ERROR")})).blob(),u=await new Promise(_=>{const E=new FileReader;E.onloadend=()=>_(E.result.split(",")[1]),E.readAsDataURL(l)}),f=await o.models.generateContent({model:"gemini-2.5-flash-native-audio-preview-09-2025",contents:{parts:[{inlineData:{mimeType:l.type||"audio/mpeg",data:u}},{text:"Analise este udio de portflio musical. Retorne JSON estrito com campos: genero_sugerido, qualidade_tecnica, timbre_vocal, energia (0-100), sugestoes (array)."}]},config:{responseMimeType:"application/json",responseSchema:{type:Ae.OBJECT,properties:{genero_sugerido:{type:Ae.STRING},qualidade_tecnica:{type:Ae.STRING},timbre_vocal:{type:Ae.STRING},energia:{type:Ae.NUMBER},sugestoes:{type:Ae.ARRAY,items:{type:Ae.STRING}}},required:["genero_sugerido","qualidade_tecnica","timbre_vocal","energia","sugestoes"]}}}),p=JSON.parse(f.text||"{}"),{data:h,error:y}=await Q.from("analises_audio").insert({usuario_id:t,caminho_arquivo:e,resultado:p}).select().single();if(y)throw y;return h}catch(s){throw await El("audio_analysis",s,{audioPath:e}),new Error("No foi possvel analisar o udio: "+s.message)}}},Kk={async getBIStats(){const{data:t,error:e}=await Q.rpc("get_admin_financial_stats");if(e&&e.code!=="42883")throw e;const{count:n}=await Q.from("usuarios").select("*",{count:"exact",head:!0}).eq("is_suspended",!1),{count:o}=await Q.from("contratos").select("*",{count:"exact",head:!0}),s=t||[{mes:"2024-08",volume_total:15400,receita_plataforma:1540,contratos_count:22},{mes:"2024-07",volume_total:12100,receita_plataforma:1210,contratos_count:18}];return{totalRevenue:s.reduce((l,u)=>l+(Number(u.receita_plataforma)||0),0),totalGmv:s.reduce((l,u)=>l+(Number(u.volume_total)||0),0),activeUsers:n||0,conversionRate:o&&n?o/n*100:0,monthlyGrowth:15.4,financialData:s}},async fetchIaLogs(){const{data:t,error:e}=await Q.from("logs_integracao_ia").select("*").order("criado_em",{ascending:!1}).limit(100);if(e)throw e;return t||[]},async clearIaLogs(){const{error:t}=await Q.from("logs_integracao_ia").delete().neq("id","00000000-0000-0000-0000-000000000000");if(t)throw t}},u1={async checkSuspensionStatus(t){const{data:e}=await Q.from("usuarios").select("is_suspended").eq("id",t).single();return(e==null?void 0:e.is_suspended)||!1},async getFeatured(t,e){const{data:n,error:o}=await Q.from("usuarios").select(`*, ${t==="artista"?"artista:artistas(*)":"estabelecimento:estabelecimentos(*)"}`).eq("tipo",t).eq("is_suspended",!1).order("plano",{ascending:!1}).order("is_featured",{ascending:!1}).order("nota_media",{ascending:!1,nullsFirst:!1}).limit(e);if(o)throw o;return(n||[]).map(s=>$n(s))},async getArtists({search:t,city:e,genre:n,date:o,page:s,pageSize:l}){var _;const u=s*l;if(o){const{data:E,error:T}=await Q.rpc("get_available_artists",{p_date:o,p_search:t||"",p_city:e||"",p_genre:n||"",p_limit:l,p_offset:u});if(T)throw T;return{data:(E||[]).map(A=>$n({...A,artista:{genero_musical:A.genero_musical,descricao:A.descricao}})),count:((_=E==null?void 0:E[0])==null?void 0:_.total_count)||0}}let f=Q.from("usuarios").select("*, artista:artistas!inner(*)",{count:"exact"}).eq("tipo","artista").eq("is_suspended",!1);t&&(f=f.ilike("nome",`%${t}%`)),e&&(f=f.ilike("cidade",`%${e}%`)),n&&(f=f.ilike("artista.genero_musical",`%${n}%`));const{data:p,count:h,error:y}=await f.order("plano",{ascending:!1}).order("nota_media",{ascending:!1,nullsFirst:!1}).range(u,u+l-1);if(y)throw y;return{data:(p||[]).map(E=>$n(E)),count:h||0}},async getVenues({search:t,city:e,page:n,pageSize:o}){let s=Q.from("usuarios").select("*, estabelecimento:estabelecimentos!inner(*)",{count:"exact"}).eq("tipo","estabelecimento").eq("is_suspended",!1);t&&(s=s.ilike("nome",`%${t}%`)),e&&(s=s.ilike("cidade",`%${e}%`));const{data:l,count:u,error:f}=await s.order("plano",{ascending:!1}).order("nota_media",{ascending:!1,nullsFirst:!1}).range(n*o,(n+1)*o-1);if(f)throw f;return{data:(l||[]).map(p=>$n(p)),count:u||0}},async updateBasicInfo(t,e){await Q.from("usuarios").update(e).eq("id",t)},async updateArtist(t,e,n){e&&await Q.from("usuarios").update(e).eq("id",t),n&&await Q.from("artistas").update(n).eq("usuario_id",t)},async updateVenue(t,e,n){e&&await Q.from("usuarios").update(e).eq("id",t),n&&await Q.from("estabelecimentos").update(n).eq("usuario_id",t)},async search(t,e){const{data:n}=await Q.from("usuarios").select(`*, ${e==="artista"?"artista:artistas(*)":"estabelecimento:estabelecimentos(*)"}`).eq("tipo",e).eq("is_suspended",!1).ilike("nome",`%${t}%`).order("plano",{ascending:!1}).order("nota_media",{ascending:!1,nullsFirst:!1}).limit(10);return(n||[]).map(o=>$n(o))},async getProfileByAuthId(t){const{data:e}=await Q.from("usuarios").select("*, artista:artistas(*), estabelecimento:estabelecimentos(*)").eq("auth_id",t).maybeSingle();return $n(e)},async checkAndDowngradeExpiredPlan(t){return t.plano==="free"||!t.plano_expiracao?!1:new Date>new Date(t.plano_expiracao)?(await Q.from("historico_assinaturas").insert({usuario_id:t.id,plano_anterior:t.plano,plano_novo:"free",valor_pago:0,metodo_pagamento:"system_expiry"}),await Q.from("usuarios").update({plano:"free",plano_status:"expired",plano_expiracao:null}).eq("id",t.id),!0):!1},async updateUserPlan(t,e){const{data:n}=await Q.from("usuarios").select("plano").eq("id",t).single(),o=new Date;o.setDate(o.getDate()+30),await Q.from("usuarios").update({plano:e,plano_status:"active",plano_expiracao:e==="free"?null:o.toISOString()}).eq("id",t),await Q.from("historico_assinaturas").insert({usuario_id:t,plano_anterior:n==null?void 0:n.plano,plano_novo:e,valor_pago:e==="free"?0:e==="pro"?29.9:79.9,metodo_pagamento:"stripe_simulated"})},async getSubscriptionHistory(t){const{data:e}=await Q.from("historico_assinaturas").select("*").eq("usuario_id",t).order("data_mudanca",{ascending:!1});return e||[]},async submitKyc(t,e){await Q.from("usuarios").update({status_verificacao:"pendente",documento_url:e}).eq("id",t)},async listPendingKyc(){const{data:t}=await Q.from("usuarios").select("*").eq("status_verificacao","pendente");return t||[]},async approveKyc(t){await Q.from("usuarios").update({status_verificacao:"verificado",data_verificacao:new Date().toISOString()}).eq("id",t)},async rejectKyc(t,e){await Q.from("usuarios").update({status_verificacao:"rejeitado"}).eq("id",t)}},Yk={async listByProfile(t,e,n){const o=e==="artista"?"artista_id":"estabelecimento_id";let s=Q.from("contratos").select("*, artistas(usuario_id, usuarios(nome, cidade, foto_url, plano, status_verificacao)), estabelecimentos(usuario_id, usuarios(nome, cidade, foto_url, plano, status_verificacao))").eq(o,t).order("criado_em",{ascending:!1});n&&(s=s.eq("status",n));const{data:l}=await s;return(l||[]).map(u=>ls(u))},async getUpcomingPublicEvents(t){const e=new Date;e.setUTCHours(0,0,0,0);const{data:n}=await Q.from("contratos").select("id, data_evento, status, artistas(usuario_id, usuarios(id, nome, foto_url, plano, status_verificacao)), estabelecimentos(usuario_id, usuarios(id, nome, cidade, plano, status_verificacao))").in("status",["assinado","concluido"]).gte("data_evento",e.toISOString()).order("data_evento",{ascending:!0}).limit(t);return(n||[]).map(o=>ls(o))},async checkAvailability(t,e){const{data:n}=await Q.from("contratos").select("id").eq("artista_id",t).eq("data_evento",e).in("status",["assinado","concluido"]);return!n||n.length===0},async create(t){const{data:e,error:n}=await Q.from("contratos").insert(t).select().single();if(n)throw n;return e},async getById(t){const{data:e}=await Q.from("contratos").select("*, artistas(usuario_id, usuarios(id, nome, email, telefone, cidade, foto_url, plano, status_verificacao)), estabelecimentos(usuario_id, usuarios(id, nome, email, telefone, cidade, foto_url, plano, status_verificacao))").eq("id",t).single();return ls(e)},async sign(t,e){const n={};e==="artista"?(n.assinatura_artista=!0,n.data_assinatura_artista=new Date().toISOString()):(n.assinatura_estabelecimento=!0,n.data_assinatura_estabelecimento=new Date().toISOString());const{data:o}=await Q.from("contratos").update(n).eq("id",t).select("*, artistas(usuario_id, usuarios(id, nome, email, telefone, cidade, foto_url, plano, status_verificacao)), estabelecimentos(usuario_id, usuarios(id, nome, email, telefone, cidade, foto_url, plano, status_verificacao))").single();return ls(o)},async updateStatus(t,e){await Q.from("contratos").update({status:e}).eq("id",t)},async concludePayment(t){await Q.from("contratos").update({status:"concluido",data_pagamento:new Date().toISOString()}).eq("id",t)},async cancel(t,e,n,o){await Q.from("contratos").update({status:"cancelado",condicoes:(n||"")+`

[CANCELADO POR ${o}]: ${e}`}).eq("id",t)},async getFinancialHistory(t,e){const n=e==="artista"?"artista_id":"estabelecimento_id",{data:o}=await Q.from("contratos").select("id, data_evento, valor, taxa_servico, status, data_pagamento, artistas(usuario_id, usuarios(nome)), estabelecimentos(usuario_id, usuarios(nome))").eq(n,t).or("status.eq.assinado,status.eq.concluido,and(status.eq.cancelado,data_pagamento.not.is.null),status.eq.enviado").order("data_evento",{ascending:!1});return(o||[]).map(s=>ls(s))}},Xk={async sendSupportMessage(t){await Q.from("mensagens_contato").insert(t)},async startConversation(t,e,n){let{data:o}=await Q.from("conversas").select("id").or(`and(participante_a.eq.${t},participante_b.eq.${e}),and(participante_a.eq.${e},participante_b.eq.${t})`).maybeSingle();o||(o=(await Q.from("conversas").insert({participante_a:t,participante_b:e}).select().single()).data),await this.sendMessage(o.id,t,n)},async getConversations(t){const{data:e}=await Q.from("conversas").select("id, participante_a, participante_b, user_a:usuarios!participante_a(id, nome, foto_url), user_b:usuarios!participante_b(id, nome, foto_url)").or(`participante_a.eq.${t},participante_b.eq.${t}`);return(await Promise.all((e||[]).map(async o=>{var u,f;const s=rn(o.participante_a===t?o.user_b:o.user_a),{data:l}=await Q.from("mensagens").select("texto, criado_em").eq("conversa_id",o.id).order("criado_em",{ascending:!1}).limit(1);return{id:o.id,nome_participante:As(s),foto_participante:s==null?void 0:s.foto_url,ultima_mensagem:((u=l==null?void 0:l[0])==null?void 0:u.texto)||"Nova conversa",timestamp_ultima_mensagem:((f=l==null?void 0:l[0])==null?void 0:f.criado_em)||null,other_participant_id:s==null?void 0:s.id}}))).sort((o,s)=>new Date(s.timestamp_ultima_mensagem||0).getTime()-new Date(o.timestamp_ultima_mensagem||0).getTime())},async getMessages(t){const{data:e}=await Q.from("mensagens").select("*").eq("conversa_id",t).order("criado_em",{ascending:!0});return e||[]},async sendMessage(t,e,n){await Q.from("mensagens").insert({conversa_id:t,remetente_id:e,texto:n})}},vd={async create(t){await Q.from("notificacoes").insert(t)},async getByUser(t){const{data:e}=await Q.from("notificacoes").select("*").eq("usuario_id",t).order("data_criacao",{ascending:!1});return e||[]},async markAsRead(t){await Q.from("notificacoes").update({lida:!0}).eq("id",t)},async markAllAsRead(t){await Q.from("notificacoes").update({lida:!0}).eq("usuario_id",t)}},Qk={async getPublishedPosts({page:t,pageSize:e,search:n}){let o=Q.from("blog_posts").select("*",{count:"exact"}).eq("status","published");n&&(o=o.or(`title.ilike.%${n}%,content.ilike.%${n}%`));const{data:s,count:l}=await o.order("created_at",{ascending:!1}).range(t*e,(t+1)*e-1);return{data:s,count:l||0}},async getBySlug(t){const{data:e}=await Q.from("blog_posts").select("*").eq("slug",t).single();return e},async listAll(){const{data:t}=await Q.from("blog_posts").select("*").order("created_at",{ascending:!1});return t},async delete(t){await Q.from("blog_posts").delete().eq("id",t)},async save(t){const{data:e}=await Q.from("blog_posts").upsert(t).select().single();return e}},Wk={async getByTargetId(t){const{data:e}=await Q.from("avaliacoes").select("*, avaliador:usuarios!avaliador_id (id, nome, foto_url, status_verificacao)").eq("alvo_id",t).order("criado_em",{ascending:!1});return(e||[]).map(n=>({...n,avaliador:rn(n.avaliador)}))},async create(t){const{data:e}=await Q.from("avaliacoes").insert(t).select().single();return e},async getByContractAndReviewer(t,e){const{data:n}=await Q.from("avaliacoes").select("*").eq("contrato_id",t).eq("avaliador_id",e).maybeSingle();return n}},Zk={async list(t){const{data:e}=await Q.from("banda_membro").select("*").eq("artista_id",t);return e||[]},async add(t,e,n){const{data:o}=await Q.from("banda_membro").insert({artista_id:t,nome:e,instrumento:n}).select().single();return o},async remove(t){await Q.from("banda_membro").delete().eq("id",t)}},c1={async getGenres(){const{data:t}=await Q.from("generos_musicais").select("*").order("nome",{ascending:!0});return t||[]},async addGenre(t){const{data:e}=await Q.from("generos_musicais").insert({nome:t}).select().single();return e},async removeGenre(t){await Q.from("generos_musicais").delete().eq("id",t)},async updateHomeBackground(t){const e=t?l1.getPublicUrl("site",t):null;return await Q.from("configuracoes").upsert({id:1,home_background_url:e}),e},async updateSystemConfig(t){const e={id:1};t.brandingOption!==void 0&&(e.branding_display_option=t.brandingOption),t.heroOpacity!==void 0&&(e.home_hero_opacity=t.heroOpacity),t.heroBlur!==void 0&&(e.home_hero_blur=t.heroBlur),t.heroOverlayColor!==void 0&&(e.home_hero_overlay_color=t.heroOverlayColor),t.scriptHead!==void 0&&(e.script_head=t.scriptHead),t.scriptBodyStart!==void 0&&(e.script_body_start=t.scriptBodyStart),t.scriptBodyEnd!==void 0&&(e.script_body_end=t.scriptBodyEnd),t.supabaseUrl!==void 0&&(e.supabase_url=t.supabaseUrl),t.supabaseAnonKey!==void 0&&(e.supabase_anon_key=t.supabaseAnonKey),t.geminiApiKey!==void 0&&(e.gemini_api_key=t.geminiApiKey),t.stripePublishableKey!==void 0&&(e.stripe_publishable_key=t.stripePublishableKey),await Q.from("configuracoes").upsert(e)}},jk={async getUserAchievements(t){const{data:e}=await Q.from("conquistas_usuario").select("*, conquista:conquistas(*)").eq("usuario_id",t);return e||[]},async getAllAchievements(){const{data:t}=await Q.from("conquistas").select("*");return t||[]},async checkAndUnlock(t,e,n){const[o,s]=await Promise.all([this.getUserAchievements(t),this.getAllAchievements()]),l=new Set(o.map(f=>f.conquista_id)),u=s.filter(f=>f.tipo===e&&f.meta_valor<=n&&!l.has(f.id));return u.length>0?(await Q.from("conquistas_usuario").insert(u.map(f=>({usuario_id:t,conquista_id:f.id}))),u):[]}},eO={async createPaymentIntent(t,e,n){try{const{data:o}=await Q.functions.invoke("payment-sheet",{body:{amount:t,description:e,customer_email:n}});return o}catch{return{clientSecret:"simulated_"+Math.random(),isSimulated:!0}}},async requestPayout(t,e,n,o){const{data:s}=await Q.from("solicitacoes_saque").insert({usuario_id:t,valor:e,chave_pix:n,tipo_chave:o,status:"pendente"}).select().single();return s},async getPayoutHistory(t){const{data:e}=await Q.from("solicitacoes_saque").select("*").eq("usuario_id",t).order("criado_em",{ascending:!1});return e||[]},async listAllPayouts(){const{data:t}=await Q.from("solicitacoes_saque").select("*, usuarios(nome, email)").order("criado_em",{ascending:!1});return t||[]},async updatePayoutStatus(t,e){await Q.from("solicitacoes_saque").update(e).eq("id",t)}},tO={async listLogs(){const{data:t}=await Q.from("webhook_logs").select("*").order("criado_em",{ascending:!1}).limit(100);return t||[]}},q_=M.createContext(void 0),d1=({children:t})=>{const[e,n]=M.useState(null),[o,s]=M.useState(null),[l,u]=M.useState(null),[f,p]=M.useState(!0),[h,y]=M.useState(!1),[_,E]=M.useState(!1),[T,A]=M.useState(null),b=M.useCallback(async k=>{y(!0),E(!1),A(null);try{const{data:x,error:B,status:K}=await Q.from("usuarios").select("*, artista:artistas(*), estabelecimento:estabelecimentos(*)").eq("auth_id",k.id).maybeSingle();if(B)throw B;if(x){const X=$n(x);if(await u1.checkAndDowngradeExpiredPlan(X)){const{data:ie}=await Q.from("usuarios").select("*, artista:artistas(*), estabelecimento:estabelecimentos(*)").eq("id",X.id).single();ie&&u($n(ie))}else u(X)}else u(null),E(!0)}catch(x){const B=bl(x);if(console.error("Error fetching profile:",B),B.includes("JWT expired")||B.includes("Invalid JWT")){await Q.auth.signOut(),s(null),n(null),u(null);return}B.includes("Failed to fetch")||B.includes("NetworkError")?(A("No foi possvel conectar ao servidor. Verifique sua conexo com a internet."),E(!1)):(u(null),E(!0))}finally{y(!1)}},[]);M.useEffect(()=>{const{data:{subscription:k}}=Q.auth.onAuthStateChange((x,B)=>{n(B),s((B==null?void 0:B.user)??null),p(!1)});return()=>{k.unsubscribe()}},[]),M.useEffect(()=>{o?b(o):(u(null),E(!1),y(!1),A(null))},[o,b]);const C=M.useCallback(async()=>{o&&await b(o)},[o,b]),R={user:o,session:e,profile:l,loading:f,profileLoading:h,profileMissing:_,error:T,refreshProfile:C};return f?I.jsx("div",{className:"flex justify-center items-center h-screen bg-dark",children:I.jsx("div",{className:"text-white text-xl",children:"Carregando..."})}):I.jsx(q_.Provider,{value:R,children:t})},H_=()=>{const t=M.useContext(q_);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t},B_=({className:t="w-6 h-6"})=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),G_=M.createContext(void 0),f1=({children:t})=>{const{user:e,profile:n}=H_(),[o,s]=M.useState([]),[l,u]=M.useState(0),[f,p]=M.useState(!0),[h,y]=M.useState(!1);M.useEffect(()=>{"Notification"in window&&y(Notification.permission==="granted")},[]);const _=async()=>{if(!("Notification"in window))return!1;const k=await Notification.requestPermission()==="granted";return y(k),k},E=R=>{if(!(!("Notification"in window)||Notification.permission!=="granted")&&document.visibilityState==="hidden"){const k=new Notification(R.titulo,{body:R.descricao,icon:"/favicon.ico",tag:"resona-notif"});setTimeout(()=>k.close(),8e3)}},T=M.useCallback(async()=>{if(!e||!n){p(!1),s([]),u(0);return}try{p(!0);const R=await vd.getByUser(n.id);s(R||[]);const k=(R==null?void 0:R.filter(x=>!x.lida).length)||0;u(k)}catch(R){const k=bl(R);if(k.includes("Failed to fetch")||k.includes("Network request failed")){console.warn("Aviso: Falha de rede nas notificaes."),s([]),u(0);return}console.error("Error fetching notifications:",k)}finally{p(!1)}},[e,n]);M.useEffect(()=>{T()},[T]),M.useEffect(()=>{if(!e||!n)return;let R=!0;const k=`notificacoes:${n.id}`;try{const x=Q.channel(k),B=x.on("postgres_changes",{event:"INSERT",schema:"public",table:"notificacoes",filter:`usuario_id=eq.${n.id}`},K=>{R&&(s(X=>[K.new,...X]),u(X=>X+1),E(K.new))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notificacoes",filter:`usuario_id=eq.${n.id}`},K=>{R&&s(X=>{const F=X.map(Y=>Y.id===K.new.id?K.new:Y),ie=F.filter(Y=>!Y.lida).length;return u(ie),F})}).subscribe();return()=>{R=!1,Q.removeChannel(x)}}catch(x){console.warn("Erro ao configurar realtime:",x)}},[e,n]);const C={notifications:o,unreadCount:l,loading:f,markAsRead:async R=>{const k=o.find(x=>x.id===R);if(k&&!k.lida){s(x=>{const B=x.map(K=>K.id===R?{...K,lida:!0}:K);return u(B.filter(K=>!K.lida).length),B});try{await vd.markAsRead(R)}catch(x){console.error("Erro ao marcar lida:",x)}}},markAllAsRead:async()=>{if(!(!e||!n)){s(R=>R.map(k=>({...k,lida:!0}))),u(0);try{await vd.markAllAsRead(n.id)}catch(R){console.error("Erro ao limpar notificaes:",R)}}},requestPermission:_,hasPermission:h};return I.jsx(G_.Provider,{value:C,children:t})},V_=()=>{const t=M.useContext(G_);if(t===void 0)throw new Error("useNotifications deve ser usado dentro de um NotificationsProvider");return t},h1=({notification:t,onRead:e,closeModal:n})=>{const o=Rs(),s=()=>{if(e(t.id),n(),t.url_destino){const u=t.url_destino;u.startsWith("http")?window.open(u,"_blank","noopener,noreferrer"):o(u)}},l=u=>{const f=new Date(u),h=Math.max(0,Math.floor((new Date().getTime()-f.getTime())/1e3));let y=h/31536e3;return y>1?Math.floor(y)+"a":(y=h/2592e3,y>1?Math.floor(y)+"m":(y=h/86400,y>1?Math.floor(y)+"d":(y=h/3600,y>1?Math.floor(y)+"h":(y=h/60,y>1?Math.floor(y)+"min":Math.floor(h)+"s"))))};return I.jsxs("div",{onClick:s,className:`p-3 hover:bg-gray-700 cursor-pointer ${t.lida?"":"bg-secondary/10"}`,children:[I.jsx("p",{className:"font-semibold text-white text-sm",children:t.titulo}),I.jsx("p",{className:"text-xs text-gray-400",children:t.descricao}),I.jsx("p",{className:"text-right text-xs text-gray-500 mt-1",children:l(t.data_criacao)})]})},e0=()=>{const[t,e]=M.useState(!1),{notifications:n,unreadCount:o,markAsRead:s,markAllAsRead:l,loading:u}=V_(),f=M.useRef(null);M.useEffect(()=>{const y=_=>{f.current&&!f.current.contains(_.target)&&e(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const p=()=>e(y=>!y),h=y=>{y.stopPropagation(),l()};return I.jsxs("div",{className:"relative",ref:f,children:[I.jsxs("button",{onClick:p,className:"relative text-white hover:text-primary transition-colors",children:[I.jsx(B_,{className:"w-7 h-7"}),o>0&&I.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-600 text-xs font-bold text-white",children:o>9?"9+":o})]}),t&&I.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-lg shadow-2xl overflow-hidden z-50 border border-gray-700",children:[I.jsxs("div",{className:"p-3 flex justify-between items-center border-b border-gray-700",children:[I.jsx("h3",{className:"font-bold text-white",children:"Notificaes"}),o>0&&I.jsx("button",{onClick:h,className:"text-xs text-primary hover:underline",children:"Marcar todas como lidas"})]}),I.jsx("div",{className:"max-h-96 overflow-y-auto",children:u?I.jsx("p",{className:"p-4 text-center text-gray-400",children:"Carregando..."}):n.length>0?n.slice(0,10).map(y=>I.jsx(h1,{notification:y,onRead:s,closeModal:()=>e(!1)},y.id)):I.jsx("p",{className:"p-4 text-center text-gray-500",children:"Nenhuma notificao por aqui."})}),I.jsx("div",{className:"p-2 bg-gray-900 text-center",children:I.jsx(Mt,{to:"/notificacoes",onClick:()=>e(!1),className:"text-sm font-semibold text-primary hover:underline",children:"Ver todas as notificaes"})})]})]})},z_=M.createContext(void 0),p1="logo.png",m1="site",g1={homeBackgroundUrl:null,brandingOption:"logo_and_name",heroOpacity:.6,heroBlur:0,heroOverlayColor:"#000000",scriptHead:null,scriptBodyStart:null,scriptBodyEnd:null},y1=({children:t})=>{const[e,n]=M.useState(null),[o,s]=M.useState(()=>{try{const E=localStorage.getItem("site_config_cache");if(E){const T=JSON.parse(E);return T.gemini_api_key&&jv(T.gemini_api_key),T}}catch(E){console.error("Error loading site config cache",E)}return g1}),[l,u]=M.useState([]),f=M.useCallback(async()=>{const{data:E}=Q.storage.from(m1).getPublicUrl(p1);fetch(E.publicUrl).then(b=>{b.ok?n(`${E.publicUrl}?t=${new Date().getTime()}`):n(null)}).catch(()=>n(null));const{data:T,error:A}=await Q.from("configuracoes").select("*").eq("id",1).single();if(A&&A.code!=="PGRST116")console.error("Error fetching site config:",bl(A));else if(T){const b={homeBackgroundUrl:T.home_background_url||null,brandingOption:T.branding_display_option||"logo_and_name",heroOpacity:T.home_hero_opacity??.6,heroBlur:T.home_hero_blur??0,heroOverlayColor:T.home_hero_overlay_color||"#000000",scriptHead:T.script_head||null,scriptBodyStart:T.script_body_start||null,scriptBodyEnd:T.script_body_end||null,supabaseUrl:T.supabase_url||null,supabaseAnonKey:T.supabase_anon_key||null,geminiApiKey:T.gemini_api_key||null,stripePublishableKey:T.stripe_publishable_key||null};s(b);try{localStorage.setItem("site_config_cache",JSON.stringify(b))}catch{}T.gemini_api_key&&jv(T.gemini_api_key)}},[]),p=M.useCallback(async()=>{try{const E=await c1.getGenres();u(E)}catch(E){console.error("Error fetching genres:",E)}},[]);M.useEffect(()=>{f(),p()},[f,p]);const h=M.useCallback(()=>{f()},[f]),y=M.useCallback(()=>{p()},[p]),_={logoUrl:e,siteConfig:o,genres:l,refreshSiteConfig:h,refreshGenres:y};return I.jsx(z_.Provider,{value:_,children:t})},$_=()=>{const t=M.useContext(z_);if(t===void 0)throw new Error("useSite deve ser usado dentro de um SiteProvider");return t},v1=()=>{var ie;const[t,e]=M.useState(!1),[n,o]=M.useState(!1),[s,l]=M.useState(!1),{user:u,profile:f,profileLoading:p}=H_(),{hasPermission:h,requestPermission:y}=V_(),_=Rs(),E=vn(),{logoUrl:T,siteConfig:A}=$_(),b=M.useRef(null);M.useEffect(()=>{const Y=()=>{l(window.scrollY>50)};return window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)},[]),M.useEffect(()=>{e(!1)},[E]),M.useEffect(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),M.useEffect(()=>{const Y=de=>{b.current&&!b.current.contains(de.target)&&o(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]);const C=async()=>{o(!1),e(!1),await Q.auth.signOut(),_("/")},R=({isActive:Y})=>`text-sm font-medium tracking-wide transition-colors duration-300 ${Y?"text-primary":"text-gray-300 hover:text-white"}`,k=({isActive:Y})=>`block py-3 text-lg font-medium border-b border-gray-800 transition-colors ${Y?"text-primary":"text-gray-300 hover:text-white"}`,x=[{path:"/",label:"Incio"},{path:"/artistas",label:"Artistas"},{path:"/estabelecimentos",label:"Locais"},{path:"/blog",label:"Blog"},{path:"/sobre",label:"Sobre"},{path:"/contato",label:"Contato"}],B=()=>{switch(A.brandingOption){case"logo":return T?I.jsx("img",{src:T,alt:"RESONA Logo",className:"h-10 w-auto"}):"RESONA";case"name":return"RESONA";case"logo_and_name":return I.jsxs(I.Fragment,{children:[T&&I.jsx("img",{src:T,alt:"RESONA Logo",className:"h-8 w-auto mr-3"}),I.jsx("span",{className:"tracking-tight",children:"RESONA"})]});default:return"RESONA"}},K=(f==null?void 0:f.nome)||((ie=u==null?void 0:u.email)==null?void 0:ie.split("@")[0])||"Usurio",F=(()=>{if(f!=null&&f.foto_url){const{data:Y}=Q.storage.from("perfis").getPublicUrl(f.foto_url);return`${Y.publicUrl}?t=${new Date().getTime()}`}return null})();return I.jsxs(I.Fragment,{children:[I.jsx("header",{className:`fixed top-0 w-full z-40 transition-all duration-300 border-b ${s?"bg-dark/95 backdrop-blur-md border-gray-800 shadow-lg py-2":"bg-transparent border-transparent py-4"}`,children:I.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("div",{className:"flex-shrink-0",children:I.jsx(Mt,{to:"/",className:"flex items-center text-xl font-bold text-white font-poppins hover:opacity-90 transition-opacity",onClick:()=>e(!1),children:B()})}),I.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:x.map(Y=>I.jsx(Nd,{to:Y.path,className:R,children:Y.label},Y.path))}),I.jsx("div",{className:"hidden md:flex items-center gap-4",children:u?I.jsxs(I.Fragment,{children:[!h&&I.jsxs("button",{onClick:()=>y(),className:"p-2 text-yellow-500 hover:bg-yellow-500/10 rounded-full transition-all group relative",title:"Ativar notificaes push",children:[I.jsx(B_,{className:"w-5 h-5 animate-bounce-slow"}),I.jsx("span",{className:"absolute top-full right-0 mt-2 hidden group-hover:block bg-gray-800 text-white text-[10px] p-2 rounded border border-gray-700 w-32 shadow-xl z-50",children:"Clique para receber alertas em tempo real."})]}),I.jsx(e0,{}),I.jsxs("div",{className:"relative",ref:b,children:[I.jsxs("button",{onClick:()=>o(Y=>!Y),className:"flex items-center gap-2 text-white hover:bg-gray-800/50 py-1 px-2 rounded-full transition-colors focus:outline-none",children:[F?I.jsx("img",{src:F,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-600"}):I.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:I.jsx("span",{className:"text-xs font-bold",children:p?"?":K.charAt(0).toUpperCase()})}),I.jsx("span",{className:"text-sm font-medium max-w-[120px] truncate",children:p?"...":K})]}),I.jsxs("div",{className:`absolute right-0 mt-2 w-56 bg-gray-800 rounded-xl shadow-2xl py-2 z-50 border border-gray-700 transition-all duration-200 transform origin-top-right ${n?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:[I.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 mb-1",children:[I.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider font-bold mb-1",children:"Logado como"}),I.jsx("p",{className:"text-sm font-bold text-white truncate",children:K}),I.jsx("p",{className:"text-xs text-gray-500 truncate",children:u.email})]}),I.jsx(Mt,{to:"/painel",onClick:()=>o(!1),className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white hover:pl-5 transition-all",children:"Painel"}),I.jsx(Mt,{to:`/${f==null?void 0:f.tipo}/${f==null?void 0:f.id}`,onClick:()=>o(!1),className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white hover:pl-5 transition-all",children:"Perfil Pblico"}),(f==null?void 0:f.role)==="admin-master"&&I.jsx(Mt,{to:"/admin",onClick:()=>o(!1),className:"block px-4 py-2 text-sm text-yellow-400 hover:bg-gray-700 hover:text-white hover:pl-5 transition-all",children:"Administrao"}),I.jsx("div",{className:"border-t border-gray-700 mt-1 pt-1",children:I.jsx("button",{onClick:C,className:"w-full text-left block px-4 py-2 text-sm text-red-400 hover:bg-gray-700 hover:text-red-300 hover:pl-5 transition-all",children:"Sair"})})]})]})]}):I.jsxs(I.Fragment,{children:[I.jsx(Mt,{to:"/login",className:"text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Entrar"}),I.jsx(Mt,{to:"/cadastro",className:"relative inline-flex items-center justify-center px-6 py-2 text-sm font-bold text-white transition-all duration-200 bg-white/10 border border-white/20 rounded-full hover:bg-white/20 focus:outline-none hover:shadow-[0_0_15px_rgba(81,210,238,0.3)]",children:"Cadastrar"})]})}),I.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[u&&I.jsx(e0,{}),I.jsx("button",{onClick:()=>e(!0),className:"text-white focus:outline-none p-2 rounded-md hover:bg-gray-800 transition-colors","aria-label":"Abrir menu",children:I.jsx(gA,{})})]})]})})}),I.jsx("div",{className:`${s?"h-16":"h-20"}`}),I.jsxs("div",{className:`fixed inset-0 z-[60] md:hidden transition-opacity duration-300 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:[I.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>e(!1)}),I.jsxs("div",{className:`absolute top-0 right-0 w-4/5 max-sm h-full bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-out border-l border-gray-800 flex flex-col ${t?"translate-x-0":"translate-x-full"}`,children:[I.jsxs("div",{className:"p-5 flex justify-between items-center border-b border-gray-800",children:[I.jsx("span",{className:"font-bold text-xl text-white tracking-tight",children:"Menu"}),I.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-white p-1",children:I.jsx(yA,{className:"w-8 h-8"})})]}),I.jsx("div",{className:"flex-grow overflow-y-auto py-4 px-6 space-y-1",children:x.map(Y=>I.jsx(Nd,{to:Y.path,className:k,onClick:()=>e(!1),children:Y.label},Y.path))}),I.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:u?I.jsxs("div",{className:"flex flex-col gap-4",children:[I.jsxs("div",{className:"flex items-center gap-3 bg-gray-800 p-3 rounded-lg",children:[F?I.jsx("img",{src:F,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-primary"}):I.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center",children:I.jsx("span",{className:"text-lg font-bold",children:K.charAt(0).toUpperCase()})}),I.jsxs("div",{className:"overflow-hidden",children:[I.jsx("p",{className:"font-bold text-white truncate",children:K}),I.jsx("p",{className:"text-xs text-gray-400 truncate",children:u.email})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[I.jsx(Mt,{to:"/painel",onClick:()=>e(!1),className:"text-center py-2 bg-primary/10 text-primary border border-primary/30 rounded-lg font-bold text-sm hover:bg-primary/20",children:"Painel"}),I.jsx("button",{onClick:C,className:"text-center py-2 bg-red-900/20 text-red-400 border border-red-900/30 rounded-lg font-bold text-sm hover:bg-red-900/30",children:"Sair"})]})]}):I.jsxs("div",{className:"flex flex-col gap-3",children:[I.jsx(Mt,{to:"/login",onClick:()=>e(!1),className:"w-full text-center py-3 border border-gray-600 rounded-lg text-white font-bold hover:bg-gray-800 transition-colors",children:"Entrar"}),I.jsx(Mt,{to:"/cadastro",onClick:()=>e(!1),className:"w-full text-center py-3 bg-gradient-to-r from-primary to-secondary text-white font-bold rounded-lg shadow-lg hover:shadow-secondary/40 transition-all",children:"Criar Conta Grtis"})]})})]})]})]})},_1=()=>I.jsx("footer",{className:"bg-dark border-t border-gray-800",children:I.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:I.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-center md:text-left",children:[I.jsxs("div",{className:"mb-4 md:mb-0",children:[I.jsxs("p",{className:"text-gray-400",children:[" ",new Date().getFullYear()," RESONA. Todos os direitos reservados."]}),I.jsxs("div",{className:"mt-2 space-x-4",children:[I.jsx(Mt,{to:"/termos",className:"text-gray-400 hover:text-primary transition-colors duration-300",children:"Termos de Uso"}),I.jsx("span",{className:"text-gray-600",children:"|"}),I.jsx(Mt,{to:"/privacidade",className:"text-gray-400 hover:text-primary transition-colors duration-300",children:"Poltica de Privacidade"})]})]}),I.jsxs("div",{className:"flex space-x-6",children:[I.jsx("a",{href:"#","aria-label":"Facebook",className:"text-gray-400 hover:text-primary transition-colors duration-300",children:I.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:I.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),I.jsx("a",{href:"#","aria-label":"Instagram",className:"text-gray-400 hover:text-primary transition-colors duration-300",children:I.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:I.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.08 2.525c.636-.247 1.363-.416 2.427-.465C9.53 2.013 9.884 2 12.315 2zM12 7a5 5 0 100 10 5 5 0 000-10zm0 8a3 3 0 110-6 3 3 0 010 6zm5.25-10a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z",clipRule:"evenodd"})})}),I.jsx("a",{href:"#","aria-label":"Twitter",className:"text-gray-400 hover:text-primary transition-colors duration-300",children:I.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:I.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})})]})]})})});var _d,t0;function E1(){if(t0)return _d;t0=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",o=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(l,u){if(l===u)return!0;if(l&&u&&typeof l=="object"&&typeof u=="object"){if(l.constructor!==u.constructor)return!1;var f,p,h;if(Array.isArray(l)){if(f=l.length,f!=u.length)return!1;for(p=f;p--!==0;)if(!s(l[p],u[p]))return!1;return!0}var y;if(e&&l instanceof Map&&u instanceof Map){if(l.size!==u.size)return!1;for(y=l.entries();!(p=y.next()).done;)if(!u.has(p.value[0]))return!1;for(y=l.entries();!(p=y.next()).done;)if(!s(p.value[1],u.get(p.value[0])))return!1;return!0}if(n&&l instanceof Set&&u instanceof Set){if(l.size!==u.size)return!1;for(y=l.entries();!(p=y.next()).done;)if(!u.has(p.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(u)){if(f=l.length,f!=u.length)return!1;for(p=f;p--!==0;)if(l[p]!==u[p])return!1;return!0}if(l.constructor===RegExp)return l.source===u.source&&l.flags===u.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof u.valueOf=="function")return l.valueOf()===u.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof u.toString=="function")return l.toString()===u.toString();if(h=Object.keys(l),f=h.length,f!==Object.keys(u).length)return!1;for(p=f;p--!==0;)if(!Object.prototype.hasOwnProperty.call(u,h[p]))return!1;if(t&&l instanceof Element)return!1;for(p=f;p--!==0;)if(!((h[p]==="_owner"||h[p]==="__v"||h[p]==="__o")&&l.$$typeof)&&!s(l[h[p]],u[h[p]]))return!1;return!0}return l!==l&&u!==u}return _d=function(u,f){try{return s(u,f)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},_d}var S1=E1();const T1=Cs(S1);var Ed,n0;function w1(){if(n0)return Ed;n0=1;var t=function(e,n,o,s,l,u,f,p){if(!e){var h;if(n===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[o,s,l,u,f,p],_=0;h=new Error(n.replace(/%s/g,function(){return y[_++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return Ed=t,Ed}var A1=w1();const i0=Cs(A1);var Sd,o0;function C1(){return o0||(o0=1,Sd=function(e,n,o,s){var l=o?o.call(s,e,n):void 0;if(l!==void 0)return!!l;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var u=Object.keys(e),f=Object.keys(n);if(u.length!==f.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(n),h=0;h<u.length;h++){var y=u[h];if(!p(y))return!1;var _=e[y],E=n[y];if(l=o?o.call(s,_,E,y):void 0,l===!1||l===void 0&&_!==E)return!1}return!0}),Sd}var b1=C1();const R1=Cs(b1);var F_=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(F_||{}),Td={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},r0=Object.values(F_),Mf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},x1=Object.entries(Mf).reduce((t,[e,n])=>(t[n]=e,t),{}),mn="data-rh",nr={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ir=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const o=t[n];if(Object.prototype.hasOwnProperty.call(o,e))return o[e]}return null},N1=t=>{let e=ir(t,"title");const n=ir(t,nr.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const o=ir(t,nr.DEFAULT_TITLE);return e||o||void 0},I1=t=>ir(t,nr.ON_CHANGE_CLIENT_STATE)||(()=>{}),wd=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,o)=>({...n,...o}),{}),M1=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,o)=>{if(!n.length){const s=Object.keys(o);for(let l=0;l<s.length;l+=1){const f=s[l].toLowerCase();if(t.indexOf(f)!==-1&&o[f])return n.concat(o)}}return n},[]),D1=t=>console&&typeof console.warn=="function"&&console.warn(t),us=(t,e,n)=>{const o={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&D1(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,l)=>{const u={};l.filter(p=>{let h;const y=Object.keys(p);for(let E=0;E<y.length;E+=1){const T=y[E],A=T.toLowerCase();e.indexOf(A)!==-1&&!(h==="rel"&&p[h].toLowerCase()==="canonical")&&!(A==="rel"&&p[A].toLowerCase()==="stylesheet")&&(h=A),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(h=T)}if(!h||!p[h])return!1;const _=p[h].toLowerCase();return o[h]||(o[h]={}),u[h]||(u[h]={}),o[h][_]?!1:(u[h][_]=!0,!0)}).reverse().forEach(p=>s.push(p));const f=Object.keys(u);for(let p=0;p<f.length;p+=1){const h=f[p],y={...o[h],...u[h]};o[h]=y}return s},[]).reverse()},U1=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},k1=t=>({baseTag:M1(["href"],t),bodyAttributes:wd("bodyAttributes",t),defer:ir(t,nr.DEFER),encode:ir(t,nr.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:wd("htmlAttributes",t),linkTags:us("link",["rel","href"],t),metaTags:us("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:us("noscript",["innerHTML"],t),onChangeClientState:I1(t),scriptTags:us("script",["src","innerHTML"],t),styleTags:us("style",["cssText"],t),title:N1(t),titleAttributes:wd("titleAttributes",t),prioritizeSeoTags:U1(t,nr.PRIORITIZE_SEO_TAGS)}),J_=t=>Array.isArray(t)?t.join(""):t,O1=(t,e)=>{const n=Object.keys(t);for(let o=0;o<n.length;o+=1)if(e[n[o]]&&e[n[o]].includes(t[n[o]]))return!0;return!1},Ad=(t,e)=>Array.isArray(t)?t.reduce((n,o)=>(O1(o,e)?n.priority.push(o):n.default.push(o),n),{priority:[],default:[]}):{default:t,priority:[]},s0=(t,e)=>({...t,[e]:void 0}),P1=["noscript","script","style"],of=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),K_=t=>Object.keys(t).reduce((e,n)=>{const o=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${o}`:o},""),L1=(t,e,n,o)=>{const s=K_(n),l=J_(e);return s?`<${t} ${mn}="true" ${s}>${of(l,o)}</${t}>`:`<${t} ${mn}="true">${of(l,o)}</${t}>`},q1=(t,e,n=!0)=>e.reduce((o,s)=>{const l=s,u=Object.keys(l).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,y)=>{const _=typeof l[y]>"u"?y:`${y}="${of(l[y],n)}"`;return h?`${h} ${_}`:_},""),f=l.innerHTML||l.cssText||"",p=P1.indexOf(t)===-1;return`${o}<${t} ${mn}="true" ${u}${p?"/>":`>${f}</${t}>`}`},""),Y_=(t,e={})=>Object.keys(t).reduce((n,o)=>{const s=Mf[o];return n[s||o]=t[o],n},e),H1=(t,e,n)=>{const o={key:e,[mn]:!0},s=Y_(n,o);return[Ai.createElement("title",s,e)]},ul=(t,e)=>e.map((n,o)=>{const s={key:o,[mn]:!0};return Object.keys(n).forEach(l=>{const f=Mf[l]||l;if(f==="innerHTML"||f==="cssText"){const p=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:p}}else s[f]=n[l]}),Ai.createElement(t,s)}),on=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>H1(t,e.title,e.titleAttributes),toString:()=>L1(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Y_(e),toString:()=>K_(e)};default:return{toComponent:()=>ul(t,e),toString:()=>q1(t,e,n)}}},B1=({metaTags:t,linkTags:e,scriptTags:n,encode:o})=>{const s=Ad(t,Td.meta),l=Ad(e,Td.link),u=Ad(n,Td.script);return{priorityMethods:{toComponent:()=>[...ul("meta",s.priority),...ul("link",l.priority),...ul("script",u.priority)],toString:()=>`${on("meta",s.priority,o)} ${on("link",l.priority,o)} ${on("script",u.priority,o)}`},metaTags:s.default,linkTags:l.default,scriptTags:u.default}},G1=t=>{const{baseTag:e,bodyAttributes:n,encode:o=!0,htmlAttributes:s,noscriptTags:l,styleTags:u,title:f="",titleAttributes:p,prioritizeSeoTags:h}=t;let{linkTags:y,metaTags:_,scriptTags:E}=t,T={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:T,linkTags:y,metaTags:_,scriptTags:E}=B1(t)),{priority:T,base:on("base",e,o),bodyAttributes:on("bodyAttributes",n,o),htmlAttributes:on("htmlAttributes",s,o),link:on("link",y,o),meta:on("meta",_,o),noscript:on("noscript",l,o),script:on("script",E,o),style:on("style",u,o),title:on("title",{title:f,titleAttributes:p},o)}},rf=G1,ol=[],X_=!!(typeof window<"u"&&window.document&&window.document.createElement),sf=class{constructor(t,e){Vn(this,"instances",[]);Vn(this,"canUseDOM",X_);Vn(this,"context");Vn(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?ol:this.instances,add:t=>{(this.canUseDOM?ol:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?ol:this.instances).indexOf(t);(this.canUseDOM?ol:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=rf({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},V1={},Q_=Ai.createContext(V1),Zi,W_=(Zi=class extends M.Component{constructor(n){super(n);Vn(this,"helmetData");this.helmetData=new sf(this.props.context||{},Zi.canUseDOM)}render(){return Ai.createElement(Q_.Provider,{value:this.helmetData.value},this.props.children)}},Vn(Zi,"canUseDOM",X_),Zi),Fo=(t,e)=>{const n=document.head||document.querySelector("head"),o=n.querySelectorAll(`${t}[${mn}]`),s=[].slice.call(o),l=[];let u;return e&&e.length&&e.forEach(f=>{const p=document.createElement(t);for(const h in f)if(Object.prototype.hasOwnProperty.call(f,h))if(h==="innerHTML")p.innerHTML=f.innerHTML;else if(h==="cssText")p.styleSheet?p.styleSheet.cssText=f.cssText:p.appendChild(document.createTextNode(f.cssText));else{const y=h,_=typeof f[y]>"u"?"":f[y];p.setAttribute(h,_)}p.setAttribute(mn,"true"),s.some((h,y)=>(u=y,p.isEqualNode(h)))?s.splice(u,1):l.push(p)}),s.forEach(f=>{var p;return(p=f.parentNode)==null?void 0:p.removeChild(f)}),l.forEach(f=>n.appendChild(f)),{oldTags:s,newTags:l}},af=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const o=n.getAttribute(mn),s=o?o.split(","):[],l=[...s],u=Object.keys(e);for(const f of u){const p=e[f]||"";n.getAttribute(f)!==p&&n.setAttribute(f,p),s.indexOf(f)===-1&&s.push(f);const h=l.indexOf(f);h!==-1&&l.splice(h,1)}for(let f=l.length-1;f>=0;f-=1)n.removeAttribute(l[f]);s.length===l.length?n.removeAttribute(mn):n.getAttribute(mn)!==u.join(",")&&n.setAttribute(mn,u.join(","))},z1=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=J_(t)),af("title",e)},a0=(t,e)=>{const{baseTag:n,bodyAttributes:o,htmlAttributes:s,linkTags:l,metaTags:u,noscriptTags:f,onChangeClientState:p,scriptTags:h,styleTags:y,title:_,titleAttributes:E}=t;af("body",o),af("html",s),z1(_,E);const T={baseTag:Fo("base",n),linkTags:Fo("link",l),metaTags:Fo("meta",u),noscriptTags:Fo("noscript",f),scriptTags:Fo("script",h),styleTags:Fo("style",y)},A={},b={};Object.keys(T).forEach(C=>{const{newTags:R,oldTags:k}=T[C];R.length&&(A[C]=R),k.length&&(b[C]=T[C].oldTags)}),e&&e(),p(t,A,b)},cs=null,$1=t=>{cs&&cancelAnimationFrame(cs),t.defer?cs=requestAnimationFrame(()=>{a0(t,()=>{cs=null})}):(a0(t),cs=null)},F1=$1,l0=class extends M.Component{constructor(){super(...arguments);Vn(this,"rendered",!1)}shouldComponentUpdate(e){return!R1(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let o=null;const s=k1(e.get().map(l=>{const u={...l.props};return delete u.context,u}));W_.canUseDOM?F1(s):rf&&(o=rf(s)),n(o)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Cd,nO=(Cd=class extends M.Component{shouldComponentUpdate(t){return!T1(s0(this.props,"helmetData"),s0(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,o){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,o)}]}}mapObjectTypeChildren(t,e,n,o){switch(t.type){case"title":return{...e,[t.type]:o,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(o=>{n={...n,[o]:t[o]}}),n}warnOnInvalidChildren(t,e){return i0(r0.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${r0.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),i0(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return Ai.Children.forEach(t,o=>{if(!o||!o.props)return;const{children:s,...l}=o.props,u=Object.keys(l).reduce((p,h)=>(p[x1[h]||h]=l[h],p),{});let{type:f}=o;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(o,s),f){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(o,n,u,s);break;default:e=this.mapObjectTypeChildren(o,e,u,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:o}=e;if(t&&(n=this.mapChildrenToProps(t,n)),o&&!(o instanceof sf)){const s=o;o=new sf(s.context,!0),delete n.helmetData}return o?Ai.createElement(l0,{...n,context:o.value}):Ai.createElement(Q_.Consumer,null,s=>Ai.createElement(l0,{...n,context:s}))}},Vn(Cd,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Cd);const u0=({position:t})=>{const{siteConfig:e}=$_(),n=t==="body-start"?e.scriptBodyStart:e.scriptBodyEnd;return M.useEffect(()=>{if(!n)return;const o=`script-container-${t}`;let s=document.getElementById(o);s||(s=document.createElement("div"),s.id=o,s.style.display="none",t==="body-start"?document.body.prepend(s):document.body.appendChild(s)),s.innerHTML="";const l=document.createElement("div");l.innerHTML=n,l.querySelectorAll("script").forEach(p=>{const h=document.createElement("script");Array.from(p.attributes).forEach(y=>{h.setAttribute(y.name,y.value)}),h.appendChild(document.createTextNode(p.innerHTML)),s==null||s.appendChild(h)}),Array.from(l.childNodes).filter(p=>p.nodeName!=="SCRIPT").forEach(p=>{s==null||s.appendChild(p.cloneNode(!0))})},[n,t]),null},J1=()=>I.jsx("div",{className:"flex justify-center items-center min-h-screen bg-dark",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),I.jsx("p",{className:"text-gray-400 text-sm",children:"Carregando..."})]})}),K1=M.lazy(()=>ye(()=>import("./HomePage-DtY6-Fsc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Y1=M.lazy(()=>ye(()=>import("./AboutPage-DwUcYkAN.js"),__vite__mapDeps([11,12,13,9]))),X1=M.lazy(()=>ye(()=>import("./ContactPage-k-dDZMoF.js"),__vite__mapDeps([14,15,6,16,8,9]))),Q1=M.lazy(()=>ye(()=>import("./ArtistsPage-BIhOiGgc.js"),__vite__mapDeps([17,1,3,9,18,19,8,6,5,7,16]))),W1=M.lazy(()=>ye(()=>import("./VenuesPage-DyWhEIgR.js"),__vite__mapDeps([20,1,9,3,13,8,18,4]))),Z1=M.lazy(()=>ye(()=>import("./LoginPage-1d7VTT6r.js"),__vite__mapDeps([21,22,15,23,24,25,9]))),j1=M.lazy(()=>ye(()=>import("./RegisterPage-XHGyfbd3.js"),__vite__mapDeps([26,23,24,15,22,27,6,25,9]))),ek=M.lazy(()=>ye(()=>import("./DashboardPage-9rgSB28E.js"),__vite__mapDeps([28,27,2,29,7,30,31,23,32,33,4,18,34,16,3,35,36,37,19,5,6,38,39,40,13,12,41,22,1,25,42,43,44,8,45,46]))),tk=M.lazy(()=>ye(()=>import("./ArtistProfilePage-DBgCQ3Po.js"),__vite__mapDeps([47,3,34,43,35,44,6,8,1,2,22,5,38,16,13,10,33,4,27,18,48,19,12,36,45,9]))),nk=M.lazy(()=>ye(()=>import("./VenueProfilePage-Dyxs0nEZ.js"),__vite__mapDeps([49,3,13,34,35,33,4,27,18,48,8,6,9]))),ik=M.lazy(()=>ye(()=>import("./ForgotPasswordPage-Dv0rkzdu.js"),__vite__mapDeps([50,15,25,9]))),ok=M.lazy(()=>ye(()=>import("./UpdatePasswordPage-BHeX5GYz.js"),__vite__mapDeps([51,22,23,24]))),rk=M.lazy(()=>ye(()=>import("./CompleteProfilePage-BK_PPB0c.js"),__vite__mapDeps([52,27]))),sk=M.lazy(()=>ye(()=>import("./BlogPage-DZ7Qiqyh.js"),__vite__mapDeps([53,1,54,18,8,9]))),ak=M.lazy(()=>ye(()=>import("./BlogPostPage-CYI31mNd.js"),__vite__mapDeps([55,9]))),lk=M.lazy(()=>ye(()=>import("./NotificationsPage-C-xbOUAE.js"),__vite__mapDeps([56,18,29,2,4,6]))),uk=M.lazy(()=>ye(()=>import("./ContractsPage-Dux19vXn.js"),__vite__mapDeps([57,42,39,43,35,44,6,8,1,2,22,5,38,16,41,18,3]))),ck=M.lazy(()=>ye(()=>import("./ContractDetailPage-g7l8raaN.js"),__vite__mapDeps([58,59,31,6,41,4,60,22,38,7,44,45]))),dk=M.lazy(()=>ye(()=>import("./ApiTestPage-D-62jQmn.js"),[])),fk=M.lazy(()=>ye(()=>import("./PlanosPage-FMFBfG7R.js"),__vite__mapDeps([61,6,5,4,46,60,22,9]))),hk=M.lazy(()=>ye(()=>import("./NotFoundPage-DfCT7PrT.js"),__vite__mapDeps([62,9,63]))),pk=M.lazy(()=>ye(()=>import("./TermsPage-B-Pe5WNn.js"),__vite__mapDeps([64,9,63]))),mk=M.lazy(()=>ye(()=>import("./PrivacyPage-DCIPzVhG.js"),__vite__mapDeps([65,9,63]))),gk=M.lazy(()=>ye(()=>import("./ProtectedRoute-Dp42yd2N.js"),[])),yk=M.lazy(()=>ye(()=>import("./AdminLayout-BU1ClwP-.js"),__vite__mapDeps([66,13,2,23,29,12,67,54,31,30]))),vk=M.lazy(()=>ye(()=>import("./DashboardAdminPage-CYJlMA7Y.js"),__vite__mapDeps([68,13,2,6,31]))),_k=M.lazy(()=>ye(()=>import("./UsersAdminPage-CAmNGVrp.js"),__vite__mapDeps([69,1,6,41,23,5,46]))),Ek=M.lazy(()=>ye(()=>import("./PayoutsAdminPage-CwdlsgXo.js"),__vite__mapDeps([70,6,41,1,40,16]))),Sk=M.lazy(()=>ye(()=>import("./VerificationsAdminPage-D3Q7hzJd.js"),__vite__mapDeps([71,6,41,23,40,16]))),Tk=M.lazy(()=>ye(()=>import("./ContractsAdminPage-MRMCR1oB.js"),__vite__mapDeps([72,1,23,45,12,16,6,41,36,59,31,4,29,44]))),wk=M.lazy(()=>ye(()=>import("./ContentAdminPage-BVW2hdPl.js"),__vite__mapDeps([73,37,6,40,16]))),Ak=M.lazy(()=>ye(()=>import("./MessagesAdminPage-De9zbZBo.js"),__vite__mapDeps([74,15,6,37,1]))),Ck=M.lazy(()=>ye(()=>import("./SecurityAdminPage-C8OhLZSV.js"),[])),bk=M.lazy(()=>ye(()=>import("./ReportsAdminPage-gnZrBk8u.js"),[])),Rk=M.lazy(()=>ye(()=>import("./StorageAdminPage-DkDfaPrH.js"),__vite__mapDeps([75,36,45,37,40,16,32,6]))),xk=M.lazy(()=>ye(()=>import("./SettingsAdminPage-B9EXGMt9.js"),__vite__mapDeps([76,34,32,39,37]))),Nk=M.lazy(()=>ye(()=>import("./BlogAdminPage-DBwzcLLH.js"),__vite__mapDeps([77,40,16,37,39,1,23,34]))),Ik=M.lazy(()=>ye(()=>import("./WebhooksAdminPage-DiJZdJvN.js"),__vite__mapDeps([78,67,6,1]))),Mk=M.lazy(()=>ye(()=>import("./AnalyticsAdminPage-BFjcW8B2.js"),__vite__mapDeps([79,31,5,38,30]))),Dk=M.lazy(()=>ye(()=>import("./SystemHealthAdminPage-X79D9vrk.js"),__vite__mapDeps([80,67,16,1,38,37,40]))),Uk=()=>{const{pathname:t}=vn();return M.useEffect(()=>{window.scrollTo(0,0)},[t]),null},kk=()=>I.jsx(W_,{children:I.jsx(d1,{children:I.jsx(f1,{children:I.jsx(y1,{children:I.jsxs(aA,{children:[I.jsx(Uk,{}),I.jsx(u0,{position:"body-start"}),I.jsxs("div",{className:"flex flex-col min-h-screen bg-dark font-sans",children:[I.jsx(v1,{}),I.jsx("main",{className:"flex-grow",children:I.jsx(M.Suspense,{fallback:I.jsx(J1,{}),children:I.jsxs(Pw,{children:[I.jsx(me,{path:"/",element:I.jsx(K1,{})}),I.jsx(me,{path:"/sobre",element:I.jsx(Y1,{})}),I.jsx(me,{path:"/contato",element:I.jsx(X1,{})}),I.jsx(me,{path:"/blog",element:I.jsx(sk,{})}),I.jsx(me,{path:"/blog/:slug",element:I.jsx(ak,{})}),I.jsx(me,{path:"/artistas",element:I.jsx(Q1,{})}),I.jsx(me,{path:"/artista/:id",element:I.jsx(tk,{})}),I.jsx(me,{path:"/estabelecimentos",element:I.jsx(W1,{})}),I.jsx(me,{path:"/estabelecimento/:id",element:I.jsx(nk,{})}),I.jsx(me,{path:"/login",element:I.jsx(Z1,{})}),I.jsx(me,{path:"/cadastro",element:I.jsx(j1,{})}),I.jsx(me,{path:"/painel",element:I.jsx(ek,{})}),I.jsx(me,{path:"/planos",element:I.jsx(fk,{})}),I.jsx(me,{path:"/recuperar-senha",element:I.jsx(ik,{})}),I.jsx(me,{path:"/atualizar-senha",element:I.jsx(ok,{})}),I.jsx(me,{path:"/completar-perfil",element:I.jsx(rk,{})}),I.jsx(me,{path:"/notificacoes",element:I.jsx(lk,{})}),I.jsx(me,{path:"/contratos",element:I.jsx(uk,{})}),I.jsx(me,{path:"/contratos/:id",element:I.jsx(ck,{})}),I.jsx(me,{path:"/termos",element:I.jsx(pk,{})}),I.jsx(me,{path:"/privacidade",element:I.jsx(mk,{})}),I.jsx(me,{path:"/api-test",element:I.jsx(dk,{})}),I.jsx(me,{path:"/admin",element:I.jsx(gk,{}),children:I.jsxs(me,{element:I.jsx(yk,{}),children:[I.jsx(me,{index:!0,element:I.jsx(kw,{to:"dashboard",replace:!0})}),I.jsx(me,{path:"dashboard",element:I.jsx(vk,{})}),I.jsx(me,{path:"analytics",element:I.jsx(Mk,{})}),I.jsx(me,{path:"health",element:I.jsx(Dk,{})}),I.jsx(me,{path:"usuarios",element:I.jsx(_k,{})}),I.jsx(me,{path:"verificacoes",element:I.jsx(Sk,{})}),I.jsx(me,{path:"saques",element:I.jsx(Ek,{})}),I.jsx(me,{path:"contratos",element:I.jsx(Tk,{})}),I.jsx(me,{path:"webhooks",element:I.jsx(Ik,{})}),I.jsx(me,{path:"conteudo",element:I.jsx(wk,{})}),I.jsx(me,{path:"mensagens",element:I.jsx(Ak,{})}),I.jsx(me,{path:"seguranca",element:I.jsx(Ck,{})}),I.jsx(me,{path:"relatorios",element:I.jsx(bk,{})}),I.jsx(me,{path:"storage",element:I.jsx(Rk,{})}),I.jsx(me,{path:"configuracoes",element:I.jsx(xk,{})}),I.jsx(me,{path:"blog",element:I.jsx(Nk,{})})]})}),I.jsx(me,{path:"*",element:I.jsx(hk,{})})]})})}),I.jsx(_1,{})]}),I.jsx(u0,{position:"body-end"})]})})})})}),Z_=document.getElementById("root");if(!Z_)throw new Error("Could not find root element to mount to");const Ok=kT.createRoot(Z_);Ok.render(I.jsx(kk,{}));export{Fk as A,B_ as B,yA as C,Wk as D,ye as E,Nd as F,$k as G,nO as H,IT as I,c1 as J,tO as K,Mt as L,gA as M,kw as N,Hk as O,Kk as P,Ts as Q,Ai as R,Lk as S,Gk as _,Rs as a,u1 as b,Yk as c,Q as d,bl as e,Qg as f,Cs as g,H_ as h,Jk as i,I as j,Zk as k,V_ as l,Xk as m,vd as n,jk as o,eO as p,Vk as q,M as r,l1 as s,vn as t,$_ as u,zk as v,Bk as w,qk as x,$n as y,Qk as z};
