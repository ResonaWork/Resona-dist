import{j as e,F as b,T as u,q as f,s as w}from"./index-BFt0Ikit.js";import{i as y,r as s,L as m}from"./vendor-react-Dfcn4nkY.js";import{C as j}from"./CalendarIcon-wKWyVuZZ.js";import{U as v}from"./UserCircleIcon-jdk3B9sr.js";import{A as d}from"./ArrowLeftIcon-DT5fEIBJ.js";import{B as N}from"./Breadcrumbs-B8wrsJgG.js";import{S as k}from"./SEO-DVof3G2H.js";import"./vendor-jspdf-Bh_S0msn.js";import"./vendor-utils-DmyZJLyO.js";import"./vendor-ui-DKtFGipk.js";import"./ChevronRightIcon-DwHXBScw.js";const T=()=>{const{slug:r}=y(),[t,x]=s.useState(null),[g,o]=s.useState(!0),[$,p]=s.useState("");s.useEffect(()=>{(async()=>{if(r){o(!0);try{const a=await f.getBySlug(r);x(a)}catch(a){console.error(a),p("Artigo não encontrado.")}finally{o(!1)}}})()},[r]);const i=()=>t!=null&&t.image_url?t.image_url.startsWith("http")?t.image_url:w.getPublicUrl("blog",t.image_url):null,h=c=>({__html:c.replace(/^# (.*$)/gim,'<h2 class="text-4xl font-black text-white mb-6 mt-10">$1</h2>').replace(/^## (.*$)/gim,'<h3 class="text-3xl font-bold text-white mb-4 mt-8">$1</h3>').replace(/^### (.*$)/gim,'<h4 class="text-2xl font-bold text-white mb-3 mt-6">$1</h4>').replace(/\*\*(.*)\*\*/gim,'<strong class="text-white">$1</strong>').replace(/\*(.*)\*/gim,'<em class="text-gray-300">$1</em>').replace(/!\[(.*?)\]\((.*?)\)/gim,'<figure class="my-8"><img src="$2" alt="$1" class="w-full rounded-xl shadow-lg border border-gray-800" /><figcaption class="text-center text-gray-500 text-xs mt-2">$1</figcaption></figure>').replace(/\[(.*?)\]\((.*?)\)/gim,'<a href="$2" class="text-primary font-bold hover:underline" target="_blank">$1</a>').replace(/^> (.*$)/gim,'<blockquote class="border-l-4 border-primary pl-6 py-3 my-8 bg-gray-900/50 rounded-r-lg text-lg text-gray-300 italic font-serif">"$1"</blockquote>').replace(/```([\s\S]*?)```/gim,'<pre class="bg-gray-950 p-6 rounded-xl overflow-x-auto my-6 text-sm font-mono text-gray-300 shadow-inner border border-gray-800"><code>$1</code></pre>').replace(/`([^`]+)`/gim,'<code class="bg-gray-800 px-1.5 py-0.5 rounded text-sm font-mono text-primary">$1</code>').replace(/^\- (.*$)/gim,'<li class="ml-4 mb-2">$1</li>').replace(/\n/gim,"<br />")});if(g)return e.jsx("div",{className:"flex-grow flex items-center justify-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!t)return e.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center p-4 min-h-[60vh]",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"404 - Artigo não encontrado"}),e.jsx("p",{className:"text-gray-400 mb-8",children:"O conteúdo que você está procurando não existe ou foi removido."}),e.jsxs(m,{to:"/blog",className:"text-primary font-bold hover:underline flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5"})," Voltar para o Blog"]})]});const n=i(),l=window.location.href;return e.jsxs("div",{className:"animate-fade-in pb-20",children:[e.jsx(k,{title:t.title,description:t.content.substring(0,160).replace(/[#*`]/g,""),image:i()||void 0,article:!0}),e.jsxs("div",{className:"relative h-[400px] md:h-[500px] w-full bg-gray-900 overflow-hidden",children:[n&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:n,alt:t.title,className:"w-full h-full object-cover opacity-60"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark via-dark/50 to-transparent"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full p-4 md:p-8",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs(m,{to:"/blog",className:"inline-flex items-center text-gray-400 hover:text-white mb-6 transition-colors font-bold text-sm",children:[e.jsx(d,{className:"w-4 h-4 mr-2"})," Voltar para Blog"]}),e.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white font-poppins leading-tight mb-6 shadow-black drop-shadow-lg",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-300 font-medium text-sm md:text-base",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-primary"}),t.author_name]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-primary"}),new Date(t.created_at).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"})]}),e.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-full text-xs font-bold uppercase tracking-wider text-gray-400 border border-gray-700",children:"Leitura: 5 min"})]})]})})]}),e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl -mt-10 relative z-10",children:[e.jsx("div",{className:"mb-6",children:e.jsx(N,{items:[{label:"Blog",path:"/blog"},{label:t.title,path:`/blog/${r}`}]})}),e.jsxs("div",{className:"bg-dark rounded-t-3xl border-t border-l border-r border-gray-800 p-6 md:p-12 shadow-2xl",children:[e.jsx("div",{className:"prose prose-invert prose-lg max-w-none prose-headings:font-poppins prose-headings:text-white prose-p:text-gray-300 prose-a:text-primary prose-strong:text-white",children:e.jsx("div",{dangerouslySetInnerHTML:h(t.content)})}),e.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-800",children:[e.jsx("p",{className:"text-gray-400 text-center text-sm font-bold uppercase tracking-widest mb-4",children:"Compartilhe este artigo"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=${l}`,"_blank"),className:"p-3 bg-blue-600/20 text-blue-500 rounded-full hover:bg-blue-600 hover:text-white transition-all",children:e.jsx(b,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>window.open(`https://twitter.com/intent/tweet?url=${l}&text=${t.title}`,"_blank"),className:"p-3 bg-sky-500/20 text-sky-400 rounded-full hover:bg-sky-500 hover:text-white transition-all",children:e.jsx(u,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(l).then(()=>alert("Link copiado!")),className:"p-3 bg-gray-700/50 text-gray-400 rounded-full hover:bg-gray-600 hover:text-white transition-all font-mono text-xs flex items-center justify-center font-bold px-5",children:"Copiar Link"})]})]})]})]})]})};export{T as default};
