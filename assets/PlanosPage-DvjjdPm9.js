import{h as y,a as j,r as p,j as e,b as N,e as w}from"./index-C-vTk-LI.js";import{C as v}from"./CheckCircleIcon-tI7iNNJw.js";import{S as P}from"./SparklesIcon-C9MVGT4_.js";import{S}from"./StarIcon-BZO6Remh.js";import{T as C}from"./TrophyIcon-DxOkJ6e_.js";import{P as A}from"./PaymentModal-DqAhN1x_.js";import{S as k}from"./SEO-C8RfvaRH.js";import"./LockClosedIcon-NS_0qmot.js";const f=({title:a,price:u,numericPrice:l,description:c,features:o,isPopular:n,buttonText:g,icon:b,colorClass:h,onSelect:d,isActive:s,expirationDate:t})=>e.jsxs("div",{className:`relative bg-gray-900 rounded-3xl p-8 border ${n?"border-primary ring-1 ring-primary/30 shadow-2xl shadow-primary/10":"border-gray-800"} flex flex-col h-full transition-all hover:-translate-y-2 duration-300 ${s?"ring-2 ring-green-500/50":""}`,children:[n&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-primary text-dark font-black text-[10px] px-4 py-1 rounded-full uppercase tracking-widest shadow-lg",children:"Mais Vendido"}),e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-6 ${h} bg-opacity-20 border border-opacity-30`,children:b}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:a}),e.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[e.jsx("span",{className:"text-4xl font-black text-white",children:u}),l>0&&e.jsx("span",{className:"text-gray-500 text-sm",children:"/mês"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-8 leading-relaxed",children:c}),e.jsx("ul",{className:"space-y-4 mb-10 flex-grow",children:o.map((i,x)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-300",children:[e.jsx(v,{className:"w-5 h-5 text-green-500 shrink-0 mt-0.5"}),e.jsx("span",{children:i})]},x))}),s&&t&&e.jsx("div",{className:"mb-4 text-center",children:e.jsxs("p",{className:"text-[10px] text-green-400 font-bold uppercase tracking-widest",children:["Renovação em: ",new Date(t).toLocaleDateString()]})}),e.jsx("button",{onClick:()=>d(a.toLowerCase().includes("pro")?"pro":a.toLowerCase().includes("business")?"business":"free",l),disabled:s,className:`w-full py-4 rounded-xl font-bold transition-all shadow-lg flex items-center justify-center gap-2 ${s?"bg-green-500/20 text-green-400 border border-green-500/30":n?"bg-primary text-dark hover:bg-white hover:shadow-primary/40":"bg-gray-800 text-white hover:bg-gray-700"}`,children:s?"Plano Atual Ativo":g})]}),M=()=>{const{profile:a,user:u,refreshProfile:l}=y(),c=j(),[o,n]=p.useState(null),[g,b]=p.useState(0),[h,d]=p.useState(!1),[s,t]=p.useState(null),i=async(r,m)=>{if(!u){c("/login");return}(a==null?void 0:a.plano)!==r&&(m===0?x(r):(n(r),b(m),d(!0)))},x=async r=>{t(null);try{await N.updateUserPlan(a.id,r),await l(),t({message:`Parabéns! Sua assinatura ${r.toUpperCase()} foi ativada por 30 dias.`,type:"success"}),setTimeout(()=>c("/painel"),2500)}catch(m){t({message:"Erro ao atualizar plano: "+w(m),type:"error"})}};return e.jsxs("div",{className:"bg-dark text-white font-sans min-h-screen pb-24",children:[e.jsx(k,{title:"Planos",description:"Escolha o plano ideal para sua carreira musical. Gratuito, Pro e Business com recursos exclusivos."}),e.jsxs("section",{className:"pt-32 pb-20 text-center px-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full max-w-6xl opacity-20 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary rounded-full blur-[120px]"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-secondary rounded-full blur-[120px]"})]}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tight mb-6 font-poppins leading-none",children:"Turbine sua Carreira."}),e.jsx("p",{className:"text-gray-400 text-lg md:text-xl max-w-2xl mx-auto leading-relaxed",children:"Selecione o plano ideal para o seu momento na música."})]})]}),e.jsxs("section",{id:"pricing-plans",className:"container mx-auto px-4",children:[s&&e.jsx("div",{className:`max-w-2xl mx-auto mb-12 p-4 rounded-xl text-center font-bold animate-fade-in ${s.type==="success"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:s.message}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto",children:[e.jsx(f,{title:"Free",price:"Grátis",numericPrice:0,description:"O ponto de partida para novos talentos e palcos.",colorClass:"bg-gray-500",icon:e.jsx(S,{className:"text-gray-400"}),buttonText:"Começar Agora",onSelect:i,isActive:(a==null?void 0:a.plano)==="free",features:["Perfil público básico","Até 5 fotos no portfólio","Agenda simplificada","Contratos padrão"]}),e.jsx(f,{title:"RESONA Pro",price:"R$ 29,90",numericPrice:29.9,isPopular:!0,description:"A escolha dos músicos que buscam profissionalismo.",colorClass:"bg-primary",icon:e.jsx(P,{className:"text-primary"}),buttonText:"Assinar Pro",onSelect:i,isActive:(a==null?void 0:a.plano)==="pro",expirationDate:a==null?void 0:a.plano_expiracao,features:["Selo Verificado","Busca Prioritária","Portfólio Ilimitado","Estatísticas de Visitas","Taxas reduzidas"]}),e.jsx(f,{title:"Business",price:"R$ 79,90",numericPrice:79.9,description:"Para locais e bandas com alto volume de shows.",colorClass:"bg-secondary",icon:e.jsx(C,{className:"text-secondary"}),buttonText:"Assinar Business",onSelect:i,isActive:(a==null?void 0:a.plano)==="business",expirationDate:a==null?void 0:a.plano_expiracao,features:["Destaque Master na Home","Suporte VIP","Conciliação Financeira","Analytics Avançado","Zero taxa de contrato"]})]})]}),o&&e.jsx(A,{isOpen:h,onClose:()=>d(!1),onConfirm:()=>x(o),amount:g,receiverName:`Assinatura RESONNA ${o.toUpperCase()}`})]})};export{M as default};
