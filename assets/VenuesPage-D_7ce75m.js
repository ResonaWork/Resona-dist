import{j as e,u as F,C as O,a as L,e as P,s as R}from"./index-TxEahy0v.js";import{r as t,L as M}from"./vendor-react-Dfcn4nkY.js";import{S as B}from"./SearchIcon-B03xJ86y.js";import{S as U}from"./SEO-D8NxzdIf.js";import{M as $}from"./MapPinIcon-BQRb3GRY.js";import{U as _}from"./UsersIcon-BEKo81ng.js";import{C as D}from"./ChevronRightIcon-CNS3h7cv.js";import{E as q}from"./EmptyState-csibrxEc.js";import{S as G}from"./StarIcon-DEqPwkhs.js";import{B as H}from"./Breadcrumbs-T5g5LrEG.js";import"./vendor-pdf-CuP9pQX9.js";import"./vendor-utils-DmyZJLyO.js";import"./vendor-ui-NgL_OKOJ.js";const Z=()=>e.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-full h-56 bg-gray-700 animate-pulse"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-4 animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-full animate-pulse mb-1"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-5/6 animate-pulse"})]})]}),J=({profile:s})=>{var h,c;const l="https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?q=80&w=2070&auto=format&fit=crop",[b,m]=t.useState(l),[x,p]=t.useState(!1);t.useEffect(()=>{(()=>{var v;const u=(v=s.estabelecimento)==null?void 0:v.foto_capa,y=s.foto_url,j=Date.now(),d=u||y;if(d){const n=u?"estabelecimento":"perfis",g=R.getPublicUrl(n,d);m(g?`${g}?t=${j}`:l)}})()},[s]);const f=((h=s.estabelecimento)==null?void 0:h.descricao)||"Espaço pronto para receber grandes eventos.";return e.jsxs(M,{to:`/estabelecimento/${s.id}`,className:"group relative bg-gray-900 rounded-2xl overflow-hidden border border-gray-800 hover:border-gray-600 transition-all duration-300 hover:-translate-y-1 shadow-lg hover:shadow-2xl hover:shadow-secondary/10 flex flex-col h-full",children:[e.jsxs("div",{className:"relative h-52 sm:h-64 overflow-hidden bg-gray-800",children:[e.jsx("img",{src:b,onError:()=>m(l),alt:s.nome,loading:"lazy",onLoad:()=>p(!0),className:`absolute inset-0 w-full h-full object-cover transition-all duration-700 ease-in-out group-hover:scale-110 ${x?"opacity-100":"opacity-0"}`}),!x&&e.jsx("div",{className:"absolute inset-0 bg-gray-800 animate-pulse z-10"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/20 to-transparent opacity-90"}),((c=s.estabelecimento)==null?void 0:c.capacidade)&&e.jsx("div",{className:"absolute top-4 right-4 z-20",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-[10px] sm:text-xs font-bold bg-secondary/90 text-white backdrop-blur-sm shadow-lg border border-secondary/50",children:[e.jsx(_,{className:"w-3 h-3 mr-1.5"}),s.estabelecimento.capacidade," Pessoas"]})})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow relative -mt-10 sm:-mt-12 z-20",children:[e.jsxs("div",{className:"mb-auto",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white font-poppins mb-1 leading-tight group-hover:text-secondary transition-colors line-clamp-1",children:s.nome}),e.jsxs("div",{className:"flex items-center text-gray-400 text-xs mb-3 font-medium uppercase tracking-wide",children:[e.jsx($,{className:"w-3.5 h-3.5 mr-1 text-secondary"}),e.jsx("span",{className:"truncate",children:s.cidade||"Brasil"})]}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed line-clamp-3",children:f})]}),e.jsxs("div",{className:"mt-5 pt-4 border-t border-gray-800 flex items-center justify-between group/btn",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Ver Detalhes do Local"}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center text-secondary group-hover/btn:bg-secondary group-hover/btn:text-white transition-all duration-300",children:e.jsx(D,{className:"w-4 h-4"})})]})]})]})},w=9,ie=()=>{const{siteConfig:s}=F(),[l,b]=t.useState([]),[m,x]=t.useState(!0),[p,f]=t.useState(!1),[h,c]=t.useState(null),[N,u]=t.useState(0),[y,j]=t.useState(!1),[d,v]=t.useState(0),[n,g]=t.useState(""),[i,C]=t.useState(""),[S,A]=t.useState(""),V=s.homeBackgroundUrl||"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?q=80&w=2070&auto=format&fit=crop";t.useEffect(()=>{const a=setTimeout(()=>A(n),500);return()=>clearTimeout(a)},[n]),t.useEffect(()=>{(async()=>{x(!0),c(null);try{const{data:r,count:o}=await L.getVenues({search:S,city:i,page:0,pageSize:w});b(r),v(o),j(o>w),u(1)}catch(r){c(P(r)),console.error(r)}finally{x(!1)}})()},[S,i]);const z=async()=>{if(!(p||!y)){f(!0);try{const{data:a}=await L.getVenues({search:S,city:i,page:N,pageSize:w});b(o=>[...o,...a]);const r=(N+1)*w;j(r<d),u(o=>o+1)}catch(a){c("Erro ao carregar mais estabelecimentos: "+P(a))}finally{f(!1)}}},E=()=>{g(""),C("")},T=!m&&l.length>0?{"@context":"https://schema.org","@type":"ItemList",name:"Estabelecimentos e Casas de Show",description:"Encontre os melhores locais para tocar. Bares, pubs, casas de show e eventos esperando por música ao vivo.",numberOfItems:d,itemListElement:l.slice(0,10).map((a,r)=>{var o,k,I;return{"@type":"MusicVenue",position:r+1,name:a.nome,url:`https://www.resona.app.br/estabelecimento/${a.id}`,description:((k=(o=a.estabelecimento)==null?void 0:o.descricao)==null?void 0:k.substring(0,200))||`${a.nome} - Casa de show em ${a.cidade||"Brasil"}`,address:{"@type":"PostalAddress",addressLocality:a.cidade||"Brasil"},maximumAttendeeCapacity:(I=a.estabelecimento)==null?void 0:I.capacidade}})}:void 0;return e.jsxs("div",{className:"bg-dark text-white font-sans min-h-screen",children:[e.jsx(U,{title:"Estabelecimentos e Casas de Show | RESONA",description:"Encontre os melhores locais para tocar no Brasil. Bares, pubs, casas de show e eventos esperando por música ao vivo. Cadastre seu local e conecte-se com artistas profissionais.",schema:T}),e.jsxs("section",{className:"relative pt-32 pb-24 flex items-center justify-center text-center px-4 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0 select-none pointer-events-none",children:[e.jsx("img",{src:V,className:"w-full h-full object-cover transition-all duration-700 ease-in-out scale-105",style:{filter:`blur(${s.heroBlur}px)`},alt:"Background"}),e.jsx("div",{className:"absolute inset-0 transition-all duration-500 ease-in-out mix-blend-multiply",style:{backgroundColor:s.heroOverlayColor,opacity:Math.max(s.heroOpacity,.6)}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-dark/50 to-dark"})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-4xl mx-auto space-y-6 animate-fade-in",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tight leading-none drop-shadow-2xl",children:["Encontre o ",e.jsx("span",{className:"text-secondary",children:"Palco Perfeito"})]}),e.jsx("p",{className:"max-w-2xl mx-auto text-lg md:text-xl text-gray-200 font-light leading-relaxed drop-shadow-md",children:"Conecte-se com casas de shows, bares e eventos prontos para receber seu som."})]})]}),e.jsxs("section",{id:"search-results",className:"container mx-auto px-4 sm:px-6 lg:px-8 pb-24 -mt-16 relative z-20",children:[e.jsx(H,{items:[{label:"Estabelecimentos",path:"/estabelecimentos"}]}),e.jsxs("article",{className:"bg-gray-900/60 backdrop-blur-xl p-8 rounded-2xl shadow-xl border border-gray-700/50 mb-8",children:[e.jsx("header",{children:e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4 font-poppins",children:"Encontre o Palco Perfeito para Seu Show"})}),e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("p",{className:"text-gray-300 text-lg leading-relaxed mb-4",children:["Conecte-se com as ",e.jsx("strong",{children:"melhores casas de show, bares e eventos"})," do Brasil através da RESONA. Nossa plataforma reúne ",e.jsx("strong",{children:"centenas de estabelecimentos"}),"prontos para receber música ao vivo. Filtre por cidade, capacidade e tipo de evento para encontrar o local ideal para sua apresentação."]}),e.jsxs("p",{className:"text-gray-400 leading-relaxed",children:["Se você é dono de um estabelecimento, ",e.jsx("strong",{children:"cadastre seu local gratuitamente"}),"e tenha acesso a milhares de artistas profissionais. Com a RESONA, você garante",e.jsx("strong",{children:"contratos seguros"}),", ",e.jsx("strong",{children:"pagamento protegido"})," e suporte completo para transformar seu espaço em referência de música ao vivo."]})]})]}),e.jsx("div",{className:"bg-gray-900/80 backdrop-blur-xl p-6 rounded-2xl shadow-2xl border border-gray-700/50 mb-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-grow w-full lg:w-auto group",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome do local...",value:n,onChange:a=>g(a.target.value),className:"w-full bg-gray-800/50 border border-gray-600 rounded-xl py-3 pl-11 pr-4 text-white focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent transition-all placeholder-gray-500 group-hover:bg-gray-800"}),e.jsx(B,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400 group-focus-within:text-secondary transition-colors"})]}),e.jsxs("div",{className:"relative w-full lg:w-1/3 group",children:[e.jsx("input",{type:"text",placeholder:"Filtrar por Cidade",value:i,onChange:a=>C(a.target.value),className:"w-full bg-gray-800/50 border border-gray-600 rounded-xl py-3 pl-11 pr-4 text-white focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent transition-all placeholder-gray-500 group-hover:bg-gray-800"}),e.jsx($,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400 group-focus-within:text-secondary transition-colors"})]}),(n||i)&&e.jsxs("button",{onClick:E,className:"w-full lg:w-auto px-4 py-3 bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:text-red-300 rounded-xl font-semibold transition-colors flex items-center justify-center gap-2 border border-red-500/20",children:[e.jsx(O,{className:"w-4 h-4"})," ",e.jsx("span",{className:"lg:hidden xl:inline",children:"Limpar"})]})]})}),m?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:Array.from({length:6}).map((a,r)=>e.jsx(Z,{},r))}):h?e.jsx("p",{className:"text-center text-red-400 bg-red-500/10 p-6 rounded-xl border border-red-500/20",children:h}):l.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-end mb-6 px-2",children:e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Resultados ",e.jsxs("span",{className:"text-gray-500 text-sm font-normal ml-2",children:["(",d," encontrados)"]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(a=>e.jsx(J,{profile:a},a.id))}),y&&e.jsx("div",{className:"text-center mt-16",children:e.jsx("button",{onClick:z,disabled:p,className:"bg-gray-800 border border-gray-700 text-white font-bold py-3 px-10 rounded-full hover:bg-gray-700 hover:border-gray-500 transition-all duration-300 disabled:opacity-50 transform hover:scale-105 shadow-lg",children:p?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Carregando..."]}):"Carregar Mais Locais"})})]}):e.jsx("div",{className:"py-12",children:e.jsx(q,{icon:B,title:"Nenhum local encontrado",description:`Não encontramos resultados para "${n}" ${i?`em ${i}`:""}. Tente ajustar os filtros.`,actionLabel:"Limpar Filtros",onAction:E})})]}),e.jsx("section",{className:"py-20 border-t border-gray-800 bg-gray-900/50",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-secondary to-primary rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-secondary/20 transform -rotate-3",children:e.jsx(G,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4 font-poppins",children:"Tem um estabelecimento?"}),e.jsx("p",{className:"text-gray-400 text-lg mb-8 leading-relaxed",children:"Cadastre seu local e conecte-se com artistas profissionais prontos para lotar sua casa."}),e.jsx(M,{to:"/cadastro?tipo=estabelecimento",className:"inline-block bg-white text-dark font-bold py-4 px-10 rounded-full hover:bg-gray-200 transition-all duration-300 shadow-xl hover:shadow-2xl hover:-translate-y-1",children:"Cadastrar Estabelecimento"})]})})})]})};export{ie as default};
