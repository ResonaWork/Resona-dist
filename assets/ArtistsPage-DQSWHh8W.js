import{j as e,u as H,r as a,C as O,b as M,e as z,L as Z,s as P}from"./index-COZr6oUa.js";import{S as q}from"./SearchIcon-CYbvkkvq.js";import{M as D}from"./MapPinIcon-CEFc6rUJ.js";import{S as Q}from"./SEO-BCqgIYpW.js";import{E as J}from"./EmptyState-DL1pPdG5.js";import{M as K}from"./MusicNoteIcon-D-SfetRL.js";import{C as V}from"./ChevronRightIcon-CiS7WmRa.js";import{C as T}from"./CheckCircleIcon-BNVOgBBu.js";import{S as W}from"./SparklesIcon-gf8BCoIq.js";import{C as F}from"./CalendarIcon-kj1KLcuR.js";import{E as X}from"./ExclamationIcon-42o_Tq39.js";const Y=()=>e.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-full h-64 bg-gray-700 animate-pulse"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-4 animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-full animate-pulse mb-1"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-5/6 animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/4 mt-2 animate-pulse"})]})]}),ee=({profile:s,isAvailabilityFilterActive:j})=>{var f,S;const[u,k]=a.useState(!1),[p,m]=a.useState(!1),[h,b]=a.useState(0),[i,w]=a.useState([]),n=s.plano!=="free",x=s.plano==="business";a.useEffect(()=>{(()=>{var c;const r=Date.now(),y=[s.foto_url?`${P.getPublicUrl("perfis",s.foto_url)}?t=${r}`:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?q=80&w=2070&auto=format&fit=crop"];(c=s.artista)!=null&&c.galeria_fotos&&s.artista.galeria_fotos.length>0&&s.artista.galeria_fotos.slice(0,3).forEach(o=>{const v=P.getPublicUrl("artista",o);v&&y.push(`${v}?t=${r}`)}),w(y)})()},[s]),a.useEffect(()=>{let l;return p&&i.length>1?l=setInterval(()=>{b(r=>(r+1)%i.length)},2e3):b(0),()=>clearInterval(l)},[p,i]);const N=((f=s.artista)==null?void 0:f.descricao)||"Artista talentoso pronto para elevar o nível do seu evento.";return e.jsxs(Z,{to:`/artista/${s.id}`,className:`group relative bg-gray-900 rounded-2xl overflow-hidden border transition-all duration-300 hover:-translate-y-1 shadow-lg hover:shadow-2xl flex flex-col h-full ${n?x?"border-yellow-500/50 shadow-yellow-500/10":"border-primary/50 shadow-primary/10":"border-gray-800 hover:border-gray-600"}`,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[n&&e.jsx("div",{className:"absolute top-0 right-0 z-30 p-2",children:e.jsx("div",{className:`p-1 rounded-full backdrop-blur-md border ${x?"bg-yellow-500/20 border-yellow-500/40 text-yellow-500":"bg-primary/20 border-primary/40 text-primary"}`,children:e.jsx(W,{className:"w-3 h-3"})})}),e.jsxs("div",{className:"relative h-52 sm:h-64 overflow-hidden bg-gray-800",children:[e.jsx("div",{className:"w-full h-full relative",children:i.map((l,r)=>e.jsx("img",{src:l,alt:s.nome,loading:"lazy",onLoad:()=>r===0&&k(!0),className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-700 ease-in-out ${r===h?"opacity-100 scale-105":"opacity-0 scale-100"} ${r===0&&!u?"opacity-0":""}`},r))}),!u&&e.jsx("div",{className:"absolute inset-0 bg-gray-800 animate-pulse z-10"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40 to-transparent opacity-90"}),e.jsxs("div",{className:"absolute top-4 left-4 z-20 flex flex-col gap-2",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider backdrop-blur-sm shadow-lg ${n?"bg-primary text-dark":"bg-gray-800/80 text-gray-300 border border-gray-700"}`,children:[e.jsx(K,{className:"w-3 h-3 mr-1"}),((S=s.artista)==null?void 0:S.genero_musical)||"Músico"]}),j&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider bg-green-500 text-dark shadow-lg animate-pulse",children:[e.jsx(T,{className:"w-3 h-3 mr-1"})," Disponível"]})]}),i.length>1&&e.jsx("div",{className:"absolute bottom-14 sm:bottom-16 left-0 right-0 flex justify-center gap-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity",children:i.map((l,r)=>e.jsx("div",{className:`w-1 h-1 rounded-full transition-all duration-300 ${r===h?"bg-white scale-150":"bg-white/40"}`},r))})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow relative -mt-10 sm:-mt-12 z-20",children:[e.jsxs("div",{className:"mb-auto",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-white font-poppins mb-1 leading-tight group-hover:text-primary transition-colors flex items-center gap-2",children:[s.nome,n&&e.jsx(T,{className:`w-4 h-4 ${x?"text-yellow-500":"text-primary"}`})]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-xs mb-3 font-medium uppercase tracking-wide",children:[e.jsx(D,{className:"w-3.5 h-3.5 mr-1 text-primary"}),e.jsx("span",{className:"truncate",children:s.cidade||"Brasil"})]}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed line-clamp-3",children:N})]}),e.jsxs("div",{className:"mt-5 pt-4 border-t border-gray-800 flex items-center justify-between group/btn",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Ver Perfil Completo"}),e.jsx("div",{className:`w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center transition-all duration-300 ${n?"text-primary group-hover/btn:bg-primary group-hover/btn:text-dark":"text-gray-400 group-hover/btn:text-white"}`,children:e.jsx(V,{className:"w-4 h-4"})})]})]})]})},C=8,te=["Rock","Pop","Sertanejo","MPB","Eletrônica","Jazz","Forró","Samba","Rap"],ge=()=>{const{siteConfig:s}=H(),[j,u]=a.useState([]),[k,p]=a.useState(!0),[m,h]=a.useState(!1),[b,i]=a.useState(null),[w,n]=a.useState(0),[x,N]=a.useState(!1),[f,S]=a.useState(0),[l,r]=a.useState(""),[g,y]=a.useState(""),[c,E]=a.useState(""),[o,v]=a.useState(""),[I,_]=a.useState(""),U=s.homeBackgroundUrl||"https://images.unsplash.com/photo-1501612780327-45045538702b?q=80&w=2070&auto=format&fit=crop";a.useEffect(()=>{const t=setTimeout(()=>_(l),500);return()=>clearTimeout(t)},[l]);const A=async()=>{p(!0),i(null);try{const{data:t,count:d}=await M.getArtists({search:I,city:c,genre:g,date:o||void 0,page:0,pageSize:C});u(t),S(d),N(d>C),n(1)}catch(t){i(z(t)),console.error(t)}finally{p(!1)}};a.useEffect(()=>{A()},[I,c,g,o]);const B=async()=>{if(!(m||!x)){h(!0);try{const{data:t}=await M.getArtists({search:I,city:c,genre:g,date:o||void 0,page:w,pageSize:C});u($=>[...$,...t]);const d=(w+1)*C;N(d<f),n($=>$+1)}catch(t){i("Erro ao carregar mais artistas: "+z(t))}finally{h(!1)}}},L=()=>{r(""),y(""),E(""),v("")},R=t=>{y(d=>d===t?"":t)},G=new Date().toLocaleDateString("en-CA");return e.jsxs("div",{className:"bg-dark text-white font-sans min-h-screen",children:[e.jsx(Q,{title:"Artistas",description:"Encontre bandas, músicos solo e talentos para o seu evento. Filtre por gênero, cidade e data."}),e.jsxs("section",{className:"relative pt-32 pb-24 flex items-center justify-center text-center px-4 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0 select-none pointer-events-none",children:[e.jsx("img",{src:U,className:"w-full h-full object-cover transition-all duration-700 ease-in-out scale-105",style:{filter:`blur(${s.heroBlur}px)`},alt:"Background"}),e.jsx("div",{className:"absolute inset-0 transition-all duration-500 ease-in-out mix-blend-multiply",style:{backgroundColor:s.heroOverlayColor,opacity:Math.max(s.heroOpacity,.6)}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-dark/50 to-dark"})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-4xl mx-auto space-y-6 animate-fade-in",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tight leading-none drop-shadow-2xl",children:["Descubra ",e.jsx("span",{className:"text-primary",children:"Talentos"})]}),e.jsx("p",{className:"max-w-2xl mx-auto text-lg md:text-xl text-gray-200 font-light leading-relaxed drop-shadow-md",children:"Encontre bandas e músicos solo filtrando pela data exata do seu evento."})]})]}),e.jsxs("section",{id:"search-results",className:"container mx-auto px-4 sm:px-6 lg:px-8 pb-24 -mt-16 relative z-20",children:[e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-xl p-6 rounded-2xl shadow-2xl border border-gray-700/50 mb-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-center",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:l,onChange:t=>r(t.target.value),className:"w-full bg-gray-800/50 border border-gray-600 rounded-xl py-3 pl-11 pr-4 text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all placeholder-gray-500 group-hover:bg-gray-800"}),e.jsx(q,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400 group-focus-within:text-primary transition-colors"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",placeholder:"Cidade",value:c,onChange:t=>E(t.target.value),className:"w-full bg-gray-800/50 border border-gray-600 rounded-xl py-3 pl-11 pr-4 text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all placeholder-gray-500 group-hover:bg-gray-800"}),e.jsx(D,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400 group-focus-within:text-primary transition-colors"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"date",value:o,min:G,onChange:t=>v(t.target.value),className:"w-full bg-gray-800/50 border border-gray-600 rounded-xl py-3 pl-11 pr-4 text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all group-hover:bg-gray-800 appearance-none"}),e.jsx(F,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400 group-focus-within:text-primary transition-colors"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:L,className:`flex-1 px-4 py-3 bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:text-red-300 rounded-xl font-semibold transition-all border border-red-500/20 flex items-center justify-center gap-2 ${l||c||g||o?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsx(O,{className:"w-4 h-4"})," Limpar"]}),e.jsx("button",{onClick:A,className:"flex-1 px-4 py-3 bg-primary text-dark rounded-xl font-black hover:bg-white transition-all shadow-lg shadow-primary/20",children:"Filtrar"})]})]}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 whitespace-nowrap",children:"Estilos Populares:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:te.map(t=>e.jsx("button",{onClick:()=>R(t),className:`px-4 py-1.5 text-xs rounded-full transition-all border font-bold ${g===t?"bg-primary text-dark border-primary":"bg-gray-800 border-gray-700 text-gray-400 hover:text-white"}`,children:t},t))})]})]}),k?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:Array.from({length:8}).map((t,d)=>e.jsx(Y,{},d))}):b?e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 p-12 rounded-2xl text-center",children:[e.jsx(X,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Erro na busca"}),e.jsx("p",{className:"text-gray-400 max-w-md mx-auto mb-6",children:b}),e.jsx("button",{onClick:A,className:"px-8 py-2 bg-gray-700 rounded-full font-bold hover:bg-gray-600",children:"Tentar Novamente"})]}):j.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center mb-8 px-2 border-b border-gray-800 pb-4",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-5 h-5 text-primary"})," Disponíveis em ",new Date(o).toLocaleDateString("pt-BR",{timeZone:"UTC"})]}):"Todos os Artistas",e.jsxs("span",{className:"text-gray-500 text-sm font-normal",children:["(",f,")"]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:j.map(t=>e.jsx(ee,{profile:t,isAvailabilityFilterActive:!!o},t.id))}),x&&e.jsx("div",{className:"text-center mt-16",children:e.jsx("button",{onClick:B,disabled:m,className:"bg-gray-800 border border-gray-700 text-white font-bold py-3 px-10 rounded-full hover:bg-gray-700 hover:border-gray-500 transition-all duration-300 disabled:opacity-50 transform hover:scale-105 shadow-lg",children:m?"Carregando...":"Carregar Mais Artistas"})})]}):e.jsx("div",{className:"py-12",children:e.jsx(J,{icon:F,title:"Nenhum artista disponível",description:`Infelizmente não encontramos artistas livres para o dia ${o?new Date(o).toLocaleDateString("pt-BR",{timeZone:"UTC"}):""} com os filtros selecionados.`,actionLabel:"Limpar Filtros",onAction:L})})]})]})};export{ge as default};
