import{d as p,j as e,a as o,c as u,m as f,q as y,n as j,v as c}from"./index-B3LDTW8P.js";import{r as i}from"./vendor-react-Dfcn4nkY.js";import"./vendor-jspdf-Bh_S0msn.js";import"./vendor-utils-DmyZJLyO.js";import"./vendor-ui-DKtFGipk.js";const P=()=>{const{user:a,profile:s}=p(),[n,l]=i.useState(null),[x,d]=i.useState(!1),[g,b]=i.useState(""),r=async(m,h)=>{d(!0),b(m),l(null);try{const t=await h();l(t)}catch(t){l({error:t.message,details:t})}finally{d(!1)}};return a?e.jsxs("div",{className:"min-h-screen bg-dark text-white p-6 flex flex-col md:flex-row gap-6",children:[e.jsxs("aside",{className:"w-full md:w-1/3 bg-gray-800 p-4 rounded-lg shadow-lg overflow-y-auto max-h-[90vh]",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-primary font-poppins",children:"Painel de Testes API"}),e.jsxs("div",{className:"mb-4 p-2 bg-gray-900 rounded text-xs text-gray-400",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User ID (Auth):"})," ",a.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Profile ID:"})," ",(s==null?void 0:s.id)||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tipo:"})," ",(s==null?void 0:s.tipo)||"N/A"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"UsuÃ¡rios"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>r("Buscar Meu Perfil (Auth ID)",()=>o.getProfileByAuthId(a.id)),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Meu Perfil Completo"}),e.jsx("button",{onClick:()=>r("Listar Artistas",()=>o.getArtists({page:0,pageSize:5})),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Artistas (Top 5)"}),e.jsx("button",{onClick:()=>r("Listar Estabelecimentos",()=>o.getVenues({page:0,pageSize:5})),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Estabelecimentos"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"Contratos"}),e.jsx("div",{className:"space-y-2",children:e.jsx("button",{onClick:()=>s?r("Listar Meus Contratos",()=>u.listByProfile(s.id,s.tipo)):alert("Perfil nÃ£o carregado"),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Meus Contratos"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"Mensagens"}),e.jsx("div",{className:"space-y-2",children:e.jsx("button",{onClick:()=>s?r("Minhas Conversas",()=>f.getConversations(s.id)):alert("Perfil nÃ£o carregado"),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Minhas Conversas"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"Blog"}),e.jsx("div",{className:"space-y-2",children:e.jsx("button",{onClick:()=>r("Posts Publicados",()=>y.getPublishedPosts({page:0,pageSize:5})),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar Posts"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"NotificaÃ§Ãµes"}),e.jsx("div",{className:"space-y-2",children:e.jsx("button",{onClick:()=>s?r("Minhas NotificaÃ§Ãµes",()=>j.getByUser(s.id)):alert("Perfil nÃ£o carregado"),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Listar NotificaÃ§Ãµes"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-secondary mb-2 border-b border-gray-700 pb-1",children:"Sistema & AI"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>r("Testar ConexÃ£o Gemini AI",()=>c.testAiConnection()),className:"w-full text-left px-3 py-2 bg-gradient-to-r from-purple-900 to-indigo-900 hover:from-purple-800 hover:to-indigo-800 border border-purple-500/30 rounded text-sm text-white",children:"âš¡ Ping Gemini IA"}),e.jsx("button",{onClick:()=>r("Listar Modelos DisponÃ­veis",()=>c.listAvailableModels()),className:"w-full text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm text-gray-300",children:"ðŸ“‹ Listar Modelos AI"})]})]})]})]}),e.jsxs("section",{className:"w-full md:w-2/3 bg-gray-900 p-6 rounded-lg shadow-inner border border-gray-700 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-700 pb-2",children:[e.jsxs("h3",{className:"font-bold text-lg",children:["Resultado: ",g]}),x&&e.jsx("span",{className:"text-yellow-400 animate-pulse",children:"Carregando..."})]}),e.jsx("div",{className:"flex-grow overflow-auto bg-black p-4 rounded text-sm font-mono text-green-400",children:n?e.jsx("pre",{children:JSON.stringify(n,null,2)}):e.jsx("p",{className:"text-gray-500",children:"Clique em um botÃ£o ao lado para testar a API."})})]})]}):e.jsxs("div",{className:"p-8 text-center text-white",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Teste de API"}),e.jsx("p",{className:"text-red-400",children:"VocÃª precisa estar logado para testar a maioria das funÃ§Ãµes da API."}),e.jsx("a",{href:"/#/login",className:"text-primary underline mt-4 block",children:"Ir para Login"})]})};export{P as default};
