import{j as e,x as u,e as b}from"./index-Cc-Lnn9x.js";import{r as s}from"./vendor-react-Dfcn4nkY.js";import{A as o}from"./ActivityIcon-ys33kT0z.js";import{C as d}from"./CheckCircleIcon-DMttEdVL.js";import{S as f}from"./SearchIcon-DH3o1suK.js";import"./vendor-jspdf-Bh_S0msn.js";import"./vendor-utils-DmyZJLyO.js";import"./vendor-ui-DKtFGipk.js";const C=()=>{const[x,p]=s.useState([]),[i,l]=s.useState(!0),[j,h]=s.useState(""),[a,m]=s.useState(""),[r,g]=s.useState(null),c=async()=>{l(!0);try{const t=await u.listLogs();p(t)}catch(t){h(b(t))}finally{l(!1)}};s.useEffect(()=>{c()},[]);const n=x.filter(t=>t.tipo_evento.toLowerCase().includes(a.toLowerCase())||t.provedor.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"text-white animate-fade-in relative pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-12 gap-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-heading-hero mb-3 uppercase",children:["WEBHOOKS ",e.jsx("span",{className:"text-primary italic",children:"DO SISTEMA"})]}),e.jsx("p",{className:"text-section-label text-gray-500",children:"Monitoramento de Sinais de Infraestrutura e Eventos"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("button",{onClick:c,className:"group bg-white text-dark font-black uppercase tracking-[0.2em] text-[10px] py-4 px-10 rounded-2xl transition-all shadow-xl hover:bg-primary hover:text-white active:scale-95 flex items-center gap-3",children:[e.jsx(o,{className:`w-5 h-5 ${i?"animate-spin":"group-hover:rotate-180 transition-transform duration-700"}`})," Sincronizar Eventos"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx("div",{className:"glass-card p-6 rounded-3xl border-white/5 shadow-2xl flex items-center gap-4 group",children:e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{type:"text",placeholder:"IDENTIFICAR SINAL EXTERNO (PROVEDOR, TIPO DE EVENTO)...",value:a,onChange:t=>m(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-[1.2rem] py-4 pl-12 pr-6 focus:outline-none focus:ring-2 focus:ring-primary/50 text-white font-black uppercase tracking-widest text-[10px] transition-all placeholder:text-gray-600 focus:bg-white/10"}),e.jsx(f,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-hover:text-primary transition-colors"})]})}),e.jsx("div",{className:"glass-card rounded-3xl overflow-hidden shadow-2xl border-white/5 h-fit",children:e.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white/[0.02] border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-section-label text-gray-500",children:"Entidade Provedora"}),e.jsx("th",{className:"p-4 text-section-label text-gray-500",children:"Assinatura do Evento"}),e.jsx("th",{className:"p-4 text-section-label text-gray-500",children:"Hora da Recepção"}),e.jsx("th",{className:"p-4 text-section-label text-gray-500 text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-10 text-center text-gray-600 animate-pulse text-[10px] font-black uppercase tracking-widest",children:"Aguardando Pulso..."})}):n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-10 text-center text-gray-600 text-[10px] font-black uppercase tracking-widest",children:"Nenhum sinal detectado neste ciclo."})}):n.map(t=>e.jsxs("tr",{onClick:()=>g(t),className:`cursor-pointer group hover:bg-white/[0.02] transition-colors relative ${(r==null?void 0:r.id)===t.id?"bg-primary/[0.03]":""}`,children:[e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-4 py-1.5 bg-white/5 border border-white/10 rounded-lg text-[9px] font-black text-gray-400 uppercase tracking-widest group-hover:border-primary/30 group-hover:text-white transition-all",children:t.provedor})}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"font-mono text-[11px] text-primary font-black uppercase tracking-tighter group-hover:scale-105 transition-transform origin-left",children:t.tipo_evento})}),e.jsx("td",{className:"p-4 text-[10px] text-gray-600 font-mono font-black uppercase tracking-tighter",children:new Date(t.criado_em).toLocaleString()}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500/10 flex items-center justify-center border border-green-500/20 group-hover:bg-green-500/20 transition-all mx-auto shadow-[0_0_10px_rgba(34,197,94,0.1)]",children:e.jsx(d,{className:"w-3 h-3 text-green-500"})})})]},t.id))})]})})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"glass-card p-10 rounded-3xl border-white/5 shadow-2xl sticky top-24 overflow-hidden group/payload",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-[80px] group-hover/payload:scale-150 transition-transform"}),e.jsxs("h2",{className:"text-xl font-black text-white font-poppins tracking-tighter mb-10 flex items-center gap-4 relative z-10 uppercase",children:[e.jsx(o,{className:"text-primary w-8 h-8"})," Interceptação de Dados"]}),r?e.jsxs("div",{className:"space-y-10 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest mb-4",children:"Payload Ingerido"}),e.jsx("div",{className:"p-6 bg-black/40 rounded-[1.5rem] border border-white/5 font-mono text-[10px] text-primary/80 overflow-x-auto whitespace-pre custom-scrollbar",children:JSON.stringify(r.payload,null,2)})]}),e.jsxs("div",{className:"pt-8 border-t border-white/5",children:[e.jsx("p",{className:"text-[9px] text-gray-600 uppercase font-black tracking-widest mb-2",children:"Trace UUID Interno"}),e.jsx("p",{className:"text-[11px] text-white font-mono opacity-40 truncate",children:r.id})]}),e.jsxs("div",{className:"bg-green-500/5 p-6 rounded-[1.5rem] border border-green-500/10 group-hover:bg-green-500/[0.08] transition-all",children:[e.jsxs("p",{className:"text-[10px] text-green-400 font-black uppercase tracking-[0.2em] mb-3 flex items-center gap-2",children:[e.jsx(d,{className:"w-3.5 h-3.5"})," Consistência de Sincronização"]}),e.jsx("p",{className:"text-[11px] text-gray-400 font-medium leading-premium",children:"O evento foi processado com sucesso pelo ecossistema Resona."})]})]}):e.jsxs("div",{className:"text-center py-20 flex flex-col items-center gap-6 opacity-30 group-hover:opacity-100 transition-opacity",children:[e.jsx(o,{className:"w-16 h-16 text-gray-600"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-gray-600",children:"Aguardando seleção para análise de buffer"})]})]})})]})]})};export{C as default};
